{"ast":null,"code":"import _objectSpread from \"/Users/liuzhao/Documents/Projects/flybird/flybird-web/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport { ref, computed, onMounted, onUnmounted } from 'vue';\nimport ToolbarPanel from './components/ToolbarPanel.vue';\nimport Canvas from './components/Canvas.vue';\nimport PropertyPanel from './components/PropertyPanel.vue';\nimport SaveTemplateDialog from './components/SaveTemplateDialog.vue';\nimport { useTemplateStore } from '@/stores/template';\nimport { useRouter } from 'vue-router';\nimport { useAccountStore } from '@/stores/account';\nexport default {\n  __name: 'index',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const canvas = ref(null);\n    const toolbarRef = ref(null);\n    const selectedElement = ref(null);\n    const dataFields = ref([]);\n    const showSaveDialog = ref(false);\n    const scale = ref(1);\n    const isFullscreen = ref(false);\n\n    // 计算缩放百分比\n    const scalePercentage = computed({\n      get: () => scale.value * 100,\n      set: value => {\n        scale.value = value / 100;\n      }\n    });\n\n    // 增加缩放\n    const increaseScale = () => {\n      if (scale.value < 2) {\n        scale.value = Math.min(2, scale.value + 0.1);\n      }\n    };\n\n    // 减少缩放\n    const decreaseScale = () => {\n      if (scale.value > 0.25) {\n        scale.value = Math.max(0.25, scale.value - 0.1);\n      }\n    };\n    const snackbar = ref({\n      show: false,\n      text: '',\n      color: 'success'\n    });\n    const templateStore = useTemplateStore();\n    const router = useRouter();\n    const accountStore = useAccountStore();\n\n    // 简历名称相关\n    const isEditingName = ref(false);\n    const editingName = ref('');\n    const resumeName = ref('');\n\n    // 初始化简历名称\n    const initResumeName = () => {\n      const userInfo = accountStore.userInfo;\n      resumeName.value = userInfo?.nickname ? `${userInfo.nickname}的简历` : '我的简历';\n    };\n\n    // 开始编辑名称\n    const startEditName = () => {\n      editingName.value = resumeName.value;\n      isEditingName.value = true;\n    };\n\n    // 完成编辑名称\n    const finishEditName = () => {\n      if (editingName.value.trim()) {\n        resumeName.value = editingName.value.trim();\n      }\n      isEditingName.value = false;\n    };\n\n    // 退出编辑器\n    const handleExit = () => {\n      router.push('/resume/list');\n    };\n\n    // 显示消息\n    const showMessage = (text, color = 'success') => {\n      snackbar.value = {\n        show: true,\n        text,\n        color\n      };\n    };\n\n    // 处理元素选择\n    const handleElementSelect = element => {\n      selectedElement.value = element;\n    };\n\n    // 处理数据字段更新\n    const handleDataFieldsUpdate = fields => {\n      dataFields.value = fields;\n    };\n\n    // 处理元素更新\n    const handleElementUpdate = update => {\n      if (canvas.value) {\n        canvas.value.handleElementUpdate(update);\n      }\n    };\n\n    // 预览模板\n    const previewTemplate = () => {\n      // TODO: 实现预览功能\n      showMessage('预览功能开发中');\n    };\n\n    // 处理保存模板\n    const handleSaveTemplate = async formData => {\n      try {\n        const canvasData = canvas.value.getCanvasData();\n        const templateData = _objectSpread(_objectSpread({}, formData), {}, {\n          content: {\n            elements: canvasData.elements\n          }\n        });\n        await templateStore.saveTemplate(templateData);\n        showMessage('保存成功', 'success');\n        showSaveDialog.value = false;\n        // 刷新模板列表\n        toolbarRef.value.refreshTemplates();\n      } catch (error) {\n        showMessage(error.message || '保存失败', 'error');\n      }\n    };\n\n    // 处理模板选择\n    const handleTemplateSelect = async template => {\n      try {\n        // 获取模板详情\n        const templateData = await templateStore.getTemplateDetail(template.id);\n        console.log('模板详情:', templateData);\n\n        // 加载模板内容到画布\n        if (canvas.value && templateData.content) {\n          await canvas.value.loadTemplate(templateData.content);\n          showMessage('模板加载成功', 'success');\n        } else {\n          throw new Error('模板内容为空');\n        }\n      } catch (error) {\n        console.error('加载模板失败:', error);\n        showMessage(error.message || '加载模板失败', 'error');\n      }\n    };\n\n    // 切换全屏\n    const toggleFullscreen = () => {\n      if (!isFullscreen.value) {\n        const canvasContainer = document.querySelector('.canvas-container');\n        if (canvasContainer.requestFullscreen) {\n          canvasContainer.requestFullscreen();\n        } else if (canvasContainer.webkitRequestFullscreen) {\n          canvasContainer.webkitRequestFullscreen();\n        } else if (canvasContainer.msRequestFullscreen) {\n          canvasContainer.msRequestFullscreen();\n        }\n      } else {\n        if (document.exitFullscreen) {\n          document.exitFullscreen();\n        } else if (document.webkitExitFullscreen) {\n          document.webkitExitFullscreen();\n        } else if (document.msExitFullscreen) {\n          document.msExitFullscreen();\n        }\n      }\n    };\n\n    // 监听全屏变化\n    const handleFullscreenChange = () => {\n      isFullscreen.value = !!document.fullscreenElement || !!document.webkitFullscreenElement || !!document.msFullscreenElement;\n    };\n\n    // 撤销/重做状态\n    const canUndo = ref(false);\n    const canRedo = ref(false);\n\n    // 处理撤销\n    const handleUndo = () => {\n      if (canvas.value) {\n        canvas.value.undo();\n      }\n    };\n\n    // 处理重做\n    const handleRedo = () => {\n      if (canvas.value) {\n        canvas.value.redo();\n      }\n    };\n\n    // 更新撤销/重做状态\n    const updateUndoRedoState = state => {\n      canUndo.value = state.canUndo;\n      canRedo.value = state.canRedo;\n    };\n    onMounted(() => {\n      document.addEventListener('fullscreenchange', handleFullscreenChange);\n      document.addEventListener('webkitfullscreenchange', handleFullscreenChange);\n      document.addEventListener('msfullscreenchange', handleFullscreenChange);\n      initResumeName();\n    });\n    onUnmounted(() => {\n      document.removeEventListener('fullscreenchange', handleFullscreenChange);\n      document.removeEventListener('webkitfullscreenchange', handleFullscreenChange);\n      document.removeEventListener('msfullscreenchange', handleFullscreenChange);\n    });\n    const __returned__ = {\n      canvas,\n      toolbarRef,\n      selectedElement,\n      dataFields,\n      showSaveDialog,\n      scale,\n      isFullscreen,\n      scalePercentage,\n      increaseScale,\n      decreaseScale,\n      snackbar,\n      templateStore,\n      router,\n      accountStore,\n      isEditingName,\n      editingName,\n      resumeName,\n      initResumeName,\n      startEditName,\n      finishEditName,\n      handleExit,\n      showMessage,\n      handleElementSelect,\n      handleDataFieldsUpdate,\n      handleElementUpdate,\n      previewTemplate,\n      handleSaveTemplate,\n      handleTemplateSelect,\n      toggleFullscreen,\n      handleFullscreenChange,\n      canUndo,\n      canRedo,\n      handleUndo,\n      handleRedo,\n      updateUndoRedoState,\n      ref,\n      computed,\n      onMounted,\n      onUnmounted,\n      ToolbarPanel,\n      Canvas,\n      PropertyPanel,\n      SaveTemplateDialog,\n      get useTemplateStore() {\n        return useTemplateStore;\n      },\n      get useRouter() {\n        return useRouter;\n      },\n      get useAccountStore() {\n        return useAccountStore;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","computed","onMounted","onUnmounted","ToolbarPanel","Canvas","PropertyPanel","SaveTemplateDialog","useTemplateStore","useRouter","useAccountStore","canvas","toolbarRef","selectedElement","dataFields","showSaveDialog","scale","isFullscreen","scalePercentage","get","value","set","increaseScale","Math","min","decreaseScale","max","snackbar","show","text","color","templateStore","router","accountStore","isEditingName","editingName","resumeName","initResumeName","userInfo","nickname","startEditName","finishEditName","trim","handleExit","push","showMessage","handleElementSelect","element","handleDataFieldsUpdate","fields","handleElementUpdate","update","previewTemplate","handleSaveTemplate","formData","canvasData","getCanvasData","templateData","_objectSpread","content","elements","saveTemplate","refreshTemplates","error","message","handleTemplateSelect","template","getTemplateDetail","id","console","log","loadTemplate","Error","toggleFullscreen","canvasContainer","document","querySelector","requestFullscreen","webkitRequestFullscreen","msRequestFullscreen","exitFullscreen","webkitExitFullscreen","msExitFullscreen","handleFullscreenChange","fullscreenElement","webkitFullscreenElement","msFullscreenElement","canUndo","canRedo","handleUndo","undo","handleRedo","redo","updateUndoRedoState","state","addEventListener","removeEventListener"],"sources":["/Users/liuzhao/Documents/Projects/flybird/flybird-web/src/views/resume-editor/index.vue"],"sourcesContent":["<template>\n  <div class=\"resume-editor\">\n    <!-- 顶部工具栏 -->\n    <div class=\"editor-toolbar\">\n      <div class=\"toolbar-left\">\n        <v-btn\n          icon=\"mdi-arrow-left\"\n          variant=\"text\"\n          density=\"comfortable\"\n          @click=\"handleExit\"\n        ></v-btn>\n        <div class=\"resume-name\" @click=\"startEditName\">\n          <span v-if=\"!isEditingName\">{{ resumeName }}</span>\n          <v-text-field\n            v-else\n            v-model=\"editingName\"\n            density=\"compact\"\n            variant=\"underlined\"\n            hide-details\n            autofocus\n            @blur=\"finishEditName\"\n            @keyup.enter=\"finishEditName\"\n          ></v-text-field>\n        </div>\n      </div>\n      <div class=\"toolbar-center\">\n        <v-btn\n          icon=\"mdi-undo\"\n          variant=\"text\"\n          density=\"comfortable\"\n          :disabled=\"!canUndo\"\n          @click=\"handleUndo\"\n          :title=\"'撤销'\"\n        ></v-btn>\n        <v-btn\n          icon=\"mdi-redo\"\n          variant=\"text\"\n          density=\"comfortable\"\n          :disabled=\"!canRedo\"\n          @click=\"handleRedo\"\n          :title=\"'重做'\"\n        ></v-btn>\n      </div>\n      <div class=\"toolbar-right\">\n        <v-btn\n          color=\"primary\"\n          prepend-icon=\"mdi-content-save\"\n          @click=\"showSaveDialog = true\"\n        >\n          保存模板\n        </v-btn>\n        \n        <v-btn\n          color=\"info\"\n          prepend-icon=\"mdi-eye\"\n          class=\"ml-2\"\n          @click=\"previewTemplate\"\n        >\n          预览\n        </v-btn>\n      </div>\n    </div>\n\n    <div class=\"editor-content\">\n      <!-- 左侧工具面板 -->\n      <ToolbarPanel\n        ref=\"toolbarRef\"\n        @element-dragstart=\"handleElementDragStart\"\n        @template-select=\"handleTemplateSelect\"\n      />\n\n      <!-- 中间画布区域 -->\n      <Canvas\n        ref=\"canvas\"\n        :scale=\"scale\"\n        @element-select=\"handleElementSelect\"\n        @data-fields-update=\"handleDataFieldsUpdate\"\n      />\n\n      <!-- 右侧属性面板 -->\n      <PropertyPanel\n        :selected-element=\"selectedElement\"\n        :data-fields=\"dataFields\"\n        @update=\"handleElementUpdate\"\n      />\n    </div>\n\n    <!-- 底部工具栏 -->\n    <div class=\"editor-footer\">\n      <div class=\"zoom-controls\">\n        <v-btn\n          icon=\"mdi-minus\"\n          variant=\"text\"\n          density=\"comfortable\"\n          @click=\"decreaseScale\"\n          :disabled=\"scale <= 0.25\"\n        ></v-btn>\n        <div class=\"zoom-slider\">\n          <v-slider\n            v-model=\"scalePercentage\"\n            :min=\"25\"\n            :max=\"200\"\n            :step=\"5\"\n            hide-details\n            density=\"compact\"\n            color=\"primary\"\n            track-color=\"grey-lighten-2\"\n          >\n            <template v-slot:append>\n              <div class=\"zoom-text\">{{ Math.round(scalePercentage) }}%</div>\n            </template>\n          </v-slider>\n        </div>\n        <v-btn\n          icon=\"mdi-plus\"\n          variant=\"text\"\n          density=\"comfortable\"\n          @click=\"increaseScale\"\n          :disabled=\"scale >= 2\"\n        ></v-btn>\n      </div>\n      <div class=\"footer-right\">\n        <v-btn\n          :icon=\"isFullscreen ? 'mdi-fullscreen-exit' : 'mdi-fullscreen'\"\n          variant=\"text\"\n          density=\"comfortable\"\n          @click=\"toggleFullscreen\"\n          :title=\"isFullscreen ? '退出全屏' : '全屏显示'\"\n        ></v-btn>\n      </div>\n    </div>\n\n    <!-- 保存模板对话框 -->\n    <SaveTemplateDialog\n      v-model=\"showSaveDialog\"\n      @save=\"handleSaveTemplate\"\n    />\n\n    <!-- 消息提示 -->\n    <v-snackbar\n      v-model=\"snackbar.show\"\n      :color=\"snackbar.color\"\n      :timeout=\"3000\"\n    >\n      {{ snackbar.text }}\n    </v-snackbar>\n  </div>\n</template>\n\n<script setup>\nimport { ref, computed, onMounted, onUnmounted } from 'vue'\nimport ToolbarPanel from './components/ToolbarPanel.vue'\nimport Canvas from './components/Canvas.vue'\nimport PropertyPanel from './components/PropertyPanel.vue'\nimport SaveTemplateDialog from './components/SaveTemplateDialog.vue'\nimport { useTemplateStore } from '@/stores/template'\nimport { useRouter } from 'vue-router'\nimport { useAccountStore } from '@/stores/account'\n\nconst canvas = ref(null)\nconst toolbarRef = ref(null)\nconst selectedElement = ref(null)\nconst dataFields = ref([])\nconst showSaveDialog = ref(false)\nconst scale = ref(1)\nconst isFullscreen = ref(false)\n\n// 计算缩放百分比\nconst scalePercentage = computed({\n  get: () => scale.value * 100,\n  set: (value) => {\n    scale.value = value / 100\n  }\n})\n\n// 增加缩放\nconst increaseScale = () => {\n  if (scale.value < 2) {\n    scale.value = Math.min(2, scale.value + 0.1)\n  }\n}\n\n// 减少缩放\nconst decreaseScale = () => {\n  if (scale.value > 0.25) {\n    scale.value = Math.max(0.25, scale.value - 0.1)\n  }\n}\n\nconst snackbar = ref({\n  show: false,\n  text: '',\n  color: 'success'\n})\n\nconst templateStore = useTemplateStore()\nconst router = useRouter()\nconst accountStore = useAccountStore()\n\n// 简历名称相关\nconst isEditingName = ref(false)\nconst editingName = ref('')\nconst resumeName = ref('')\n\n// 初始化简历名称\nconst initResumeName = () => {\n  const userInfo = accountStore.userInfo\n  resumeName.value = userInfo?.nickname ? `${userInfo.nickname}的简历` : '我的简历'\n}\n\n// 开始编辑名称\nconst startEditName = () => {\n  editingName.value = resumeName.value\n  isEditingName.value = true\n}\n\n// 完成编辑名称\nconst finishEditName = () => {\n  if (editingName.value.trim()) {\n    resumeName.value = editingName.value.trim()\n  }\n  isEditingName.value = false\n}\n\n// 退出编辑器\nconst handleExit = () => {\n  router.push('/resume/list')\n}\n\n// 显示消息\nconst showMessage = (text, color = 'success') => {\n  snackbar.value = {\n    show: true,\n    text,\n    color\n  }\n}\n\n// 处理元素选择\nconst handleElementSelect = (element) => {\n  selectedElement.value = element\n}\n\n// 处理数据字段更新\nconst handleDataFieldsUpdate = (fields) => {\n  dataFields.value = fields\n}\n\n// 处理元素更新\nconst handleElementUpdate = (update) => {\n  if (canvas.value) {\n    canvas.value.handleElementUpdate(update)\n  }\n}\n\n// 预览模板\nconst previewTemplate = () => {\n  // TODO: 实现预览功能\n  showMessage('预览功能开发中')\n}\n\n// 处理保存模板\nconst handleSaveTemplate = async (formData) => {\n  try {\n    const canvasData = canvas.value.getCanvasData()\n    const templateData = {\n      ...formData,\n      content: {\n        elements: canvasData.elements\n      }\n    }\n    await templateStore.saveTemplate(templateData)\n    showMessage('保存成功', 'success')\n    showSaveDialog.value = false\n    // 刷新模板列表\n    toolbarRef.value.refreshTemplates()\n  } catch (error) {\n    showMessage(error.message || '保存失败', 'error')\n  }\n}\n\n// 处理模板选择\nconst handleTemplateSelect = async (template) => {\n  try {\n    // 获取模板详情\n    const templateData = await templateStore.getTemplateDetail(template.id)\n    console.log('模板详情:', templateData)\n    \n    // 加载模板内容到画布\n    if (canvas.value && templateData.content) {\n      await canvas.value.loadTemplate(templateData.content)\n      showMessage('模板加载成功', 'success')\n    } else {\n      throw new Error('模板内容为空')\n    }\n  } catch (error) {\n    console.error('加载模板失败:', error)\n    showMessage(error.message || '加载模板失败', 'error')\n  }\n}\n\n// 切换全屏\nconst toggleFullscreen = () => {\n  if (!isFullscreen.value) {\n    const canvasContainer = document.querySelector('.canvas-container')\n    if (canvasContainer.requestFullscreen) {\n      canvasContainer.requestFullscreen()\n    } else if (canvasContainer.webkitRequestFullscreen) {\n      canvasContainer.webkitRequestFullscreen()\n    } else if (canvasContainer.msRequestFullscreen) {\n      canvasContainer.msRequestFullscreen()\n    }\n  } else {\n    if (document.exitFullscreen) {\n      document.exitFullscreen()\n    } else if (document.webkitExitFullscreen) {\n      document.webkitExitFullscreen()\n    } else if (document.msExitFullscreen) {\n      document.msExitFullscreen()\n    }\n  }\n}\n\n// 监听全屏变化\nconst handleFullscreenChange = () => {\n  isFullscreen.value = !!document.fullscreenElement || \n                      !!document.webkitFullscreenElement || \n                      !!document.msFullscreenElement\n}\n\n// 撤销/重做状态\nconst canUndo = ref(false)\nconst canRedo = ref(false)\n\n// 处理撤销\nconst handleUndo = () => {\n  if (canvas.value) {\n    canvas.value.undo()\n  }\n}\n\n// 处理重做\nconst handleRedo = () => {\n  if (canvas.value) {\n    canvas.value.redo()\n  }\n}\n\n// 更新撤销/重做状态\nconst updateUndoRedoState = (state) => {\n  canUndo.value = state.canUndo\n  canRedo.value = state.canRedo\n}\n\nonMounted(() => {\n  document.addEventListener('fullscreenchange', handleFullscreenChange)\n  document.addEventListener('webkitfullscreenchange', handleFullscreenChange)\n  document.addEventListener('msfullscreenchange', handleFullscreenChange)\n  initResumeName()\n})\n\nonUnmounted(() => {\n  document.removeEventListener('fullscreenchange', handleFullscreenChange)\n  document.removeEventListener('webkitfullscreenchange', handleFullscreenChange)\n  document.removeEventListener('msfullscreenchange', handleFullscreenChange)\n})\n</script>\n\n<style scoped>\n.resume-editor {\n  height: 100vh;\n  display: flex;\n  flex-direction: column;\n  background-color: #f5f5f5;\n}\n\n.editor-toolbar {\n  height: 64px;\n  padding: 0 20px;\n  display: grid;\n  grid-template-columns: 1fr auto 1fr;\n  align-items: center;\n  background-color: #fff;\n  border-bottom: 1px solid #e0e0e0;\n}\n\n.editor-content {\n  flex: 1;\n  display: flex;\n  overflow: hidden;\n}\n\n.editor-footer {\n  height: 48px;\n  padding: 0 20px;\n  display: grid;\n  grid-template-columns: 1fr auto 1fr;\n  align-items: center;\n  background-color: #fff;\n  border-top: 1px solid #e0e0e0;\n}\n\n.zoom-controls {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  padding: 4px;\n  border-radius: 4px;\n  grid-column: 2;\n  justify-self: center;\n}\n\n.footer-right {\n  display: flex;\n  align-items: center;\n  grid-column: 3;\n  justify-self: end;\n}\n\n.zoom-slider {\n  width: 200px;\n  margin: 0 8px;\n}\n\n.zoom-text {\n  min-width: 48px;\n  text-align: center;\n  font-size: 14px;\n  color: #606266;\n}\n\n/* 全屏时的样式 */\n:fullscreen .canvas-container {\n  background: #fff;\n  width: 100vw;\n  height: 100vh;\n}\n\n:-webkit-full-screen .canvas-container {\n  background: #fff;\n  width: 100vw;\n  height: 100vh;\n}\n\n:-ms-fullscreen .canvas-container {\n  background: #fff;\n  width: 100vw;\n  height: 100vh;\n}\n\n.toolbar-left {\n  display: flex;\n  align-items: center;\n  gap: 12px;\n}\n\n.toolbar-right {\n  display: flex;\n  align-items: center;\n}\n\n.resume-name {\n  font-size: 16px;\n  font-weight: 500;\n  color: #333;\n  cursor: pointer;\n  padding: 4px 8px;\n  border-radius: 4px;\n  transition: background-color 0.2s;\n}\n\n.resume-name:hover {\n  background-color: #f5f5f5;\n}\n\n.resume-name :deep(.v-text-field) {\n  width: 200px;\n  font-size: 16px;\n  font-weight: 500;\n}\n\n.toolbar-center {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  justify-self: center;\n}\n\n.toolbar-right {\n  justify-self: end;\n}\n</style> "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}