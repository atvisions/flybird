{"ast":null,"code":"import { ref, computed } from 'vue';\nexport default {\n  __name: 'SingleLayout',\n  props: {\n    config: {\n      type: Object,\n      default: () => ({\n        layout: {\n          type: 'single',\n          columns: 1,\n          gap: '1rem',\n          backgroundColor: '#f5f7fa'\n        }\n      })\n    }\n  },\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const props = __props;\n    const layoutStyle = computed(() => {\n      const {\n        gap,\n        backgroundColor\n      } = props.config.layout;\n      return {\n        gap,\n        backgroundColor\n      };\n    });\n    const components = ref([]);\n    const isDragOver = ref(false);\n    const handleDragEnter = event => {\n      event.preventDefault();\n      event.target.classList.add('drag-over');\n    };\n    const handleDragLeave = event => {\n      event.preventDefault();\n      event.target.classList.remove('drag-over');\n    };\n    const handleDragOver = event => {\n      event.preventDefault();\n    };\n    const handleDrop = event => {\n      event.preventDefault();\n      event.target.classList.remove('drag-over');\n      const componentData = event.dataTransfer.getData('application/json');\n      if (componentData) {\n        try {\n          const component = JSON.parse(componentData);\n          components.value.push(component);\n        } catch (error) {\n          console.error('解析组件数据失败:', error);\n        }\n      }\n    };\n    const __returned__ = {\n      props,\n      layoutStyle,\n      components,\n      isDragOver,\n      handleDragEnter,\n      handleDragLeave,\n      handleDragOver,\n      handleDrop,\n      ref,\n      computed\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","computed","props","__props","layoutStyle","gap","backgroundColor","config","layout","components","isDragOver","handleDragEnter","event","preventDefault","target","classList","add","handleDragLeave","remove","handleDragOver","handleDrop","componentData","dataTransfer","getData","component","JSON","parse","value","push","error","console"],"sources":["/Users/liuzhao/Documents/Projects/flybird/flybird-web/src/views/resume-editor/layouts/SingleLayout.vue"],"sourcesContent":["<template>\n  <div class=\"single-layout\" :style=\"layoutStyle\">\n    <div class=\"layout-column\"\n      :class=\"{ 'drag-over': isDragOver }\"\n      @dragenter=\"handleDragEnter\"\n      @dragleave=\"handleDragLeave\"\n      @dragover=\"handleDragOver\"\n      @drop=\"handleDrop\">\n      <div v-if=\"!components.length\" \n        class=\"column-placeholder\">\n        <v-icon size=\"32\" color=\"rgba(0,0,0,0.2)\">mdi-plus</v-icon>\n        <div class=\"text-body-2 text-medium-emphasis mt-2\">拖拽组件到此处</div>\n      </div>\n      <template v-else>\n        <div v-for=\"(component, index) in components\" \n          :key=\"component.id\"\n          class=\"component-item\">\n          {{ component.name }}\n        </div>\n      </template>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { ref, computed } from 'vue'\n\nconst props = defineProps({\n  config: {\n    type: Object,\n    default: () => ({\n      layout: {\n        type: 'single',\n        columns: 1,\n        gap: '1rem',\n        backgroundColor: '#f5f7fa'\n      }\n    })\n  }\n})\n\nconst layoutStyle = computed(() => {\n  const { gap, backgroundColor } = props.config.layout\n  return {\n    gap,\n    backgroundColor\n  }\n})\n\nconst components = ref([])\nconst isDragOver = ref(false)\n\nconst handleDragEnter = (event) => {\n  event.preventDefault()\n  event.target.classList.add('drag-over')\n}\n\nconst handleDragLeave = (event) => {\n  event.preventDefault()\n  event.target.classList.remove('drag-over')\n}\n\nconst handleDragOver = (event) => {\n  event.preventDefault()\n}\n\nconst handleDrop = (event) => {\n  event.preventDefault()\n  event.target.classList.remove('drag-over')\n  \n  const componentData = event.dataTransfer.getData('application/json')\n  if (componentData) {\n    try {\n      const component = JSON.parse(componentData)\n      components.value.push(component)\n    } catch (error) {\n      console.error('解析组件数据失败:', error)\n    }\n  }\n}\n</script>\n\n<style scoped>\n.single-layout {\n  position: absolute;\n  inset: 0;\n  width: 100%;\n  height: 100%;\n  padding: 20px;\n}\n\n.layout-column {\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  padding: 16px;\n  border: 2px dashed #e4e7ed;\n  border-radius: 8px;\n  transition: all 0.3s;\n}\n\n.layout-column.drag-over {\n  background-color: #ecf5ff !important;\n  border-color: #409eff !important;\n}\n\n.column-placeholder {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  min-height: 120px;\n  background-color: #ffffff;\n  border-radius: 6px;\n  color: rgba(0, 0, 0, 0.4);\n  transition: all 0.3s;\n}\n\n.component-item {\n  padding: 16px;\n  background-color: #ffffff;\n  border: 1px solid #e4e7ed;\n  border-radius: 6px;\n  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.04);\n  transition: all 0.3s;\n}\n\n.component-item:hover {\n  border-color: #409eff !important;\n  box-shadow: 0 2px 12px rgba(64, 158, 255, 0.1) !important;\n}\n</style> "],"mappings":"AAyBA,SAASA,GAAG,EAAEC,QAAQ,QAAQ,KAAI;;;;;;;;;;;;;;;;;;;;IAElC,MAAMC,KAAK,GAAGC,OAAA;IAcd,MAAMC,WAAW,GAAGH,QAAQ,CAAC,MAAM;MACjC,MAAM;QAAEI,GAAG;QAAEC;MAAgB,CAAC,GAAGJ,KAAK,CAACK,MAAM,CAACC,MAAK;MACnD,OAAO;QACLH,GAAG;QACHC;MACF;IACF,CAAC;IAED,MAAMG,UAAU,GAAGT,GAAG,CAAC,EAAE;IACzB,MAAMU,UAAU,GAAGV,GAAG,CAAC,KAAK;IAE5B,MAAMW,eAAe,GAAIC,KAAK,IAAK;MACjCA,KAAK,CAACC,cAAc,CAAC;MACrBD,KAAK,CAACE,MAAM,CAACC,SAAS,CAACC,GAAG,CAAC,WAAW;IACxC;IAEA,MAAMC,eAAe,GAAIL,KAAK,IAAK;MACjCA,KAAK,CAACC,cAAc,CAAC;MACrBD,KAAK,CAACE,MAAM,CAACC,SAAS,CAACG,MAAM,CAAC,WAAW;IAC3C;IAEA,MAAMC,cAAc,GAAIP,KAAK,IAAK;MAChCA,KAAK,CAACC,cAAc,CAAC;IACvB;IAEA,MAAMO,UAAU,GAAIR,KAAK,IAAK;MAC5BA,KAAK,CAACC,cAAc,CAAC;MACrBD,KAAK,CAACE,MAAM,CAACC,SAAS,CAACG,MAAM,CAAC,WAAW;MAEzC,MAAMG,aAAa,GAAGT,KAAK,CAACU,YAAY,CAACC,OAAO,CAAC,kBAAkB;MACnE,IAAIF,aAAa,EAAE;QACjB,IAAI;UACF,MAAMG,SAAS,GAAGC,IAAI,CAACC,KAAK,CAACL,aAAa;UAC1CZ,UAAU,CAACkB,KAAK,CAACC,IAAI,CAACJ,SAAS;QACjC,CAAC,CAAC,OAAOK,KAAK,EAAE;UACdC,OAAO,CAACD,KAAK,CAAC,WAAW,EAAEA,KAAK;QAClC;MACF;IACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}