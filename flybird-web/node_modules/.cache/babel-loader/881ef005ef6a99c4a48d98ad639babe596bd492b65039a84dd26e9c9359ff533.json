{"ast":null,"code":"import { ref } from 'vue';\nimport { CameraIcon, XMarkIcon } from '@heroicons/vue/24/outline';\nexport default {\n  __name: 'AvatarUploadDialog',\n  props: {\n    modelValue: Boolean,\n    loading: Boolean\n  },\n  emits: ['update:modelValue', 'upload'],\n  setup(__props, {\n    expose: __expose,\n    emit: __emit\n  }) {\n    __expose();\n    const props = __props;\n    const emit = __emit;\n    const fileInput = ref(null);\n    const selectedFile = ref(null);\n    const triggerFileInput = () => {\n      fileInput.value?.click();\n    };\n    const handleFileChange = event => {\n      const file = event.target.files[0];\n      if (file) {\n        selectedFile.value = file;\n      }\n    };\n    const handleDrop = event => {\n      const file = event.dataTransfer.files[0];\n      if (file && file.type.startsWith('image/')) {\n        selectedFile.value = file;\n      }\n    };\n    const handleUpload = () => {\n      if (selectedFile.value) {\n        emit('upload', selectedFile.value);\n      }\n    };\n    const close = () => {\n      selectedFile.value = null;\n      emit('update:modelValue', false);\n    };\n    const __returned__ = {\n      props,\n      emit,\n      fileInput,\n      selectedFile,\n      triggerFileInput,\n      handleFileChange,\n      handleDrop,\n      handleUpload,\n      close,\n      ref,\n      get CameraIcon() {\n        return CameraIcon;\n      },\n      get XMarkIcon() {\n        return XMarkIcon;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","CameraIcon","XMarkIcon","props","__props","emit","__emit","fileInput","selectedFile","triggerFileInput","value","click","handleFileChange","event","file","target","files","handleDrop","dataTransfer","type","startsWith","handleUpload","close"],"sources":["/Users/liuzhao/Documents/Projects/flybird/flybird-web/src/views/user/MyProfile/dialogs/AvatarUploadDialog.vue"],"sourcesContent":["<template>\n  <div v-if=\"modelValue\" class=\"modal-overlay\">\n    <div class=\"modal-content\">\n      <div class=\"modal-header\">\n        <h3>上传头像</h3>\n        <button class=\"close-btn\" @click=\"close\">\n          <XMarkIcon class=\"w-5 h-5\" />\n        </button>\n      </div>\n      <div class=\"modal-body\">\n        <!-- 文件选择区域 -->\n        <div class=\"upload-area\">\n          <input\n            ref=\"fileInput\"\n            type=\"file\"\n            accept=\"image/*\"\n            class=\"hidden\"\n            @change=\"handleFileChange\"\n          />\n          <div\n            class=\"drop-zone\"\n            @click=\"triggerFileInput\"\n            @drop.prevent=\"handleDrop\"\n            @dragover.prevent\n          >\n            <div class=\"text-center\">\n              <CameraIcon class=\"w-8 h-8 mx-auto text-gray-400\" />\n              <p class=\"mt-2 text-sm text-gray-500\">点击或拖拽图片到此处上传</p>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div class=\"modal-footer\">\n        <button \n          class=\"btn btn-default\" \n          @click=\"close\"\n          :disabled=\"loading\"\n        >\n          取消\n        </button>\n        <button \n          class=\"btn btn-primary\" \n          @click=\"handleUpload\"\n          :disabled=\"!selectedFile || loading\"\n        >\n          {{ loading ? '上传中...' : '确认' }}\n        </button>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { ref } from 'vue'\nimport { CameraIcon, XMarkIcon } from '@heroicons/vue/24/outline'\n\nconst props = defineProps({\n  modelValue: Boolean,\n  loading: Boolean\n})\n\nconst emit = defineEmits(['update:modelValue', 'upload'])\n\nconst fileInput = ref(null)\nconst selectedFile = ref(null)\n\nconst triggerFileInput = () => {\n  fileInput.value?.click()\n}\n\nconst handleFileChange = (event) => {\n  const file = event.target.files[0]\n  if (file) {\n    selectedFile.value = file\n  }\n}\n\nconst handleDrop = (event) => {\n  const file = event.dataTransfer.files[0]\n  if (file && file.type.startsWith('image/')) {\n    selectedFile.value = file\n  }\n}\n\nconst handleUpload = () => {\n  if (selectedFile.value) {\n    emit('upload', selectedFile.value)\n  }\n}\n\nconst close = () => {\n  selectedFile.value = null\n  emit('update:modelValue', false)\n}\n</script>\n\n<style scoped>\n.modal-overlay {\n  position: fixed;\n  inset: 0;\n  background-color: rgba(0, 0, 0, 0.3);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 50;\n}\n\n.modal-content {\n  position: relative;\n  width: 91.666667%;\n  max-width: 28rem;\n  background-color: white;\n  border-radius: 0.5rem;\n  box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);\n}\n\n.modal-header {\n  padding: 1rem 1.5rem;\n  background-color: #f9fafb;\n  border-bottom: 1px solid #e5e7eb;\n  border-top-left-radius: 0.5rem;\n  border-top-right-radius: 0.5rem;\n}\n\n.modal-header h3 {\n  margin: 0;\n  color: #111827;\n  font-size: 1.125rem;\n  font-weight: 500;\n}\n\n.modal-body {\n  padding: 1.5rem;\n}\n\n.modal-footer {\n  padding: 1rem 1.5rem;\n  background-color: #f9fafb;\n  border-top: 1px solid #e5e7eb;\n  border-bottom-left-radius: 0.5rem;\n  border-bottom-right-radius: 0.5rem;\n  display: flex;\n  justify-content: flex-end;\n  gap: 0.75rem;\n}\n\n.btn {\n  padding: 0.5rem 1rem;\n  font-size: 0.875rem;\n  font-weight: 500;\n  border-radius: 0.375rem;\n  transition: all 0.15s ease-in-out;\n}\n\n.btn-default {\n  color: #374151;\n  background-color: white;\n  border: 1px solid #d1d5db;\n}\n\n.btn-default:not(:disabled):hover {\n  background-color: #f9fafb;\n}\n\n.btn-primary {\n  color: white;\n  background-color: #6366f1;\n  border: 1px solid transparent;\n}\n\n.btn-primary:not(:disabled):hover {\n  background-color: #4f46e5;\n}\n\n.btn:disabled {\n  opacity: 0.5;\n  cursor: not-allowed;\n}\n\n.close-btn {\n  position: absolute;\n  top: 1rem;\n  right: 1rem;\n  padding: 0.25rem;\n  color: #6b7280;\n  background: transparent;\n  border: none;\n  cursor: pointer;\n  transition: color 0.15s ease-in-out;\n}\n\n.close-btn:hover {\n  color: #374151;\n}\n\n.drop-zone {\n  border: 2px dashed #e5e7eb;\n  border-radius: 0.5rem;\n  padding: 2rem;\n  cursor: pointer;\n  transition: all 0.2s;\n}\n\n.drop-zone:hover {\n  border-color: #6366f1;\n  background-color: #f9fafb;\n}\n</style> "],"mappings":"AAqDA,SAASA,GAAG,QAAQ,KAAI;AACxB,SAASC,UAAU,EAAEC,SAAS,QAAQ,2BAA0B;;;;;;;;;;;;;IAEhE,MAAMC,KAAK,GAAGC,OAAA;IAKd,MAAMC,IAAI,GAAGC,MAAA;IAEb,MAAMC,SAAS,GAAGP,GAAG,CAAC,IAAI;IAC1B,MAAMQ,YAAY,GAAGR,GAAG,CAAC,IAAI;IAE7B,MAAMS,gBAAgB,GAAGA,CAAA,KAAM;MAC7BF,SAAS,CAACG,KAAK,EAAEC,KAAK,CAAC;IACzB;IAEA,MAAMC,gBAAgB,GAAIC,KAAK,IAAK;MAClC,MAAMC,IAAI,GAAGD,KAAK,CAACE,MAAM,CAACC,KAAK,CAAC,CAAC;MACjC,IAAIF,IAAI,EAAE;QACRN,YAAY,CAACE,KAAK,GAAGI,IAAG;MAC1B;IACF;IAEA,MAAMG,UAAU,GAAIJ,KAAK,IAAK;MAC5B,MAAMC,IAAI,GAAGD,KAAK,CAACK,YAAY,CAACF,KAAK,CAAC,CAAC;MACvC,IAAIF,IAAI,IAAIA,IAAI,CAACK,IAAI,CAACC,UAAU,CAAC,QAAQ,CAAC,EAAE;QAC1CZ,YAAY,CAACE,KAAK,GAAGI,IAAG;MAC1B;IACF;IAEA,MAAMO,YAAY,GAAGA,CAAA,KAAM;MACzB,IAAIb,YAAY,CAACE,KAAK,EAAE;QACtBL,IAAI,CAAC,QAAQ,EAAEG,YAAY,CAACE,KAAK;MACnC;IACF;IAEA,MAAMY,KAAK,GAAGA,CAAA,KAAM;MAClBd,YAAY,CAACE,KAAK,GAAG,IAAG;MACxBL,IAAI,CAAC,mBAAmB,EAAE,KAAK;IACjC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}