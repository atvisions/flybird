{"ast":null,"code":"import { createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, resolveDynamicComponent as _resolveDynamicComponent, createBlock as _createBlock, createTextVNode as _createTextVNode, normalizeClass as _normalizeClass } from \"vue\";\nconst _hoisted_1 = {\n  key: 0,\n  class: \"fixed inset-0 bg-black/50 z-[100] sm:hidden flex items-end\"\n};\nconst _hoisted_2 = {\n  class: \"absolute bottom-0 left-0 right-0 bg-white rounded-t-2xl p-6 max-h-[85vh] overflow-y-auto\"\n};\nconst _hoisted_3 = {\n  class: \"flex items-center justify-between mb-4\"\n};\nconst _hoisted_4 = {\n  class: \"flex items-center space-x-2\"\n};\nconst _hoisted_5 = {\n  class: \"text-lg font-medium text-gray-900\"\n};\nconst _hoisted_6 = {\n  class: \"grid grid-cols-2 gap-3 pb-6\"\n};\nconst _hoisted_7 = [\"onClick\"];\nconst _hoisted_8 = [\"onClick\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return $props.show ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"div\", _hoisted_4, [$props.currentLevel !== 'main' ? (_openBlock(), _createElementBlock(\"button\", {\n    key: 0,\n    onClick: $setup.handleBack,\n    class: \"text-gray-400 hover:text-gray-500\"\n  }, [_createVNode($setup[\"ChevronLeftIcon\"], {\n    class: \"w-5 h-5\"\n  })])) : _createCommentVNode(\"v-if\", true), _createElementVNode(\"h3\", _hoisted_5, _toDisplayString($setup.getMenuTitle), 1 /* TEXT */)]), _createElementVNode(\"button\", {\n    onClick: _cache[0] || (_cache[0] = $event => _ctx.$emit('update:show', false)),\n    class: \"text-gray-400 hover:text-gray-500\"\n  }, [_createVNode($setup[\"XMarkIcon\"], {\n    class: \"w-5 h-5\"\n  })])]), _createElementVNode(\"div\", _hoisted_6, [_createCommentVNode(\" 主分类导航 \"), $props.currentLevel === 'main' ? (_openBlock(true), _createElementBlock(_Fragment, {\n    key: 0\n  }, _renderList($setup.currentTypeCategories, category => {\n    return _openBlock(), _createElementBlock(\"button\", {\n      key: category.path,\n      onClick: $event => $setup.handleMainCategoryClick(category),\n      class: _normalizeClass([\"flex items-center justify-center px-4 py-4 rounded-xl text-sm font-medium transition-colors\", [$props.currentMainCategory === category.id ? 'bg-blue-50 text-blue-600' : 'bg-gray-50 text-gray-600 hover:bg-gray-100']])\n    }, [(_openBlock(), _createBlock(_resolveDynamicComponent(category.icon), {\n      class: \"w-4 h-4 mr-2\"\n    })), _createTextVNode(\" \" + _toDisplayString(category.name), 1 /* TEXT */)], 10 /* CLASS, PROPS */, _hoisted_7);\n  }), 128 /* KEYED_FRAGMENT */)) : $props.currentLevel === 'sub' ? (_openBlock(), _createElementBlock(_Fragment, {\n    key: 1\n  }, [_createCommentVNode(\" 页面内分类 \"), (_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.currentSubCategories, category => {\n    return _openBlock(), _createElementBlock(\"button\", {\n      key: category.id,\n      onClick: $event => $setup.handleSubCategoryClick(category),\n      class: _normalizeClass([\"flex items-center justify-center px-4 py-4 rounded-xl text-sm font-medium transition-colors\", [$props.currentSubCategory === category.id ? 'bg-blue-50 text-blue-600' : 'bg-gray-50 text-gray-600 hover:bg-gray-100']])\n    }, [(_openBlock(), _createBlock(_resolveDynamicComponent(category.icon), {\n      class: \"w-4 h-4 mr-2\"\n    })), _createTextVNode(\" \" + _toDisplayString(category.name), 1 /* TEXT */)], 10 /* CLASS, PROPS */, _hoisted_8);\n  }), 128 /* KEYED_FRAGMENT */))], 64 /* STABLE_FRAGMENT */)) : _createCommentVNode(\"v-if\", true)])])])) : _createCommentVNode(\"v-if\", true);\n}","map":{"version":3,"names":["key","class","$props","show","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_hoisted_3","_hoisted_4","currentLevel","onClick","$setup","handleBack","_createVNode","_createCommentVNode","_hoisted_5","_toDisplayString","getMenuTitle","_cache","$event","_ctx","$emit","_hoisted_6","_Fragment","_renderList","currentTypeCategories","category","path","handleMainCategoryClick","_normalizeClass","currentMainCategory","id","_createBlock","_resolveDynamicComponent","icon","_createTextVNode","name","_hoisted_7","currentSubCategories","handleSubCategoryClick","currentSubCategory","_hoisted_8"],"sources":["/Users/liuzhao/Documents/Projects/flybird/flybird-web/src/components/portfolio/CategoryMenu.vue"],"sourcesContent":["<template>\n  <div v-if=\"show\" class=\"fixed inset-0 bg-black/50 z-[100] sm:hidden flex items-end\">\n    <div class=\"absolute bottom-0 left-0 right-0 bg-white rounded-t-2xl p-6 max-h-[85vh] overflow-y-auto\">\n      <div class=\"flex items-center justify-between mb-4\">\n        <div class=\"flex items-center space-x-2\">\n          <button \n            v-if=\"currentLevel !== 'main'\"\n            @click=\"handleBack\"\n            class=\"text-gray-400 hover:text-gray-500\"\n          >\n            <ChevronLeftIcon class=\"w-5 h-5\" />\n          </button>\n          <h3 class=\"text-lg font-medium text-gray-900\">\n            {{ getMenuTitle }}\n          </h3>\n        </div>\n        <button @click=\"$emit('update:show', false)\" class=\"text-gray-400 hover:text-gray-500\">\n          <XMarkIcon class=\"w-5 h-5\" />\n        </button>\n      </div>\n      <div class=\"grid grid-cols-2 gap-3 pb-6\">\n        <!-- 主分类导航 -->\n        <template v-if=\"currentLevel === 'main'\">\n          <button\n            v-for=\"category in currentTypeCategories\"\n            :key=\"category.path\"\n            @click=\"handleMainCategoryClick(category)\"\n            class=\"flex items-center justify-center px-4 py-4 rounded-xl text-sm font-medium transition-colors\"\n            :class=\"[\n              currentMainCategory === category.id\n                ? 'bg-blue-50 text-blue-600'\n                : 'bg-gray-50 text-gray-600 hover:bg-gray-100'\n            ]\"\n          >\n            <component :is=\"category.icon\" class=\"w-4 h-4 mr-2\" />\n            {{ category.name }}\n          </button>\n        </template>\n\n        <!-- 页面内分类 -->\n        <template v-else-if=\"currentLevel === 'sub'\">\n          <button\n            v-for=\"category in currentSubCategories\"\n            :key=\"category.id\"\n            @click=\"handleSubCategoryClick(category)\"\n            class=\"flex items-center justify-center px-4 py-4 rounded-xl text-sm font-medium transition-colors\"\n            :class=\"[\n              currentSubCategory === category.id\n                ? 'bg-blue-50 text-blue-600'\n                : 'bg-gray-50 text-gray-600 hover:bg-gray-100'\n            ]\"\n          >\n            <component :is=\"category.icon\" class=\"w-4 h-4 mr-2\" />\n            {{ category.name }}\n          </button>\n        </template>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { computed } from 'vue'\nimport { useRouter } from 'vue-router'\nimport { ChevronLeftIcon, XMarkIcon } from '@heroicons/vue/24/outline'\n\nconst props = defineProps({\n  show: Boolean,\n  currentLevel: String,\n  currentMainCategory: String,\n  currentSubCategory: String,\n  currentThirdCategory: String,\n  type: String,\n  categories: {\n    type: Array,\n    required: true\n  }\n})\n\nconst emit = defineEmits([\n  'update:show',\n  'update:currentLevel',\n  'update:currentMainCategory',\n  'update:currentSubCategory',\n  'update:currentThirdCategory',\n  'category-change'\n])\n\n// 获取菜单标题\nconst getMenuTitle = computed(() => {\n  if (props.currentLevel === 'main') return '选择分类'\n  if (props.currentLevel === 'sub') {\n    const mainCategory = props.categories.find(c => c.id === props.currentMainCategory)\n    return mainCategory?.name || '选择分类'\n  }\n  return ''\n})\n\n// 获取当前类型的分类数据\nconst currentTypeCategories = computed(() => {\n  return props.categories\n})\n\n// 获取当前子分类\nconst currentSubCategories = computed(() => {\n  const mainCategory = props.categories.find(c => c.id === props.currentMainCategory)\n  return mainCategory?.children || []\n})\n\n// 处理主分类点击\nconst handleMainCategoryClick = (category) => {\n  emit('category-change', category.id, 'main')\n  if (category.id !== 'all') {\n    emit('update:currentLevel', 'sub')\n  } else {\n    emit('update:show', false)\n  }\n}\n\n// 处理页面内分类点击\nconst handleSubCategoryClick = (category) => {\n  emit('category-change', category.id, 'sub')\n  emit('update:show', false)\n}\n\nconst handleBack = () => {\n  if (props.currentLevel === 'third') {\n    emit('update:currentLevel', 'sub')\n    emit('update:currentSubCategory', '')\n  } else if (props.currentLevel === 'sub') {\n    emit('update:currentLevel', 'main')\n    emit('update:currentMainCategory', 'all')\n  }\n}\n</script> "],"mappings":";;EAAAA,GAAA;EACmBC,KAAK,EAAC;;;EAChBA,KAAK,EAAC;AAA0F;;EAC9FA,KAAK,EAAC;AAAwC;;EAC5CA,KAAK,EAAC;AAA6B;;EAQlCA,KAAK,EAAC;AAAmC;;EAQ5CA,KAAK,EAAC;AAA6B;mBApB9C;mBAAA;;SACaC,MAAA,CAAAC,IAAI,I,cAAfC,mBAAA,CAyDM,OAzDNC,UAyDM,GAxDJC,mBAAA,CAuDM,OAvDNC,UAuDM,GAtDJD,mBAAA,CAgBM,OAhBNE,UAgBM,GAfJF,mBAAA,CAWM,OAXNG,UAWM,GATIP,MAAA,CAAAQ,YAAY,e,cADpBN,mBAAA,CAMS;IAXnBJ,GAAA;IAOaW,OAAK,EAAEC,MAAA,CAAAC,UAAU;IAClBZ,KAAK,EAAC;MAENa,YAAA,CAAmCF,MAAA;IAAlBX,KAAK,EAAC;EAAS,G,KAV5Cc,mBAAA,gBAYUT,mBAAA,CAEK,MAFLU,UAEK,EAAAC,gBAAA,CADAL,MAAA,CAAAM,YAAY,iB,GAGnBZ,mBAAA,CAES;IAFAK,OAAK,EAAAQ,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAAEC,IAAA,CAAAC,KAAK;IAAwBrB,KAAK,EAAC;MACjDa,YAAA,CAA6BF,MAAA;IAAlBX,KAAK,EAAC;EAAS,G,KAG9BK,mBAAA,CAoCM,OApCNiB,UAoCM,GAnCJR,mBAAA,WAAc,EACEb,MAAA,CAAAQ,YAAY,e,kBAC1BN,mBAAA,CAaSoB,SAAA;IApCnBxB,GAAA;EAAA,GAAAyB,WAAA,CAwB+Bb,MAAA,CAAAc,qBAAqB,EAAjCC,QAAQ;yBADjBvB,mBAAA,CAaS;MAXNJ,GAAG,EAAE2B,QAAQ,CAACC,IAAI;MAClBjB,OAAK,EAAAS,MAAA,IAAER,MAAA,CAAAiB,uBAAuB,CAACF,QAAQ;MACxC1B,KAAK,EA3BjB6B,eAAA,EA2BkB,6FAA6F,GAC3E5B,MAAA,CAAA6B,mBAAmB,KAAKJ,QAAQ,CAACK,EAAE,G;uBAM3DC,YAAA,CAAsDC,wBAlClE,CAkC4BP,QAAQ,CAACQ,IAAI;MAAElC,KAAK,EAAC;IAAc,KAlC/DmC,gBAAA,CAkCkE,GACtD,GAAAnB,gBAAA,CAAGU,QAAQ,CAACU,IAAI,iB,yBAnC5BC,UAAA;mCAwC6BpC,MAAA,CAAAQ,YAAY,c,cAAjCN,mBAAA,CAeWoB,SAAA;IAvDnBxB,GAAA;EAAA,IAuCQe,mBAAA,WAAc,G,kBAEZX,mBAAA,CAaSoB,SAAA,QAtDnBC,WAAA,CA0C+Bb,MAAA,CAAA2B,oBAAoB,EAAhCZ,QAAQ;yBADjBvB,mBAAA,CAaS;MAXNJ,GAAG,EAAE2B,QAAQ,CAACK,EAAE;MAChBrB,OAAK,EAAAS,MAAA,IAAER,MAAA,CAAA4B,sBAAsB,CAACb,QAAQ;MACvC1B,KAAK,EA7CjB6B,eAAA,EA6CkB,6FAA6F,GAC3E5B,MAAA,CAAAuC,kBAAkB,KAAKd,QAAQ,CAACK,EAAE,G;uBAM1DC,YAAA,CAAsDC,wBApDlE,CAoD4BP,QAAQ,CAACQ,IAAI;MAAElC,KAAK,EAAC;IAAc,KApD/DmC,gBAAA,CAoDkE,GACtD,GAAAnB,gBAAA,CAAGU,QAAQ,CAACU,IAAI,iB,yBArD5BK,UAAA;gEAAA3B,mBAAA,e,SAAAA,mBAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}