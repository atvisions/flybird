{"ast":null,"code":"import _objectSpread from \"/Users/liuzhao/Documents/Projects/flybird/flybird-web/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport \"core-js/modules/esnext.iterator.constructor.js\";\nimport \"core-js/modules/esnext.iterator.find.js\";\nimport { ref, computed, onMounted, onUnmounted, watch } from 'vue';\nimport { useRouter, useRoute } from 'vue-router';\nimport { useStore } from 'vuex';\nimport { showToast } from '@/components/ToastMessage';\nimport defaultAvatarImage from '@/assets/images/default-avatar.png';\nimport navigation from '@/config/navigation.json';\nimport { MEDIA_URL } from '@/config';\nimport { eventBus } from '@/utils/eventBus';\nimport { authService } from '@/services/authService';\nimport { useLogout } from '@/composables/useLogout';\nimport { API_URL } from '@/config';\n\n// 导入所需的图标\nimport { AcademicCapIcon, BookOpenIcon, BriefcaseIcon, ChartBarIcon, ComputerDesktopIcon, DocumentTextIcon, LightBulbIcon, PencilIcon, UserIcon, Cog6ToothIcon, ArrowRightOnRectangleIcon, HomeIcon, DocumentDuplicateIcon, StarIcon, BellIcon, HeartIcon, ShieldCheckIcon, UserCircleIcon, WrenchScrewdriverIcon } from '@heroicons/vue/24/outline';\n\n// 添加图标映射函数\n\nexport default {\n  __name: 'HeadView',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const getIcon = menuKey => {\n      const iconMap = {\n        // 主导航图标\n        'home': HomeIcon,\n        'resume': DocumentDuplicateIcon,\n        'resources': BookOpenIcon,\n        'pro': StarIcon,\n        // 用户菜单图标\n        'profile': UserCircleIcon,\n        'resumes': DocumentTextIcon,\n        'favorites': HeartIcon,\n        'notifications': BellIcon,\n        'settings': Cog6ToothIcon,\n        'security': ShieldCheckIcon,\n        'account': WrenchScrewdriverIcon,\n        'logout': ArrowRightOnRectangleIcon,\n        // 资源分类图标\n        'templates': DocumentDuplicateIcon,\n        'guides': LightBulbIcon,\n        'tools': ComputerDesktopIcon,\n        'career': BriefcaseIcon,\n        'education': AcademicCapIcon,\n        'statistics': ChartBarIcon,\n        'editor': PencilIcon\n      };\n      return iconMap[menuKey] || UserIcon; // 默认返回 UserIcon\n    };\n\n    // 将 getIcon 添加到模板中使用\n    const icons = {\n      getIcon\n    };\n\n    // 状态管理\n    const router = useRouter();\n    const route = useRoute();\n    const store = useStore();\n    const mobileMenuOpen = ref(false);\n    const userMenuOpen = ref(false);\n    const resourceMenuOpen = ref(false);\n    const mobileSubmenuOpen = ref({});\n    const userBasicInfo = ref(null);\n\n    // 使用 useLogout composable\n    const {\n      handleLogout\n    } = useLogout();\n\n    // 监听 store 中的用户信息变化\n    watch(() => store.state.userInfo, newUserInfo => {\n      if (newUserInfo?.data?.basic_info) {\n        userBasicInfo.value = _objectSpread(_objectSpread({}, newUserInfo.data.basic_info), newUserInfo.data.user);\n      }\n    }, {\n      immediate: true,\n      deep: true\n    });\n\n    // 响应式计算\n    const isMobile = computed(() => {\n      return window.innerWidth < 1024;\n    });\n\n    // 统一的菜单关闭处理\n    const closeMenus = e => {\n      if (!e.target.closest('.resource-menu')) {\n        resourceMenuOpen.value = false;\n      }\n      if (!e.target.closest('.user-menu')) {\n        userMenuOpen.value = false;\n      }\n    };\n\n    // 移动端菜单开关\n    const toggleMenu = () => {\n      mobileMenuOpen.value = !mobileMenuOpen.value;\n      if (mobileMenuOpen.value) {\n        userMenuOpen.value = false;\n        resourceMenuOpen.value = false;\n        mobileSubmenuOpen.value = {};\n      }\n    };\n\n    // 移动端子菜单开关\n    const toggleMobileSubmenu = categoryName => {\n      mobileSubmenuOpen.value[categoryName] = !mobileSubmenuOpen.value[categoryName];\n    };\n\n    // 处理菜单点击\n    const handleMenuClick = key => {\n      userMenuOpen.value = false;\n      router.push({\n        path: '/user',\n        query: {\n          tab: key\n        }\n      });\n    };\n\n    // 判断当前路由是否匹配\n    const isCurrentRoute = href => {\n      return route.path === href;\n    };\n    // 获取资源分类\n    const getResourceCategories = computed(() => {\n      const resourceMenu = navigation.main.find(item => item.name === '职场资源');\n      return resourceMenu?.children || [];\n    });\n\n    // 从 store 获取用户信息和认证状态\n    const isAuthenticated = computed(() => store.state.isAuthenticated);\n\n    // 用户昵称计算属性\n    const username = computed(() => {\n      const username = store.state.userInfo?.data?.user?.username;\n      return username || '未设置昵称';\n    });\n\n    // 头像 URL 计算属性\n    const avatarUrl = computed(() => {\n      const avatar = store.state.userInfo?.data?.basic_info?.avatar;\n      if (!avatar) return defaultAvatarImage;\n      if (avatar.startsWith('http') || avatar.startsWith('data:')) {\n        return avatar;\n      }\n      return `${API_URL}${avatar}`;\n    });\n\n    // 获取用户信息的函数\n    const fetchUserInfo = async () => {\n      if (store.state.isAuthenticated) {\n        try {\n          await store.dispatch('fetchUserInfo');\n          userBasicInfo.value = _objectSpread(_objectSpread({}, store.state.userInfo?.data?.basic_info), store.state.userInfo?.data?.user);\n        } catch (error) {\n          console.error('Failed to fetch user info:', error);\n        }\n      }\n    };\n\n    // 添加 watch 来监控数据变化\n    watch(() => store.state.basicInfo, newVal => {}, {\n      deep: true\n    });\n    watch(() => store.state.userInfo, newVal => {}, {\n      deep: true\n    });\n\n    // 生命周期钩子\n    onMounted(async () => {\n      document.addEventListener('click', closeMenus);\n      window.addEventListener('resize', () => {\n        if (!isMobile.value) {\n          mobileMenuOpen.value = false;\n        }\n      });\n      if (store.state.isAuthenticated) {\n        try {\n          await fetchUserInfo();\n        } catch (error) {\n          console.error('Failed to fetch user info:', error);\n          if (error.response?.status === 401) {\n            store.commit('SET_LOGGED_IN', false);\n          }\n        }\n      }\n      eventBus.on('avatar-updated', handleAvatarUpdate);\n    });\n\n    // 保持原有的事件清理\n    onUnmounted(() => {\n      eventBus.off('avatar-updated', handleAvatarUpdate);\n    });\n\n    // 将 resize 处理函数提取出来\n    const handleResize = () => {\n      if (!isMobile.value) {\n        mobileMenuOpen.value = false;\n      }\n    };\n\n    // 简化头像更新处理方法\n    const handleAvatarUpdate = newAvatar => {\n      store.commit('SET_USER_INFO', _objectSpread(_objectSpread({}, store.state.userInfo), {}, {\n        data: _objectSpread(_objectSpread({}, store.state.userInfo?.data), {}, {\n          basic_info: _objectSpread(_objectSpread({}, store.state.userInfo?.data?.basic_info), {}, {\n            avatar: newAvatar\n          })\n        })\n      }));\n    };\n\n    // 监听登录状态变化\n    watch(() => store.state.isAuthenticated, newValue => {\n      if (newValue) {\n        fetchUserInfo();\n      } else {\n        userBasicInfo.value = null;\n      }\n    }, {\n      immediate: true\n    });\n\n    // 监听头像更新\n    watch(() => store.state.avatarUpdateTime, () => {\n      if (store.state.isAuthenticated) {\n        fetchUserInfo();\n      }\n    });\n\n    // 处理图片加载错误\n    const handleImageError = e => {\n      e.target.src = defaultAvatarImage;\n    };\n\n    // 用户类型\n    const userType = computed(() => '普通用户');\n\n    // 手机号脱敏处理\n    const maskedPhone = computed(() => '');\n\n    // 用户菜单选项\n    const userMenuItems = computed(() => {\n      return [{\n        key: 'profile',\n        label: '我的档案',\n        icon: 'profile',\n        action: () => router.push('/user?tab=profile')\n      }, {\n        key: 'resumes',\n        label: '我的简历',\n        icon: 'resumes',\n        action: () => router.push('/user?tab=resumes')\n      }, {\n        key: 'favorites',\n        label: '我的收藏',\n        icon: 'favorites',\n        action: () => router.push('/user/favorites')\n      }, {\n        key: 'notifications',\n        label: '消息通知',\n        icon: 'notifications',\n        action: () => router.push('/user/notifications')\n      }, {\n        key: 'settings',\n        label: '账号设置',\n        icon: 'settings',\n        action: () => router.push('/user?tab=account')\n      }, {\n        key: 'logout',\n        label: '退出登录',\n        icon: 'logout',\n        action: handleLogout\n      }];\n    });\n\n    // 导航菜单\n    const navItems = computed(() => {\n      const items = [{\n        label: '首页',\n        path: '/'\n      }, {\n        label: '关于我们',\n        path: '/about'\n      }, {\n        label: '联系我们',\n        path: '/contact'\n      }];\n      if (store.getters.getUserInfo?.role === 'admin') {\n        items.push({\n          label: '管理后台',\n          path: '/admin'\n        });\n      }\n      return items;\n    });\n    const __returned__ = {\n      getIcon,\n      icons,\n      router,\n      route,\n      store,\n      mobileMenuOpen,\n      userMenuOpen,\n      resourceMenuOpen,\n      mobileSubmenuOpen,\n      userBasicInfo,\n      handleLogout,\n      isMobile,\n      closeMenus,\n      toggleMenu,\n      toggleMobileSubmenu,\n      handleMenuClick,\n      isCurrentRoute,\n      getResourceCategories,\n      isAuthenticated,\n      username,\n      avatarUrl,\n      fetchUserInfo,\n      handleResize,\n      handleAvatarUpdate,\n      handleImageError,\n      userType,\n      maskedPhone,\n      userMenuItems,\n      navItems,\n      ref,\n      computed,\n      onMounted,\n      onUnmounted,\n      watch,\n      get useRouter() {\n        return useRouter;\n      },\n      get useRoute() {\n        return useRoute;\n      },\n      get useStore() {\n        return useStore;\n      },\n      get showToast() {\n        return showToast;\n      },\n      get defaultAvatarImage() {\n        return defaultAvatarImage;\n      },\n      get navigation() {\n        return navigation;\n      },\n      get MEDIA_URL() {\n        return MEDIA_URL;\n      },\n      get eventBus() {\n        return eventBus;\n      },\n      get authService() {\n        return authService;\n      },\n      get useLogout() {\n        return useLogout;\n      },\n      get API_URL() {\n        return API_URL;\n      },\n      get AcademicCapIcon() {\n        return AcademicCapIcon;\n      },\n      get BookOpenIcon() {\n        return BookOpenIcon;\n      },\n      get BriefcaseIcon() {\n        return BriefcaseIcon;\n      },\n      get ChartBarIcon() {\n        return ChartBarIcon;\n      },\n      get ComputerDesktopIcon() {\n        return ComputerDesktopIcon;\n      },\n      get DocumentTextIcon() {\n        return DocumentTextIcon;\n      },\n      get LightBulbIcon() {\n        return LightBulbIcon;\n      },\n      get PencilIcon() {\n        return PencilIcon;\n      },\n      get UserIcon() {\n        return UserIcon;\n      },\n      get Cog6ToothIcon() {\n        return Cog6ToothIcon;\n      },\n      get ArrowRightOnRectangleIcon() {\n        return ArrowRightOnRectangleIcon;\n      },\n      get HomeIcon() {\n        return HomeIcon;\n      },\n      get DocumentDuplicateIcon() {\n        return DocumentDuplicateIcon;\n      },\n      get StarIcon() {\n        return StarIcon;\n      },\n      get BellIcon() {\n        return BellIcon;\n      },\n      get HeartIcon() {\n        return HeartIcon;\n      },\n      get ShieldCheckIcon() {\n        return ShieldCheckIcon;\n      },\n      get UserCircleIcon() {\n        return UserCircleIcon;\n      },\n      get WrenchScrewdriverIcon() {\n        return WrenchScrewdriverIcon;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","computed","onMounted","onUnmounted","watch","useRouter","useRoute","useStore","showToast","defaultAvatarImage","navigation","MEDIA_URL","eventBus","authService","useLogout","API_URL","AcademicCapIcon","BookOpenIcon","BriefcaseIcon","ChartBarIcon","ComputerDesktopIcon","DocumentTextIcon","LightBulbIcon","PencilIcon","UserIcon","Cog6ToothIcon","ArrowRightOnRectangleIcon","HomeIcon","DocumentDuplicateIcon","StarIcon","BellIcon","HeartIcon","ShieldCheckIcon","UserCircleIcon","WrenchScrewdriverIcon","getIcon","menuKey","iconMap","icons","router","route","store","mobileMenuOpen","userMenuOpen","resourceMenuOpen","mobileSubmenuOpen","userBasicInfo","handleLogout","state","userInfo","newUserInfo","data","basic_info","value","_objectSpread","user","immediate","deep","isMobile","window","innerWidth","closeMenus","e","target","closest","toggleMenu","toggleMobileSubmenu","categoryName","handleMenuClick","key","push","path","query","tab","isCurrentRoute","href","getResourceCategories","resourceMenu","main","find","item","name","children","isAuthenticated","username","avatarUrl","avatar","startsWith","fetchUserInfo","dispatch","error","console","basicInfo","newVal","document","addEventListener","response","status","commit","on","handleAvatarUpdate","off","handleResize","newAvatar","newValue","avatarUpdateTime","handleImageError","src","userType","maskedPhone","userMenuItems","label","icon","action","navItems","items","getters","getUserInfo","role"],"sources":["/Users/liuzhao/Documents/Projects/flybird/flybird-web/src/components/HeadView.vue"],"sourcesContent":["<template>\n  <header class=\"fixed w-full top-0 z-50 bg-white shadow\">\n    <!-- 主导航栏 -->\n    <nav class=\"mx-auto flex max-w-7xl items-center justify-between p-4 lg:px-8\" aria-label=\"Global\">\n      <!-- Logo 区域 -->\n      <div class=\"flex-shrink-0 flex items-center\">\n        <router-link to=\"/\" class=\"flex items-center space-x-2\">\n          <img src=\"@/assets/images/logo.png\" alt=\"\" class=\"w-8 h-8\">\n          <span class=\"text-gray-500 text-xl whitespace-nowrap\">飞鸟简历</span>\n        </router-link>\n      </div>\n\n      <!-- 桌面端导航菜单 -->\n      <div class=\"hidden lg:flex lg:gap-x-12\">\n        <template v-for=\"item in navigation.main\" :key=\"item.name\">\n          <!-- 普通菜单项 -->\n          <router-link v-if=\"!item.children\" :to=\"item.href\" :class=\"[\n            'text-base  leading-6',\n            isCurrentRoute(item.href)\n              ? 'text-indigo-600 font-semibold'\n              : 'text-gray-900 hover:text-indigo-600'\n          ]\">\n            {{ item.name }}\n          </router-link>\n\n          <!-- 带下拉菜单的项 -->\n          <div v-else class=\"relative resource-menu\">\n            <button @click.stop=\"resourceMenuOpen = !resourceMenuOpen\"\n              class=\"flex items-center text-base leading-6 text-gray-900 hover:text-indigo-600\">\n              {{ item.name }}\n              <svg class=\"h-5 w-5 ml-1\" :class=\"{ 'rotate-180': resourceMenuOpen }\" viewBox=\"0 0 20 20\"\n                fill=\"currentColor\">\n                <path fill-rule=\"evenodd\"\n                  d=\"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z\"\n                  clip-rule=\"evenodd\" />\n              </svg>\n            </button>\n\n            <!-- 下拉菜单内容 -->\n            <div v-if=\"resourceMenuOpen\" class=\"absolute left-1/2  mt-3 w-screen max-w-7xl -translate-x-1/2 z-[100]\"\n              style=\"position: fixed; top: 64px; left: 50%;\">\n              <div class=\"bg-white shadow-lg ring-1 ring-gray-900/5\">\n                <div class=\"grid grid-cols-4 gap-8 p-8\">\n                  <!-- 遍历主要分类 -->\n                  <template v-for=\"category in getResourceCategories\" :key=\"category.name\">\n                    <div>\n                      <h3 class=\"text-base font-medium text-gray-900 mb-4\">{{ category.name }}</h3>\n                      <nav class=\"space-y-2\">\n                        <router-link v-for=\"item in category.children\" :key=\"item.href\" :to=\"item.href\"\n                          class=\"flex items-center space-x-3 px-2 py-2 hover:bg-gray-50 group\">\n                          <component \n                            :is=\"getIcon(item.key)\" \n                            class=\"flex-shrink-0 h-5 w-5 text-gray-400 group-hover:text-indigo-600\" \n                          />\n                          <div>\n                            <span class=\"text-sm text-gray-900 group-hover:text-indigo-600\">{{ item.name }}</span>\n                            <p class=\"text-xs text-gray-500\">{{ item.description }}</p>\n                          </div>\n                        </router-link>\n                      </nav>\n\n                      <!-- 如果有推荐文章，显示在分类下方 -->\n                      <div v-if=\"category.featured\" class=\"mt-4 pt-4 border-t border-gray-100\">\n                        <h4 class=\"text-sm font-medium text-gray-900 mb-3\">{{ category.featured.title }}</h4>\n                        <div class=\"space-y-3\">\n                          <router-link v-for=\"article in category.featured.articles\" :key=\"article.href\"\n                            :to=\"article.href\" class=\"group block\">\n                            <div class=\"aspect-w-16 aspect-h-9 rounded-lg overflow-hidden mb-2\">\n                              <img :src=\"article.image\" :alt=\"article.title\"\n                                class=\"object-cover w-full h-full group-hover:opacity-75\">\n                            </div>\n                            <h5 class=\"text-sm text-gray-900 group-hover:text-indigo-600 line-clamp-2\">\n                              {{ article.title }}\n                            </h5>\n                          </router-link>\n                        </div>\n                      </div>\n                    </div>\n                  </template>\n                </div>\n\n                <!-- 底部链接 -->\n                <div class=\"border-t border-gray-100 p-4\">\n                  <router-link to=\"/resources\"\n                    class=\"flex items-center justify-between text-sm text-indigo-600 hover:text-indigo-500\">\n                    <span>查看全部资源</span>\n                    <svg class=\"w-5 h-5\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                      <path fill-rule=\"evenodd\"\n                        d=\"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z\" />\n                    </svg>\n                  </router-link>\n                </div>\n              </div>\n            </div>\n          </div>\n        </template>\n\n        <router-link to=\"/pro\"\n          class=\"text-base leading-6 text-yellow-600 hover:text-yellow-500 flex items-center\">\n          <svg class=\"w-5 h-5 mr-1\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\">\n            <path d=\"M5 16L3 5L8.5 10L12 4L15.5 10L21 5L19 16H5Z\" stroke-width=\"2\" stroke-linecap=\"round\"\n              stroke-linejoin=\"round\" />\n          </svg>\n          会员\n        </router-link>\n      </div>\n\n      <!-- 右侧用户区域 -->\n      <div class=\"flex items-center\">\n        <template v-if=\"!isAuthenticated\">\n          <!-- 未登录状态 -->\n          <div class=\"hidden lg:block\">\n            <router-link to=\"/login\" class=\"text-base  leading-6 text-gray-900 hover:text-indigo-600\">\n              登录\n            </router-link>\n            <router-link to=\"/register\"\n              class=\"ml-4 text-base  leading-6 text-white bg-primary-500 px-3 py-2 rounded-md hover:bg-primary-500\">\n              注册\n            </router-link>\n          </div>\n        </template>\n\n        <!-- 已登录状态 -->\n        <template v-else>\n          <div class=\"relative\">\n            <button @click.stop=\"userMenuOpen = !userMenuOpen\"\n              class=\"flex items-center space-x-1 text-sm font-semibold text-gray-900 hover:text-indigo-600\">\n              <img \n                :src=\"avatarUrl\"\n                @error=\"handleImageError\"\n                class=\"h-8 w-8 rounded-full\"\n                alt=\"用户头像\"\n              />\n              <span class=\"hidden lg:inline\">\n                {{ username }}\n              </span>\n              <svg class=\"h-5 w-5\" :class=\"{ 'rotate-180': userMenuOpen }\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n                <path fill-rule=\"evenodd\"\n                  d=\"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z\"\n                  clip-rule=\"evenodd\" />\n              </svg>\n            </button>\n          </div>\n        </template>\n\n        <!-- 移动端菜单按钮 -->\n        <button type=\"button\" @click=\"toggleMenu\"\n          class=\"lg:hidden inline-flex items-center justify-center rounded-md ml-2 p-2 text-gray-700\">\n          <span class=\"sr-only\">打开菜单</span>\n          <svg class=\"h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke-width=\"1.5\" stroke=\"currentColor\">\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5\" />\n          </svg>\n        </button>\n      </div>\n    </nav>\n\n    <!-- 用户下拉菜单 -->\n    <div v-if=\"userMenuOpen\" :class=\"[\n      'fixed lg:absolute',\n      'top-[72px]',\n      'bg-white shadow-lg z-[100]',\n      'inset-x-0 lg:inset-x-auto',\n      'lg:w-64 lg:rounded-lg'\n    ]\" :style=\"{\n      [isMobile ? '' : 'right']: isMobile ? '' : 'calc((100% - 1280px) / 2)',\n    }\">\n      <!-- 用户信息头部 -->\n      <div class=\"px-5 py-4 border-b border-gray-100\">\n        <div class=\"flex items-center space-x-3\">\n          <img \n            :src=\"avatarUrl\"\n            :key=\"avatarUrl\"\n            class=\"h-12 w-12 rounded-full\" \n            alt=\"用户头像\" \n            @error=\"handleImageError\" \n          />\n          <div>\n            <div class=\"text-base font-medium text-gray-900\">{{ username }}</div>\n            <div class=\"text-sm text-gray-500\">{{ userType }}</div>\n          </div>\n        </div>\n      </div>\n\n      <!-- 菜单项 -->\n      <div class=\"py-2\">\n        <button v-for=\"item in userMenuItems\" :key=\"item.key\"\n          class=\"block w-full px-5 py-3 text-base text-gray-700 hover:bg-gray-50 text-left\"\n          @click=\"item.action\">\n          <div class=\"flex items-center space-x-2\">\n            <component \n              :is=\"getIcon(item.icon)\" \n              class=\"flex-shrink-0 h-5 w-5 text-gray-400 group-hover:text-indigo-600\" \n            />\n            <span>{{ item.label }}</span>\n          </div>\n        </button>\n      </div>\n\n      <!-- 会员入口 -->\n      <div class=\"py-2 border-t border-gray-100\">\n        <router-link to=\"/pro\" class=\"block w-full text-left px-5 py-3 text-base text-yellow-600 hover:bg-gray-50\">\n          <div class=\"flex items-center space-x-2\">\n            <svg class=\"w-5 h-5\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\">\n              <path d=\"M5 16L3 5L8.5 10L12 4L15.5 10L21 5L19 16H5Z\" stroke-width=\"2\" stroke-linecap=\"round\"\n                stroke-linejoin=\"round\" />\n            </svg>\n            <span>免费升级 ❤️</span>\n          </div>\n        </router-link>\n      </div>\n\n      <!-- 语言选择 -->\n      <div class=\"py-2 border-t border-gray-100\">\n        <button class=\"block w-full text-left px-5 py-3 text-base text-gray-700 hover:bg-gray-50\">\n          <div class=\"flex items-center justify-between\">\n            <span>中文（简体）</span>\n            <svg class=\"w-5 h-5 text-gray-400\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n              <path fill-rule=\"evenodd\"\n                d=\"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z\"\n                clip-rule=\"evenodd\" />\n            </svg>\n          </div>\n        </button>\n      </div>\n\n      <!-- 退出登录 -->\n      <div class=\"py-2 border-t border-gray-100\">\n        <button @click=\"handleLogout\" class=\"block w-full text-left px-5 py-3 text-base text-gray-700 hover:bg-gray-50\">\n          退出登录\n        </button>\n      </div>\n    </div>\n\n    <!-- 移动端菜单抽屉 -->\n    <div v-if=\"mobileMenuOpen\" class=\"fixed inset-0 z-50\" @click=\"toggleMenu\">\n      <div class=\"fixed inset-0 bg-black/25\"></div>\n\n      <div class=\"fixed inset-y-0 right-0 z-50 w-full overflow-y-auto bg-white sm:max-w-sm\" @click.stop>\n        <!-- 移动端菜单头部 -->\n        <div class=\"flex items-center justify-between p-4\">\n          <router-link to=\"/\" class=\"flex items-center space-x-2\" @click=\"toggleMenu\">\n            <img src=\"@/assets/images/logo.png\" alt=\"\" class=\"w-8 h-8\">\n            <span class=\"text-gray-500 text-xl whitespace-nowrap\">飞鸟简历</span>\n          </router-link>\n          <!-- 关闭按钮 -->\n          <button type=\"button\" @click=\"toggleMenu\" class=\"p-2 text-gray-700\">\n            <span class=\"sr-only\">关闭菜单</span>\n            <svg class=\"h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke-width=\"1.5\" stroke=\"currentColor\">\n              <path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M6 18L18 6M6 6l12 12\" />\n            </svg>\n          </button>\n        </div>\n\n        <!-- 移动端菜单内容 -->\n        <div class=\"border-t border-gray-200\">\n          <!-- 导航菜单 -->\n          <div>\n            <template v-for=\"item in navigation.main\" :key=\"item.name\">\n              <!-- 普通菜单项 -->\n              <router-link v-if=\"!item.children\" :to=\"item.href\"\n                class=\"block px-4 py-3 text-base text-gray-900 border-b border-gray-100\"\n                :class=\"isCurrentRoute(item.href) ? 'text-indigo-600' : ''\" @click=\"toggleMenu\">\n                {{ item.name }}\n              </router-link>\n\n              <!-- 带子菜单的项 -->\n              <div v-else class=\"border-b border-gray-100\">\n                <button class=\"flex items-center justify-between w-full px-4 py-3 text-base text-gray-900\"\n                  @click=\"toggleMobileSubmenu(item.name)\">\n                  <span>{{ item.name }}</span>\n                  <svg class=\"w-5 h-5 transition-transform duration-200\"\n                    :class=\"{ 'rotate-180': mobileSubmenuOpen[item.name] }\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n                    <path fill-rule=\"evenodd\"\n                      d=\"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z\"\n                      clip-rule=\"evenodd\" />\n                  </svg>\n                </button>\n\n                <div v-show=\"mobileSubmenuOpen[item.name]\" class=\"bg-gray-50\">\n                  <template v-for=\"category in item.children\" :key=\"category.name\">\n                    <div class=\"px-4 py-2\">\n                      <div class=\"font-medium text-gray-900\">{{ category.name }}</div>\n                      <div class=\"mt-1 space-y-1\">\n                        <router-link v-for=\"subItem in category.children\" :key=\"subItem.name\" :to=\"subItem.href\"\n                          class=\"block py-1 pl-3 text-sm text-gray-600 hover:text-indigo-600\" @click=\"toggleMenu\">\n                          {{ subItem.name }}\n                        </router-link>\n                      </div>\n                    </div>\n                  </template>\n                </div>\n              </div>\n            </template>\n          </div>\n\n          <!-- 未登录状态下显示登录注册按钮 -->\n          <div v-if=\"!isAuthenticated\" class=\"p-4 space-y-3\">\n            <router-link to=\"/login\"\n              class=\"block w-full text-center px-4 py-2 text-[14px] text-gray-900 border border-gray-300 rounded-md hover:bg-gray-50\"\n              @click=\"toggleMenu\">\n              登录\n            </router-link>\n            <router-link to=\"/register\"\n              class=\"block w-full text-center px-4 py-2 text-[14px] text-white bg-indigo-600 rounded-md hover:bg-indigo-500\"\n              @click=\"toggleMenu\">\n              注册\n            </router-link>\n          </div>\n        </div>\n      </div>\n    </div>\n  </header>\n</template>\n<script setup>\nimport { ref, computed, onMounted, onUnmounted, watch } from 'vue'\nimport { useRouter, useRoute } from 'vue-router'\nimport { useStore } from 'vuex'\nimport { showToast } from '@/components/ToastMessage'\nimport defaultAvatarImage from '@/assets/images/default-avatar.png'\nimport navigation from '@/config/navigation.json'\nimport { MEDIA_URL } from '@/config'\nimport { eventBus } from '@/utils/eventBus'\nimport { authService } from '@/services/authService'\nimport { useLogout } from '@/composables/useLogout'\nimport { API_URL } from '@/config'\n\n// 导入所需的图标\nimport {\n  AcademicCapIcon,\n  BookOpenIcon,\n  BriefcaseIcon,\n  ChartBarIcon,\n  ComputerDesktopIcon,\n  DocumentTextIcon,\n  LightBulbIcon,\n  PencilIcon,\n  UserIcon,\n  Cog6ToothIcon,\n  ArrowRightOnRectangleIcon,\n  HomeIcon,\n  DocumentDuplicateIcon,\n  StarIcon,\n  BellIcon,\n  HeartIcon,\n  ShieldCheckIcon,\n  UserCircleIcon,\n  WrenchScrewdriverIcon\n} from '@heroicons/vue/24/outline'\n\n// 添加图标映射函数\nconst getIcon = (menuKey) => {\n  const iconMap = {\n    // 主导航图标\n    'home': HomeIcon,\n    'resume': DocumentDuplicateIcon,\n    'resources': BookOpenIcon,\n    'pro': StarIcon,\n    \n    // 用户菜单图标\n    'profile': UserCircleIcon,\n    'resumes': DocumentTextIcon,\n    'favorites': HeartIcon,\n    'notifications': BellIcon,\n    'settings': Cog6ToothIcon,\n    'security': ShieldCheckIcon,\n    'account': WrenchScrewdriverIcon,\n    'logout': ArrowRightOnRectangleIcon,\n\n    // 资源分类图标\n    'templates': DocumentDuplicateIcon,\n    'guides': LightBulbIcon,\n    'tools': ComputerDesktopIcon,\n    'career': BriefcaseIcon,\n    'education': AcademicCapIcon,\n    'statistics': ChartBarIcon,\n    'editor': PencilIcon\n  }\n  return iconMap[menuKey] || UserIcon // 默认返回 UserIcon\n}\n\n// 将 getIcon 添加到模板中使用\nconst icons = {\n  getIcon\n}\n\n// 状态管理\nconst router = useRouter()\nconst route = useRoute()\nconst store = useStore()\nconst mobileMenuOpen = ref(false)\nconst userMenuOpen = ref(false)\nconst resourceMenuOpen = ref(false)\nconst mobileSubmenuOpen = ref({})\nconst userBasicInfo = ref(null)\n\n// 使用 useLogout composable\nconst { handleLogout } = useLogout()\n\n// 监听 store 中的用户信息变化\nwatch(\n  () => store.state.userInfo,\n  (newUserInfo) => {\n    if (newUserInfo?.data?.basic_info) {\n      userBasicInfo.value = {\n        ...newUserInfo.data.basic_info,\n        ...newUserInfo.data.user\n      }\n    }\n  },\n  { immediate: true, deep: true }\n)\n\n// 响应式计算\nconst isMobile = computed(() => {\n  return window.innerWidth < 1024\n})\n\n\n\n\n// 统一的菜单关闭处理\nconst closeMenus = (e) => {\n  if (!e.target.closest('.resource-menu')) {\n    resourceMenuOpen.value = false\n  }\n  if (!e.target.closest('.user-menu')) {\n    userMenuOpen.value = false\n  }\n}\n\n// 移动端菜单开关\nconst toggleMenu = () => {\n  mobileMenuOpen.value = !mobileMenuOpen.value\n  if (mobileMenuOpen.value) {\n    userMenuOpen.value = false\n    resourceMenuOpen.value = false\n    mobileSubmenuOpen.value = {}\n  }\n}\n\n// 移动端子菜单开关\nconst toggleMobileSubmenu = (categoryName) => {\n  mobileSubmenuOpen.value[categoryName] = !mobileSubmenuOpen.value[categoryName]\n}\n\n// 处理菜单点击\nconst handleMenuClick = (key) => {\n  userMenuOpen.value = false\n  router.push({\n    path: '/user',\n    query: { tab: key }\n  })\n}\n\n// 判断当前路由是否匹配\nconst isCurrentRoute = (href) => {\n  return route.path === href\n}\n// 获取资源分类\nconst getResourceCategories = computed(() => {\n  const resourceMenu = navigation.main.find(item => item.name === '职场资源')\n  return resourceMenu?.children || []\n})\n\n\n// 从 store 获取用户信息和认证状态\nconst isAuthenticated = computed(() => store.state.isAuthenticated)\n\n// 用户昵称计算属性\nconst username = computed(() => {\n  const username = store.state.userInfo?.data?.user?.username\n  return username || '未设置昵称'\n})\n\n// 头像 URL 计算属性\nconst avatarUrl = computed(() => {\n  const avatar = store.state.userInfo?.data?.basic_info?.avatar\n  if (!avatar) return defaultAvatarImage\n  \n  if (avatar.startsWith('http') || avatar.startsWith('data:')) {\n    return avatar\n  }\n  \n  return `${API_URL}${avatar}`\n})\n\n// 获取用户信息的函数\nconst fetchUserInfo = async () => {\n  if (store.state.isAuthenticated) {\n    try {\n      await store.dispatch('fetchUserInfo')\n      userBasicInfo.value = {\n        ...store.state.userInfo?.data?.basic_info,\n        ...store.state.userInfo?.data?.user\n      }\n    } catch (error) {\n      console.error('Failed to fetch user info:', error)\n    }\n  }\n}\n\n// 添加 watch 来监控数据变化\nwatch(() => store.state.basicInfo, (newVal) => {\n\n}, { deep: true })\n\nwatch(() => store.state.userInfo, (newVal) => {\n  \n}, { deep: true })\n\n// 生命周期钩子\nonMounted(async () => {\n  document.addEventListener('click', closeMenus)\n  window.addEventListener('resize', () => {\n    if (!isMobile.value) {\n      mobileMenuOpen.value = false\n    }\n  })\n  \n  if (store.state.isAuthenticated) {\n    try {\n      await fetchUserInfo()\n    } catch (error) {\n      console.error('Failed to fetch user info:', error)\n      if (error.response?.status === 401) {\n        store.commit('SET_LOGGED_IN', false)\n      }\n    }\n  }\n  \n  eventBus.on('avatar-updated', handleAvatarUpdate)\n})\n\n// 保持原有的事件清理\nonUnmounted(() => {\n  eventBus.off('avatar-updated', handleAvatarUpdate)\n})\n\n// 将 resize 处理函数提取出来\nconst handleResize = () => {\n  if (!isMobile.value) {\n    mobileMenuOpen.value = false\n  }\n}\n\n// 简化头像更新处理方法\nconst handleAvatarUpdate = (newAvatar) => {\n  store.commit('SET_USER_INFO', {\n    ...store.state.userInfo,\n    data: {\n      ...store.state.userInfo?.data,\n      basic_info: {\n        ...store.state.userInfo?.data?.basic_info,\n        avatar: newAvatar\n      }\n    }\n  })\n}\n\n// 监听登录状态变化\nwatch(() => store.state.isAuthenticated, (newValue) => {\n  if (newValue) {\n    fetchUserInfo()\n  } else {\n    userBasicInfo.value = null\n  }\n}, { immediate: true })\n\n// 监听头像更新\nwatch(() => store.state.avatarUpdateTime, () => {\n  if (store.state.isAuthenticated) {\n    fetchUserInfo()\n  }\n})\n\n// 处理图片加载错误\nconst handleImageError = (e) => {\n  e.target.src = defaultAvatarImage\n}\n\n// 用户类型\nconst userType = computed(() => '普通用户')\n\n// 手机号脱敏处理\nconst maskedPhone = computed(() => '')\n\n// 用户菜单选项\nconst userMenuItems = computed(() => {\n  return [\n    {\n      key: 'profile',\n      label: '我的档案',\n      icon: 'profile',\n      action: () => router.push('/user?tab=profile')\n    },\n    {\n      key: 'resumes',\n      label: '我的简历',\n      icon: 'resumes',\n      action: () => router.push('/user?tab=resumes')\n    },\n    {\n      key: 'favorites',\n      label: '我的收藏',\n      icon: 'favorites',\n      action: () => router.push('/user/favorites')\n    },\n    {\n      key: 'notifications',\n      label: '消息通知',\n      icon: 'notifications',\n      action: () => router.push('/user/notifications')\n    },\n    {\n      key: 'settings',\n      label: '账号设置',\n      icon: 'settings',\n      action: () => router.push('/user?tab=account')\n    },\n    {\n      key: 'logout',\n      label: '退出登录',\n      icon: 'logout',\n      action: handleLogout\n    }\n  ]\n})\n\n// 导航菜单\nconst navItems = computed(() => {\n  const items = [\n    { label: '首页', path: '/' },\n    { label: '关于我们', path: '/about' },\n    { label: '联系我们', path: '/contact' }\n  ]\n  if (store.getters.getUserInfo?.role === 'admin') {\n    items.push({ label: '管理后台', path: '/admin' })\n  }\n  return items\n})\n</script>\n<style scoped>\n/* 添加过渡动画 */\n.aspect-h-9 {\n  position: relative;\n  padding-bottom: 56.25%;\n}\n\n.aspect-h-9 img {\n  position: absolute;\n  height: 100%;\n  width: 100%;\n  left: 0;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  transition: opacity 0.3s ease;\n}\n\n/* 添加菜单hover效果 */\n.hover\\:bg-gray-100:hover {\n  background-color: rgba(243, 244, 246, 1);\n}\n\n/* 确保下拉菜单定位正确 */\n.resource-menu {\n  position: static;\n}\n\n@media (min-width: 1024px) {\n  .resource-menu {\n    position: relative;\n  }\n}\n\n/* 添加过渡动画 */\n.transition-transform {\n  transition-property: transform;\n  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);\n  transition-duration: 200ms;\n}\n\n/* 移动端菜单动画 */\n.mobile-menu-enter-active,\n.mobile-menu-leave-active {\n  transition: transform 0.3s ease-in-out;\n}\n\n.mobile-menu-enter-from,\n.mobile-menu-leave-to {\n  transform: translateX(100%);\n}\n\n/* 下拉菜单动画 */\n.dropdown-enter-active,\n.dropdown-leave-active {\n  transition: opacity 0.2s, transform 0.2s;\n}\n\n.dropdown-enter-from,\n.dropdown-leave-to {\n  opacity: 0;\n  transform: translateY(-10px);\n}\n/* 确保下拉菜单始终最上层 */\n:deep(.el-dropdown-menu) {\n  z-index: 3000 !important;\n}\n\n/* 调整资源菜单定位 */\n.resource-menu {\n  position: static;\n}\n\n@media (min-width: 1024px) {\n  .resource-menu {\n    position: relative;\n  }\n}\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}