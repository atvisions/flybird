{"ast":null,"code":"import \"core-js/modules/esnext.iterator.constructor.js\";\nimport \"core-js/modules/esnext.iterator.some.js\";\nimport { createRouter, createWebHistory } from 'vue-router';\nimport HomeView from '../views/HomeView.vue';\nimport LoginView from '../views/LoginView.vue';\nimport RegisterView from '../views/RegisterView.vue';\nimport ResetPasswordView from '../views/ResetPasswordView.vue';\nimport ProView from '../views/ProView.vue';\nimport FAQView from '../views/FAQView.vue';\nimport ResourcesView from '../views/ResourcesView.vue';\nimport ResumeTemplateView from '../views/ResumeTemplateView.vue';\nimport UserCenter from '@/views/user/UserCenter.vue';\nimport store from '../store';\nimport AboutView from '@/views/AboutView.vue';\nimport PrivacyView from '@/views/PrivacyView.vue';\nimport TermsView from '@/views/TermsView.vue';\nimport ContactView from '@/views/ContactView.vue';\nimport CommunityView from '@/views/community/CommunityView.vue';\nimport CommunityHomeView from '@/views/community/HomeView.vue';\nimport UserPageView from '../views/user/UserPageView.vue';\nconst routes = [{\n  path: '/',\n  name: 'home',\n  component: HomeView\n}, {\n  path: '/login',\n  name: 'login',\n  component: LoginView,\n  meta: {\n    guest: true\n  }\n}, {\n  path: '/register',\n  name: 'register',\n  component: RegisterView,\n  meta: {\n    guest: true\n  }\n}, {\n  path: '/reset-password',\n  name: 'reset-password',\n  component: ResetPasswordView,\n  meta: {\n    guest: true\n  }\n}, {\n  path: '/pro',\n  name: 'pro',\n  component: ProView\n}, {\n  path: '/faq',\n  name: 'faq',\n  component: FAQView\n}, {\n  path: '/resources',\n  name: 'resources',\n  component: ResourcesView\n}, {\n  path: '/templates',\n  name: 'templates',\n  component: ResumeTemplateView\n}, {\n  path: '/user',\n  name: 'UserCenter',\n  component: UserCenter,\n  meta: {\n    requiresAuth: true\n  }\n}, {\n  path: '/about',\n  name: 'about',\n  component: AboutView,\n  meta: {\n    title: '关于我们'\n  }\n}, {\n  path: '/privacy',\n  name: 'privacy',\n  component: PrivacyView,\n  meta: {\n    title: '隐私政策'\n  }\n}, {\n  path: '/terms',\n  name: 'terms',\n  component: TermsView,\n  meta: {\n    title: '服务条款'\n  }\n}, {\n  path: '/contact',\n  name: 'contact',\n  component: ContactView,\n  meta: {\n    title: '联系我们'\n  }\n}, {\n  path: '/u/:username',\n  name: 'UserPage',\n  component: UserPageView,\n  props: true,\n  meta: {\n    title: '个人主页'\n  }\n}, {\n  path: '/community',\n  component: CommunityView,\n  children: [{\n    path: '',\n    name: 'CommunityHome',\n    component: CommunityHomeView\n  }, {\n    path: 'articles',\n    name: 'Articles',\n    component: () => import('@/views/community/ArticlesView.vue')\n  }, {\n    path: 'questions',\n    name: 'Questions',\n    component: () => import('@/views/community/QuestionsView.vue')\n  }, {\n    path: 'topics',\n    name: 'Topics',\n    component: () => import('@/views/community/TopicsView.vue')\n  }]\n}, {\n  path: '/portfolio',\n  name: 'portfolio',\n  component: () => import('@/views/portfolio/PortfolioView.vue'),\n  children: [{\n    path: '',\n    name: 'portfolio-home',\n    component: () => import('@/views/portfolio/HomeView.vue')\n  }, {\n    path: 'design',\n    name: 'portfolio-design',\n    component: () => import('@/views/portfolio/DesignView.vue')\n  }, {\n    path: 'development',\n    name: 'portfolio-development',\n    component: () => import('@/views/portfolio/DevelopmentView.vue')\n  }, {\n    path: 'writing',\n    name: 'portfolio-writing',\n    component: () => import('@/views/portfolio/WritingView.vue')\n  }, {\n    path: 'my',\n    name: 'portfolio-my',\n    component: () => import('@/views/portfolio/MyView.vue'),\n    meta: {\n      requiresAuth: true\n    }\n  }]\n}];\nconst router = createRouter({\n  history: createWebHistory(process.env.BASE_URL),\n  routes\n});\n\n/// 路由守卫\nrouter.beforeEach(async (to, from, next) => {\n  // 检查是否需要认证\n  if (to.matched.some(record => record.meta.requiresAuth)) {\n    // 检查认证状态\n    const isAuthenticated = await store.dispatch('checkAuth');\n    if (!isAuthenticated) {\n      // 未认证，跳转到登录页\n      next({\n        path: '/login',\n        query: {\n          redirect: to.fullPath\n        }\n      });\n    } else {\n      next();\n    }\n  }\n  // 检查是否是游客专用页面（如登录页）\n  else if (to.matched.some(record => record.meta.requiresGuest)) {\n    const isAuthenticated = store.getters.isAuthenticated;\n    if (isAuthenticated) {\n      // 已登录用户不能访问游客页面\n      next({\n        path: '/'\n      });\n    } else {\n      next();\n    }\n  } else {\n    next();\n  }\n});\nexport default router;","map":{"version":3,"names":["createRouter","createWebHistory","HomeView","LoginView","RegisterView","ResetPasswordView","ProView","FAQView","ResourcesView","ResumeTemplateView","UserCenter","store","AboutView","PrivacyView","TermsView","ContactView","CommunityView","CommunityHomeView","UserPageView","routes","path","name","component","meta","guest","requiresAuth","title","props","children","router","history","process","env","BASE_URL","beforeEach","to","from","next","matched","some","record","isAuthenticated","dispatch","query","redirect","fullPath","requiresGuest","getters"],"sources":["/Users/liuzhao/Documents/Projects/flybird/flybird-web/src/router/index.js"],"sourcesContent":["import { createRouter, createWebHistory } from 'vue-router'\nimport HomeView from '../views/HomeView.vue'\nimport LoginView from '../views/LoginView.vue'\nimport RegisterView from '../views/RegisterView.vue'\nimport ResetPasswordView from '../views/ResetPasswordView.vue'\nimport ProView from '../views/ProView.vue'\nimport FAQView from '../views/FAQView.vue'\nimport ResourcesView from '../views/ResourcesView.vue'\nimport ResumeTemplateView from '../views/ResumeTemplateView.vue'\nimport UserCenter from '@/views/user/UserCenter.vue'\nimport store from '../store'\nimport AboutView from '@/views/AboutView.vue'\nimport PrivacyView from '@/views/PrivacyView.vue'\nimport TermsView from '@/views/TermsView.vue'\nimport ContactView from '@/views/ContactView.vue'\nimport CommunityView from '@/views/community/CommunityView.vue'\nimport CommunityHomeView from '@/views/community/HomeView.vue'\nimport UserPageView from '../views/user/UserPageView.vue'\n\nconst routes = [\n  {\n    path: '/',\n    name: 'home',\n    component: HomeView,\n  },\n  {\n    path: '/login',\n    name: 'login',\n    component: LoginView,\n    meta: {\n      guest: true\n    }\n  },\n  {\n    path: '/register',\n    name: 'register',\n    component: RegisterView,\n    meta: {\n      guest: true\n    }\n  },\n  {\n    path: '/reset-password',\n    name: 'reset-password',\n    component: ResetPasswordView,\n    meta: {\n      guest: true\n    }\n  },\n  {\n    path: '/pro',\n    name: 'pro',\n    component: ProView,\n  },\n  {\n    path: '/faq',\n    name: 'faq',\n    component: FAQView,\n  },\n  {\n    path: '/resources',\n    name: 'resources',\n    component: ResourcesView,\n  },\n  {\n    path: '/templates',\n    name: 'templates',\n    component: ResumeTemplateView,\n  },\n  {\n    path: '/user',\n    name: 'UserCenter',\n    component: UserCenter,\n    meta: {\n      requiresAuth: true\n    }\n  },\n  {\n    path: '/about',\n    name: 'about',\n    component: AboutView,\n    meta: { title: '关于我们' }\n  },\n  {\n    path: '/privacy',\n    name: 'privacy',\n    component: PrivacyView,\n    meta: { title: '隐私政策' }\n  },\n  {\n    path: '/terms',\n    name: 'terms',\n    component: TermsView,\n    meta: { title: '服务条款' }\n  },\n  {\n    path: '/contact',\n    name: 'contact',\n    component: ContactView,\n    meta: { title: '联系我们' }\n  },\n  {\n    path: '/u/:username',\n    name: 'UserPage',\n    component: UserPageView,\n    props: true,\n    meta: {\n      title: '个人主页'\n    }\n  },\n  {\n    path: '/community',\n    component: CommunityView,\n    children: [\n      {\n        path: '',\n        name: 'CommunityHome',\n        component: CommunityHomeView\n      },\n      {\n        path: 'articles',\n        name: 'Articles',\n        component: () => import('@/views/community/ArticlesView.vue')\n      },\n      {\n        path: 'questions',\n        name: 'Questions',\n        component: () => import('@/views/community/QuestionsView.vue')\n      },\n      {\n        path: 'topics',\n        name: 'Topics',\n        component: () => import('@/views/community/TopicsView.vue')\n      }\n    ]\n  },\n  {\n    path: '/portfolio',\n    name: 'portfolio',\n    component: () => import('@/views/portfolio/PortfolioView.vue'),\n    children: [\n      {\n        path: '',\n        name: 'portfolio-home',\n        component: () => import('@/views/portfolio/HomeView.vue'),\n      },\n      {\n        path: 'design',\n        name: 'portfolio-design',\n        component: () => import('@/views/portfolio/DesignView.vue'),\n      },\n      {\n        path: 'development',\n        name: 'portfolio-development',\n        component: () => import('@/views/portfolio/DevelopmentView.vue'),\n      },\n      {\n        path: 'writing',\n        name: 'portfolio-writing',\n        component: () => import('@/views/portfolio/WritingView.vue'),\n      },\n      {\n        path: 'my',\n        name: 'portfolio-my',\n        component: () => import('@/views/portfolio/MyView.vue'),\n        meta: { requiresAuth: true }\n      }\n    ]\n  }\n]\n\nconst router = createRouter({\n  history: createWebHistory(process.env.BASE_URL),\n  routes\n})\n\n/// 路由守卫\nrouter.beforeEach(async (to, from, next) => {\n  // 检查是否需要认证\n  if (to.matched.some(record => record.meta.requiresAuth)) {\n    // 检查认证状态\n    const isAuthenticated = await store.dispatch('checkAuth')\n    \n    if (!isAuthenticated) {\n      // 未认证，跳转到登录页\n      next({\n        path: '/login',\n        query: { redirect: to.fullPath }\n      })\n    } else {\n      next()\n    }\n  } \n  // 检查是否是游客专用页面（如登录页）\n  else if (to.matched.some(record => record.meta.requiresGuest)) {\n    const isAuthenticated = store.getters.isAuthenticated\n    \n    if (isAuthenticated) {\n      // 已登录用户不能访问游客页面\n      next({ path: '/' })\n    } else {\n      next()\n    }\n  } \n  else {\n    next()\n  }\n})\n\nexport default router"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}