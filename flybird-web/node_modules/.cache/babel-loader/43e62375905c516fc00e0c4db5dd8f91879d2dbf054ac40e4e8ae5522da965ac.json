{"ast":null,"code":"import _objectSpread from \"/Users/liuzhao/Documents/Projects/flybird/flybird-web/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport { ref, computed, watch, onMounted, onUnmounted, defineAsyncComponent, nextTick } from 'vue';\nimport { useRoute, useRouter } from 'vue-router';\nimport profile from '@/api/profile';\nimport HeadView from '../../components/HeadView.vue';\nimport FootView from '../../components/FootView.vue';\nimport { UserIcon, DocumentIcon, Cog6ToothIcon, Squares2X2Icon, BellIcon, Bars3Icon, SparklesIcon } from '@heroicons/vue/24/outline';\nimport { UserIcon as UserIconSolid, DocumentIcon as DocumentIconSolid, Cog6ToothIcon as Cog6ToothIconSolid, Squares2X2Icon as Squares2X2IconSolid, BellIcon as BellIconSolid } from '@heroicons/vue/24/solid';\nimport MobileTabBar from '@/components/MobileTabBar.vue';\n\n// 创建加载组件\n\nexport default {\n  __name: 'UserCenter',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const LoadingComponent = {\n      name: 'LoadingComponent',\n      template: `\n  <div class=\"p-4 text-center\">\n    <div class=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500 mx-auto\"></div>\n    <p class=\"mt-2 text-gray-600\">加载中...</p>\n  </div>\n`\n    };\n\n    // 异步组件\n    const MyProfile = defineAsyncComponent({\n      loader: () => import('@/views/user/MyProfile/index.vue'),\n      loadingComponent: LoadingComponent,\n      timeout: 10000,\n      // 10秒超时\n      delay: 0,\n      // 立即显示加载组件\n      suspensible: false // 禁用 suspense\n    });\n    const MyResumes = defineAsyncComponent({\n      loader: () => import('@/views/user/MyResumes.vue'),\n      loadingComponent: LoadingComponent,\n      timeout: 10000\n    });\n    const AccountSettings = defineAsyncComponent({\n      loader: () => import('@/views/user/AccountSettings.vue'),\n      loadingComponent: LoadingComponent,\n      timeout: 10000\n    });\n    const UserHome = defineAsyncComponent({\n      loader: () => import('@/views/user/MyProfile/components/UserHome.vue'),\n      loadingComponent: LoadingComponent,\n      timeout: 10000,\n      delay: 0,\n      suspensible: false\n    });\n    const MyMessages = defineAsyncComponent({\n      loader: () => import('@/views/user/MyProfile/components/MyMessages.vue'),\n      loadingComponent: LoadingComponent,\n      timeout: 10000\n    });\n\n    // 导入会员中心组件\n    const Membership = defineAsyncComponent({\n      loader: () => import('@/views/user/Membership/index.vue'),\n      loadingComponent: LoadingComponent,\n      timeout: 10000\n    });\n    const route = useRoute();\n    const router = useRouter();\n\n    // 统一的 currentTab 声明，使用 URL 参数或 localStorage\n    const currentTab = ref(route.query.tab || localStorage.getItem('userCenterTab') || 'profile');\n\n    // 监听标签变化\n    watch(currentTab, newTab => {\n      // 更新 localStorage\n      localStorage.setItem('userCenterTab', newTab);\n      // 更新 URL 参数\n      router.replace({\n        query: _objectSpread(_objectSpread({}, route.query), {}, {\n          tab: newTab\n        })\n      });\n    });\n\n    // 监听 URL 参数变化\n    watch(() => route.query.tab, newTab => {\n      if (newTab && newTab !== currentTab.value) {\n        currentTab.value = newTab;\n      }\n    });\n\n    // 处理标签切换\n    const handleTabChange = key => {\n      if (showMobileTabBar.value) {\n        currentTab.value = key;\n      }\n    };\n\n    // 将原有的tabs拆分为主要和次要标签\n    const tabs = [{\n      key: 'home',\n      name: '用户中心',\n      icon: Squares2X2Icon\n    }, {\n      key: 'profile',\n      name: '我的档案',\n      icon: UserIcon\n    }, {\n      key: 'resumes',\n      name: '我的简历',\n      icon: DocumentIcon\n    }, {\n      key: 'membership',\n      name: '会员中心',\n      icon: SparklesIcon\n    }, {\n      key: 'messages',\n      name: '系统消息',\n      icon: BellIcon\n    }, {\n      key: 'account',\n      name: '账户设置',\n      icon: Cog6ToothIcon\n    }];\n\n    // 模拟数据\n    const portfolioCount = ref(4); // 假设有4个作品\n    const creationsCount = ref(5); // 假设有5个创作\n    const favoritesCount = ref(10); // 假设有10个收藏\n    const unreadMessagesCount = ref(3); // 假设有3条未读消息\n\n    const messageBadge = computed(() => unreadMessagesCount.value);\n\n    // 移动端底部导航按钮\n    const mobileActions = [{\n      key: 'home',\n      label: '用户中心',\n      icon: Squares2X2Icon\n    }, {\n      key: 'profile',\n      label: '档案',\n      icon: UserIcon\n    }, {\n      key: 'resumes',\n      label: '简历',\n      icon: DocumentIcon\n    }, {\n      key: 'messages',\n      label: '消息',\n      icon: BellIcon,\n      badge: unreadMessagesCount\n    }, {\n      key: 'account',\n      label: '设置',\n      icon: Cog6ToothIcon\n    }];\n\n    // 移动端菜单状态\n    const isMobileMenuOpen = ref(false);\n\n    // 处理移动端标签切换\n    const handleMobileTabChange = key => {\n      currentTab.value = key;\n      isMobileMenuOpen.value = false;\n    };\n\n    // 动态组件\n    const currentComponent = computed(() => {\n      switch (currentTab.value) {\n        case 'home':\n          return UserHome;\n        case 'membership':\n          return Membership;\n        case 'profile':\n          return MyProfile;\n        case 'resumes':\n          return MyResumes;\n        case 'messages':\n          return MyMessages;\n        case 'account':\n          return AccountSettings;\n        default:\n          return UserHome;\n      }\n    });\n\n    // 从 store 或者 API 获取完整度数据\n    const completionData = ref({\n      total_score: 0\n    });\n\n    // 获取完整度数据\n    const fetchCompleteness = async () => {\n      try {\n        const response = await profile.getCompleteness();\n        if (response.data?.code === 200 && response.data?.data) {\n          completionData.value = response.data.data;\n        }\n      } catch (error) {\n        console.error('获取简历完整度失败:', error);\n      }\n    };\n\n    // 获取标签指标\n    const getTabMetric = key => {\n      switch (key) {\n        case 'profile':\n          const score = Math.round(completionData.value.total_score || 0);\n          return score + '分';\n        case 'resumes':\n          return '2';\n        case 'creations':\n          return creationsCount.value;\n        case 'portfolio':\n          return portfolioCount.value;\n        case 'favorites':\n          return favoritesCount.value;\n        case 'messages':\n          return unreadMessagesCount.value || 0;\n        default:\n          return '';\n      }\n    };\n\n    // 修改状态管理\n    const showMobileTabBar = ref(false);\n\n    // 修改生命周期钩子\n    onMounted(() => {\n      // 延迟显示 MobileTabBar，确保 DOM 完全加载\n      nextTick(() => {\n        showMobileTabBar.value = true;\n      });\n      window.addEventListener('resize', handleResize);\n      fetchCompleteness();\n    });\n    onUnmounted(() => {\n      showMobileTabBar.value = false;\n      window.removeEventListener('resize', handleResize);\n    });\n\n    // 修改 handleResize\n    const handleResize = () => {\n      if (showMobileTabBar.value) {\n        window.dispatchEvent(new Event('resize'));\n      }\n    };\n\n    // 监听路由变化，在进入个人资料页时刷新数据\n    watch(() => route.path, async newPath => {\n      if (showMobileTabBar.value && newPath.includes('/user/profile')) {\n        await fetchCompleteness();\n      }\n    });\n\n    // 推荐职位数据\n    const recommendedJobs = [{\n      id: 1,\n      title: '高级前端工程师',\n      company: '字节跳动',\n      salary: '25-35K'\n    }, {\n      id: 2,\n      title: '资深产品经理',\n      company: '腾讯',\n      salary: '30-45K'\n    }, {\n      id: 3,\n      title: 'UI设计师',\n      company: '阿里巴巴',\n      salary: '20-30K'\n    }];\n\n    // 判断标签是否激活\n    const isActiveTab = key => {\n      if (key === 'more') {\n        return false; // \"更多\"按钮永远不会处于激活状态\n      }\n      return currentTab.value === key;\n    };\n\n    // 定义菜单组\n    const menuGroups = ref([{\n      title: '内容管理',\n      items: [{\n        label: '作品集',\n        icon: 'portfolio',\n        route: '/user/center?tab=portfolio'\n      }, {\n        label: '文章',\n        icon: 'article',\n        route: '/user/center?tab=articles'\n      }, {\n        label: '话题',\n        icon: 'topic',\n        route: '/user/center?tab=topics'\n      }, {\n        label: '问答',\n        icon: 'qa',\n        route: '/user/center?tab=qa'\n      }]\n    }, {\n      title: '互动管理',\n      items: [{\n        label: '评论',\n        icon: 'comment',\n        route: '/user/center?tab=comments'\n      }, {\n        label: '收藏',\n        icon: 'favorite',\n        route: '/user/center?tab=favorites'\n      }, {\n        label: '关注',\n        icon: 'follow',\n        route: '/user/center?tab=following'\n      }]\n    }]);\n\n    // 获取当前标签对应的图标\n    const getTabIcon = tab => {\n      if (currentTab.value === tab.key) {\n        // 选中状态使用实心图标\n        switch (tab.key) {\n          case 'home':\n            return Squares2X2IconSolid;\n          case 'profile':\n            return UserIconSolid;\n          case 'resumes':\n            return DocumentIconSolid;\n          case 'messages':\n            return BellIconSolid;\n          case 'account':\n            return Cog6ToothIconSolid;\n          default:\n            return tab.icon;\n        }\n      }\n      // 未选中状态使用描边图标\n      return tab.icon;\n    };\n\n    // 添加移动端视图判断\n    const isMobileView = computed(() => {\n      return window.innerWidth < 768;\n    });\n\n    // 添加 profileMenuGroups 数据\n    const profileMenuGroups = [{\n      title: '内容管理',\n      items: [{\n        key: 'home',\n        label: '用户中心',\n        icon: Squares2X2Icon\n      }, {\n        key: 'profile',\n        label: '我的档案',\n        icon: UserIcon\n      }, {\n        key: 'resumes',\n        label: '我的简历',\n        icon: DocumentIcon\n      }]\n    }, {\n      title: '账号管理',\n      items: [{\n        key: 'messages',\n        label: '消息',\n        icon: BellIcon\n      }, {\n        key: 'account',\n        label: '设置',\n        icon: Cog6ToothIcon\n      }]\n    }];\n    const __returned__ = {\n      LoadingComponent,\n      MyProfile,\n      MyResumes,\n      AccountSettings,\n      UserHome,\n      MyMessages,\n      Membership,\n      route,\n      router,\n      currentTab,\n      handleTabChange,\n      tabs,\n      portfolioCount,\n      creationsCount,\n      favoritesCount,\n      unreadMessagesCount,\n      messageBadge,\n      mobileActions,\n      isMobileMenuOpen,\n      handleMobileTabChange,\n      currentComponent,\n      completionData,\n      fetchCompleteness,\n      getTabMetric,\n      showMobileTabBar,\n      handleResize,\n      recommendedJobs,\n      isActiveTab,\n      menuGroups,\n      getTabIcon,\n      isMobileView,\n      profileMenuGroups,\n      ref,\n      computed,\n      watch,\n      onMounted,\n      onUnmounted,\n      defineAsyncComponent,\n      nextTick,\n      get useRoute() {\n        return useRoute;\n      },\n      get useRouter() {\n        return useRouter;\n      },\n      get profile() {\n        return profile;\n      },\n      HeadView,\n      FootView,\n      get UserIcon() {\n        return UserIcon;\n      },\n      get DocumentIcon() {\n        return DocumentIcon;\n      },\n      get Cog6ToothIcon() {\n        return Cog6ToothIcon;\n      },\n      get Squares2X2Icon() {\n        return Squares2X2Icon;\n      },\n      get BellIcon() {\n        return BellIcon;\n      },\n      get Bars3Icon() {\n        return Bars3Icon;\n      },\n      get SparklesIcon() {\n        return SparklesIcon;\n      },\n      get UserIconSolid() {\n        return UserIconSolid;\n      },\n      get DocumentIconSolid() {\n        return DocumentIconSolid;\n      },\n      get Cog6ToothIconSolid() {\n        return Cog6ToothIconSolid;\n      },\n      get Squares2X2IconSolid() {\n        return Squares2X2IconSolid;\n      },\n      get BellIconSolid() {\n        return BellIconSolid;\n      },\n      MobileTabBar\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","computed","watch","onMounted","onUnmounted","defineAsyncComponent","nextTick","useRoute","useRouter","profile","HeadView","FootView","UserIcon","DocumentIcon","Cog6ToothIcon","Squares2X2Icon","BellIcon","Bars3Icon","SparklesIcon","UserIconSolid","DocumentIconSolid","Cog6ToothIconSolid","Squares2X2IconSolid","BellIconSolid","MobileTabBar","LoadingComponent","name","template","MyProfile","loader","loadingComponent","timeout","delay","suspensible","MyResumes","AccountSettings","UserHome","MyMessages","Membership","route","router","currentTab","query","tab","localStorage","getItem","newTab","setItem","replace","_objectSpread","value","handleTabChange","key","showMobileTabBar","tabs","icon","portfolioCount","creationsCount","favoritesCount","unreadMessagesCount","messageBadge","mobileActions","label","badge","isMobileMenuOpen","handleMobileTabChange","currentComponent","completionData","total_score","fetchCompleteness","response","getCompleteness","data","code","error","console","getTabMetric","score","Math","round","window","addEventListener","handleResize","removeEventListener","dispatchEvent","Event","path","newPath","includes","recommendedJobs","id","title","company","salary","isActiveTab","menuGroups","items","getTabIcon","isMobileView","innerWidth","profileMenuGroups"],"sources":["/Users/liuzhao/Documents/Projects/flybird/flybird-web/src/views/user/UserCenter.vue"],"sourcesContent":["<template>\n  <div class=\"min-h-screen flex flex-col\">\n    <HeadView />\n    <!-- 主要内容区域 -->\n    <main class=\"flex-1 flex flex-col\">\n      <div class=\"flex-1 mt-[60px] md:mt-[72px]\">\n        <div class=\"mx-auto max-w-7xl px-2 sm:px-4 lg:px-8 mt-4 lg:mt-0 relative\">\n          <div class=\"grid grid-cols-1 lg:grid-cols-12 gap-6 lg:gap-8\">\n            <!-- 左侧导航 - 仅桌面端显示 -->\n            <div class=\"hidden lg:block lg:col-span-3\">\n              <div class=\"bg-white rounded-lg shadow overflow-hidden fixed\" style=\"top: 96px; left: calc((100% - 1280px) / 2 + 32px); width: calc((1280px - 64px) / 12 * 3 - 12px);\">\n                <nav class=\"space-y-1\">\n                  <button\n                      v-for=\"tab in tabs\"\n                      :key=\"tab.key\"\n                      @click=\"handleTabChange(tab.key)\" \n                      class=\"w-full flex items-center px-4 py-3 text-sm font-medium group\"\n                      :class=\"[\n                      currentTab === tab.key\n                          ? 'bg-gray-100 text-[#1A56DB]'\n                          : 'text-gray-600 hover:bg-gray-50 hover:text-gray-900'\n                      ]\"\n                  >\n                  <div class=\"flex items-center flex-1 min-w-0\">\n                    <component\n                      :is=\"getTabIcon(tab)\"\n                      :class=\"[\n                        currentTab === tab.key ? 'text-[#1A56DB]' : 'text-gray-400 group-hover:text-gray-500',\n                        'h-5 w-5 flex-shrink-0'\n                      ]\"\n                    />\n                    <span class=\"ml-2 truncate\">{{ tab.name }}</span>\n                  </div>\n                  <span \n                    v-if=\"getTabMetric(tab.key)\"\n                    :class=\"[\n                      currentTab === tab.key ? 'bg-blue-100 text-[#1A56DB]' : 'bg-gray-100 text-gray-900',\n                      'ml-3 inline-block py-0.5 px-2 text-xs rounded-full'\n                    ]\"\n                  >\n                    {{ getTabMetric(tab.key) }}\n                  </span>\n                </button>\n              </nav>\n              </div>\n            </div>\n  \n            <!-- 中间内容区 -->\n            <div class=\"lg:col-span-6 pb-20 lg:pb-0 w-full space-y-4\">\n              <component :is=\"currentComponent\" />\n            </div>\n  \n            <!-- 右侧广告位 - 仅桌面端显示 -->\n            <div class=\"hidden lg:block lg:col-span-3\">\n              <div class=\"bg-white rounded-lg shadow p-4 fixed\" style=\"top: 96px; right: calc((100% - 1280px) / 2 + 32px); width: calc((1280px - 64px) / 12 * 3 - 12px);\">\n                <h3 class=\"text-lg font-medium text-gray-900 mb-4\">推荐职位</h3>\n                <div class=\"space-y-4\">\n                  <div v-for=\"job in recommendedJobs\" :key=\"job.id\" class=\"flex space-x-3\">\n                    <div class=\"flex-1 min-w-0\">\n                      <p class=\"text-sm font-medium text-gray-900 truncate\">{{ job.title }}</p>\n                      <p class=\"text-sm text-gray-500\">{{ job.company }}</p>\n                    </div>\n                    <div class=\"flex-shrink-0\">\n                      <span class=\"text-sm font-medium text-indigo-600\">{{ job.salary }}</span>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n  \n      <!-- 移动端底部导航 -->\n      <Transition name=\"fade\">\n        <MobileTabBar\n          v-if=\"showMobileTabBar\"\n          class=\"md:hidden\"\n          :current-tab=\"currentTab\"\n          :actions=\"mobileActions\"\n          :menuGroups=\"profileMenuGroups\"\n          @tab-change=\"handleTabChange\"\n        />\n      </Transition>\n    </main>\n\n    <!-- 仅在桌面端显示页脚 -->\n    <FootView class=\"hidden lg:block\" />\n  </div>\n</template>\n<script setup>\nimport { ref, computed, watch, onMounted, onUnmounted, defineAsyncComponent, nextTick } from 'vue'\nimport { useRoute, useRouter } from 'vue-router'\nimport profile from '@/api/profile'\nimport HeadView from '../../components/HeadView.vue'\nimport FootView from '../../components/FootView.vue'\nimport {\nUserIcon,\nDocumentIcon,\nCog6ToothIcon,\nSquares2X2Icon,\nBellIcon,\nBars3Icon,\nSparklesIcon,\n} from '@heroicons/vue/24/outline'\nimport {\nUserIcon as UserIconSolid,\nDocumentIcon as DocumentIconSolid,\nCog6ToothIcon as Cog6ToothIconSolid,\nSquares2X2Icon as Squares2X2IconSolid,\nBellIcon as BellIconSolid,\n} from '@heroicons/vue/24/solid'\nimport MobileTabBar from '@/components/MobileTabBar.vue'\n\n// 创建加载组件\nconst LoadingComponent = {\nname: 'LoadingComponent',\ntemplate: `\n  <div class=\"p-4 text-center\">\n    <div class=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500 mx-auto\"></div>\n    <p class=\"mt-2 text-gray-600\">加载中...</p>\n  </div>\n`\n}\n\n// 异步组件\nconst MyProfile = defineAsyncComponent({\nloader: () => import('@/views/user/MyProfile/index.vue'),\nloadingComponent: LoadingComponent,\ntimeout: 10000,  // 10秒超时\ndelay: 0,        // 立即显示加载组件\nsuspensible: false  // 禁用 suspense\n})\n\nconst MyResumes = defineAsyncComponent({\nloader: () => import('@/views/user/MyResumes.vue'),\nloadingComponent: LoadingComponent,\ntimeout: 10000\n})\n\n\nconst AccountSettings = defineAsyncComponent({\nloader: () => import('@/views/user/AccountSettings.vue'),\nloadingComponent: LoadingComponent,\ntimeout: 10000\n})\n\n\nconst UserHome = defineAsyncComponent({\nloader: () => import('@/views/user/MyProfile/components/UserHome.vue'),\nloadingComponent: LoadingComponent,\ntimeout: 10000,\ndelay: 0,\nsuspensible: false\n})\n\nconst MyMessages = defineAsyncComponent({\nloader: () => import('@/views/user/MyProfile/components/MyMessages.vue'),\nloadingComponent: LoadingComponent,\ntimeout: 10000\n})\n\n// 导入会员中心组件\nconst Membership = defineAsyncComponent({\nloader: () => import('@/views/user/Membership/index.vue'),\nloadingComponent: LoadingComponent,\ntimeout: 10000\n})\n\nconst route = useRoute()\nconst router = useRouter()\n\n// 统一的 currentTab 声明，使用 URL 参数或 localStorage\nconst currentTab = ref(route.query.tab || localStorage.getItem('userCenterTab') || 'profile')\n\n// 监听标签变化\nwatch(currentTab, (newTab) => {\n// 更新 localStorage\nlocalStorage.setItem('userCenterTab', newTab)\n// 更新 URL 参数\nrouter.replace({\n  query: { ...route.query, tab: newTab }\n})\n})\n\n// 监听 URL 参数变化\nwatch(\n() => route.query.tab,\n(newTab) => {\n  if (newTab && newTab !== currentTab.value) {\n    currentTab.value = newTab\n  }\n}\n)\n\n// 处理标签切换\nconst handleTabChange = (key) => {\nif (showMobileTabBar.value) {\n  currentTab.value = key\n}\n}\n\n// 将原有的tabs拆分为主要和次要标签\nconst tabs = [\n{ \n  key: 'home', \n  name: '用户中心',\n  icon: Squares2X2Icon\n},\n{ \n  key: 'profile', \n  name: '我的档案',\n  icon: UserIcon\n},\n{ \n  key: 'resumes', \n  name: '我的简历',\n  icon: DocumentIcon\n},\n{ \n  key: 'membership', \n  name: '会员中心',\n  icon: SparklesIcon\n},\n{ \n  key: 'messages', \n  name: '系统消息',\n  icon: BellIcon\n},\n{ \n  key: 'account', \n  name: '账户设置',\n  icon: Cog6ToothIcon\n}\n]\n\n// 模拟数据\nconst portfolioCount = ref(4) // 假设有4个作品\nconst creationsCount = ref(5) // 假设有5个创作\nconst favoritesCount = ref(10) // 假设有10个收藏\nconst unreadMessagesCount = ref(3) // 假设有3条未读消息\n\nconst messageBadge = computed(() => unreadMessagesCount.value)\n\n// 移动端底部导航按钮\nconst mobileActions = [\n{\n  key: 'home',\n  label: '用户中心',\n  icon: Squares2X2Icon,\n},\n{\n  key: 'profile',\n  label: '档案',\n  icon: UserIcon,\n},\n{\n  key: 'resumes',\n  label: '简历',\n  icon: DocumentIcon,\n},\n{\n  key: 'messages',\n  label: '消息',\n  icon: BellIcon,\n  badge: unreadMessagesCount\n},\n{\n  key: 'account',\n  label: '设置',\n  icon: Cog6ToothIcon,\n}\n]\n\n// 移动端菜单状态\nconst isMobileMenuOpen = ref(false)\n\n// 处理移动端标签切换\nconst handleMobileTabChange = (key) => {\ncurrentTab.value = key\nisMobileMenuOpen.value = false\n}\n\n// 动态组件\nconst currentComponent = computed(() => {\nswitch (currentTab.value) {\n  case 'home':\n    return UserHome\n  case 'membership':\n    return Membership\n  case 'profile':\n    return MyProfile\n  case 'resumes':\n    return MyResumes\n  case 'messages':\n    return MyMessages\n  case 'account':\n    return AccountSettings\n  default:\n    return UserHome\n}\n})\n\n// 从 store 或者 API 获取完整度数据\nconst completionData = ref({\ntotal_score: 0\n})\n\n// 获取完整度数据\nconst fetchCompleteness = async () => {\ntry {\n  const response = await profile.getCompleteness()\n  if (response.data?.code === 200 && response.data?.data) {\n    completionData.value = response.data.data\n  }\n} catch (error) {\n  console.error('获取简历完整度失败:', error)\n}\n}\n\n// 获取标签指标\nconst getTabMetric = (key) => {\nswitch (key) {\n  case 'profile':\n    const score = Math.round(completionData.value.total_score || 0)\n    return score + '分'\n  case 'resumes':\n    return '2'\n  case 'creations':\n    return creationsCount.value\n  case 'portfolio':\n    return portfolioCount.value\n  case 'favorites':\n    return favoritesCount.value\n  case 'messages':\n    return unreadMessagesCount.value || 0\n  default:\n    return ''\n}\n}\n\n// 修改状态管理\nconst showMobileTabBar = ref(false)\n\n// 修改生命周期钩子\nonMounted(() => {\n// 延迟显示 MobileTabBar，确保 DOM 完全加载\nnextTick(() => {\n  showMobileTabBar.value = true\n})\nwindow.addEventListener('resize', handleResize)\nfetchCompleteness()\n})\n\nonUnmounted(() => {\nshowMobileTabBar.value = false\nwindow.removeEventListener('resize', handleResize)\n})\n\n// 修改 handleResize\nconst handleResize = () => {\nif (showMobileTabBar.value) {\n  window.dispatchEvent(new Event('resize'))\n}\n}\n\n// 监听路由变化，在进入个人资料页时刷新数据\nwatch(() => route.path, async (newPath) => {\nif (showMobileTabBar.value && newPath.includes('/user/profile')) {\n  await fetchCompleteness()\n}\n})\n\n// 推荐职位数据\nconst recommendedJobs = [\n{\n  id: 1,\n  title: '高级前端工程师',\n  company: '字节跳动',\n  salary: '25-35K'\n},\n{\n  id: 2,\n  title: '资深产品经理',\n  company: '腾讯',\n  salary: '30-45K'\n},\n{\n  id: 3,\n  title: 'UI设计师',\n  company: '阿里巴巴',\n  salary: '20-30K'\n}\n]\n\n// 判断标签是否激活\nconst isActiveTab = (key) => {\nif (key === 'more') {\n  return false // \"更多\"按钮永远不会处于激活状态\n}\nreturn currentTab.value === key\n}\n\n// 定义菜单组\nconst menuGroups = ref([\n{\n  title: '内容管理',\n  items: [\n    {\n      label: '作品集',\n      icon: 'portfolio',\n      route: '/user/center?tab=portfolio'\n    },\n    {\n      label: '文章',\n      icon: 'article',\n      route: '/user/center?tab=articles'\n    },\n    {\n      label: '话题',\n      icon: 'topic',\n      route: '/user/center?tab=topics'\n    },\n    {\n      label: '问答',\n      icon: 'qa',\n      route: '/user/center?tab=qa'\n    }\n  ]\n},\n{\n  title: '互动管理',\n  items: [\n    {\n      label: '评论',\n      icon: 'comment',\n      route: '/user/center?tab=comments'\n    },\n    {\n      label: '收藏',\n      icon: 'favorite',\n      route: '/user/center?tab=favorites'\n    },\n    {\n      label: '关注',\n      icon: 'follow',\n      route: '/user/center?tab=following'\n    }\n  ]\n}\n])\n\n// 获取当前标签对应的图标\nconst getTabIcon = (tab) => {\nif (currentTab.value === tab.key) {\n  // 选中状态使用实心图标\n  switch (tab.key) {\n    case 'home':\n      return Squares2X2IconSolid\n    case 'profile':\n      return UserIconSolid\n    case 'resumes':\n      return DocumentIconSolid\n    case 'messages':\n      return BellIconSolid\n    case 'account':\n      return Cog6ToothIconSolid\n    default:\n      return tab.icon\n  }\n}\n// 未选中状态使用描边图标\nreturn tab.icon\n}\n\n// 添加移动端视图判断\nconst isMobileView = computed(() => {\nreturn window.innerWidth < 768\n})\n\n// 添加 profileMenuGroups 数据\nconst profileMenuGroups = [\n{\n  title: '内容管理',\n  items: [\n    { key: 'home', label: '用户中心', icon: Squares2X2Icon },\n    { key: 'profile', label: '我的档案', icon: UserIcon },\n    { key: 'resumes', label: '我的简历', icon: DocumentIcon }\n  ]\n},\n{\n  title: '账号管理',\n  items: [\n    { key: 'messages', label: '消息', icon: BellIcon },\n    { key: 'account', label: '设置', icon: Cog6ToothIcon }\n  ]\n}\n]\n</script>\n\n<style scoped>\n/* 确保内容区域占满剩余空间 */\nmain {\n  min-height: calc(100vh - 60px);\n}\n\n@media (min-width: 1024px) {\n  .max-w-7xl {\n    max-width: 1280px;\n  }\n}\n\n.footer-container {\n  margin-top: auto;\n}\n\n/* 添加过渡动画样式 */\n.fade-enter-active,\n.fade-leave-active {\n  transition: opacity 0.3s ease;\n}\n\n.fade-enter-from,\n.fade-leave-to {\n  opacity: 0;\n}\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}