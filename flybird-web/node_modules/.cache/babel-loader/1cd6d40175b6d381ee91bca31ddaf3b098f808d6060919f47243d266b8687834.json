{"ast":null,"code":"import _objectSpread from \"/Users/liuzhao/Documents/Projects/flybird/flybird-web/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport { ref, computed, onMounted } from 'vue';\nimport { useRouter, useRoute } from 'vue-router';\nimport { useAccountStore } from '@/stores/account';\nimport MobileTabBar from '@/components/MobileTabBar.vue';\nimport { BriefcaseIcon, UserGroupIcon, DocumentTextIcon, BuildingOfficeIcon, GlobeAltIcon, BellIcon, Cog6ToothIcon, ChevronRightIcon, UserIcon, Squares2X2Icon } from '@heroicons/vue/24/outline';\n\n// 移除本地图片导入\n// 使用在线默认图片\nconst DEFAULT_BG_IMAGE = 'https://images.unsplash.com/photo-1557683316-973673baf926?w=1600&h=400&fit=crop';\nconst DEFAULT_AVATAR_IMAGE = 'https://api.dicebear.com/7.x/avataaars/svg';\nexport default {\n  __name: 'MobileUserCenter',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const router = useRouter();\n    const route = useRoute();\n    const accountStore = useAccountStore();\n    const userInfo = computed(() => accountStore.userInfo || {});\n    const isVip = computed(() => userInfo.value?.is_vip);\n\n    // 当前选中的标签\n    const currentTab = ref(route.query.tab || 'home');\n\n    // 处理标签切换\n    const handleTabChange = key => {\n      currentTab.value = key;\n      router.push({\n        query: _objectSpread(_objectSpread({}, route.query), {}, {\n          tab: key\n        })\n      });\n    };\n\n    // 移动端底部导航按钮\n    const mobileActions = [{\n      key: 'home',\n      label: '用户中心',\n      icon: Squares2X2Icon\n    }, {\n      key: 'profile',\n      label: '档案',\n      icon: UserIcon\n    }, {\n      key: 'resumes',\n      label: '简历',\n      icon: DocumentTextIcon\n    }, {\n      key: 'messages',\n      label: '消息',\n      icon: BellIcon,\n      badge: 3 // 未读消息数\n    }, {\n      key: 'account',\n      label: '设置',\n      icon: Cog6ToothIcon\n    }];\n\n    // 我的菜单项\n    const myMenuItems = [{\n      key: 'work',\n      label: '工作',\n      path: '/user/work',\n      icon: BriefcaseIcon,\n      bgColor: 'bg-blue-50',\n      iconColor: 'text-blue-600'\n    }, {\n      key: 'contacts',\n      label: '联络人',\n      path: '/user/contacts',\n      icon: UserGroupIcon,\n      bgColor: 'bg-purple-50',\n      iconColor: 'text-purple-600'\n    }, {\n      key: 'resume',\n      label: '简历',\n      path: '/user/resumes',\n      icon: DocumentTextIcon,\n      bgColor: 'bg-green-50',\n      iconColor: 'text-green-600',\n      count: '1'\n    }, {\n      key: 'companies',\n      label: '追踪的公司',\n      path: '/user/companies',\n      icon: BuildingOfficeIcon,\n      bgColor: 'bg-orange-50',\n      iconColor: 'text-orange-600',\n      count: '0'\n    }];\n\n    // 设置菜单项\n    const settingItems = [{\n      key: 'language',\n      label: '语言',\n      path: '/user/language',\n      icon: GlobeAltIcon\n    }, {\n      key: 'notification',\n      label: '通知设定',\n      path: '/user/notifications',\n      icon: BellIcon\n    }, {\n      key: 'account',\n      label: '账号设定',\n      path: '/user/settings',\n      icon: Cog6ToothIcon\n    }];\n\n    // 背景图 URL\n    const backgroundUrl = computed(() => userInfo.value?.background || DEFAULT_BG_IMAGE);\n\n    // 统计数据\n    const statistics = [{\n      label: '作品',\n      value: '4'\n    }, {\n      label: '文章',\n      value: '12'\n    }, {\n      label: '收藏',\n      value: '25'\n    }, {\n      label: '关注',\n      value: '168'\n    }];\n\n    // 处理图片加载错误\n    const handleBackgroundError = e => {\n      e.target.src = DEFAULT_BG_IMAGE;\n    };\n    const handleImageError = e => {\n      e.target.src = DEFAULT_AVATAR_IMAGE;\n    };\n\n    // 处理编辑按钮点击\n    const handleEdit = () => {\n      router.push('/user/profile');\n    };\n    const __returned__ = {\n      DEFAULT_BG_IMAGE,\n      DEFAULT_AVATAR_IMAGE,\n      router,\n      route,\n      accountStore,\n      userInfo,\n      isVip,\n      currentTab,\n      handleTabChange,\n      mobileActions,\n      myMenuItems,\n      settingItems,\n      backgroundUrl,\n      statistics,\n      handleBackgroundError,\n      handleImageError,\n      handleEdit,\n      ref,\n      computed,\n      onMounted,\n      get useRouter() {\n        return useRouter;\n      },\n      get useRoute() {\n        return useRoute;\n      },\n      get useAccountStore() {\n        return useAccountStore;\n      },\n      MobileTabBar,\n      get BriefcaseIcon() {\n        return BriefcaseIcon;\n      },\n      get UserGroupIcon() {\n        return UserGroupIcon;\n      },\n      get DocumentTextIcon() {\n        return DocumentTextIcon;\n      },\n      get BuildingOfficeIcon() {\n        return BuildingOfficeIcon;\n      },\n      get GlobeAltIcon() {\n        return GlobeAltIcon;\n      },\n      get BellIcon() {\n        return BellIcon;\n      },\n      get Cog6ToothIcon() {\n        return Cog6ToothIcon;\n      },\n      get ChevronRightIcon() {\n        return ChevronRightIcon;\n      },\n      get UserIcon() {\n        return UserIcon;\n      },\n      get Squares2X2Icon() {\n        return Squares2X2Icon;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","computed","onMounted","useRouter","useRoute","useAccountStore","MobileTabBar","BriefcaseIcon","UserGroupIcon","DocumentTextIcon","BuildingOfficeIcon","GlobeAltIcon","BellIcon","Cog6ToothIcon","ChevronRightIcon","UserIcon","Squares2X2Icon","DEFAULT_BG_IMAGE","DEFAULT_AVATAR_IMAGE","router","route","accountStore","userInfo","isVip","value","is_vip","currentTab","query","tab","handleTabChange","key","push","_objectSpread","mobileActions","label","icon","badge","myMenuItems","path","bgColor","iconColor","count","settingItems","backgroundUrl","background","statistics","handleBackgroundError","e","target","src","handleImageError","handleEdit"],"sources":["/Users/liuzhao/Documents/Projects/flybird/flybird-web/src/views/user/MyProfile/components/MobileUserCenter.vue"],"sourcesContent":["<template>\n  <div class=\"min-h-screen bg-gray-50\">\n    <!-- 顶部背景和用户信息 -->\n    <div class=\"relative\">\n      <!-- 背景图 - 增加高度 -->\n      <div class=\"h-48 bg-gradient-to-r from-gray-900 to-gray-800 relative\">\n        <div class=\"absolute inset-0\">\n          <img\n            :src=\"backgroundUrl\"\n            class=\"w-full h-full object-cover opacity-70\"\n            alt=\"背景图\"\n            @error=\"handleBackgroundError\"\n          />\n          <!-- 调整渐变遮罩 -->\n          <div class=\"absolute inset-0 bg-gradient-to-b from-transparent via-black/10 to-black/30\"></div>\n        </div>\n      </div>\n\n      <!-- 用户信息卡片 - 调整位置 -->\n      <div class=\"relative -mt-128 mx-4\">\n        <div class=\"bg-white rounded-lg shadow-sm p-4\">\n          <div class=\"relative items-center -top-10\">\n            <!-- 头像区域 -->\n            <div class=\"relative -mt-14\">\n              <img \n                :src=\"userInfo.avatar\" \n                class=\"w-24 h-24 rounded-full border-4 border-white object-cover shadow-sm\"\n                alt=\"头像\"\n                @error=\"handleImageError\"\n              />\n              <div v-if=\"isVip\" class=\"absolute -top-1 -left-1 w-6 h-6 bg-[#FFB800] rounded-full flex items-center justify-center border-2 border-white\">\n                <span class=\"text-[11px] font-bold text-white\">V</span>\n              </div>\n            </div>\n\n            <!-- 用户信息 -->\n            <div class=\"relateve ml-4 flex-1\">\n              <div class=\"flex items-center justify-between\">\n                <h2 class=\"text-lg font-bold text-gray-900\">{{ userInfo.nickname }}</h2>\n                <button \n                  @click=\"handleEdit\"\n                  class=\"px-3 py-1 text-xs text-gray-600 border border-gray-200 rounded-full hover:bg-gray-50\"\n                >\n                  编辑资料\n                </button>\n              </div>\n              <div class=\"text-sm text-gray-600 mt-1\">{{ userInfo.position || '未设置职位' }}</div>\n              <p class=\"text-sm text-gray-500 mt-2 line-clamp-2\">\n                {{ userInfo.bio || '这个人还没有填写个人简介' }}\n              </p>\n            </div>\n          </div>\n\n          <!-- 统计数据 -->\n          <div class=\"grid grid-cols-4 gap-4 mt-4 pt-4 border-t border-gray-100\">\n            <div v-for=\"stat in statistics\" :key=\"stat.label\" class=\"text-center\">\n              <div class=\"text-base font-medium text-gray-900\">{{ stat.value }}</div>\n              <div class=\"text-xs text-gray-500\">{{ stat.label }}</div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <!-- 功能菜单 -->\n    <div class=\"mt-3 bg-white\">\n      <!-- 我的 -->\n      <div class=\"px-4 py-3 text-sm text-gray-500\">我的</div>\n      <div class=\"grid grid-cols-4 px-4 py-4 gap-4\">\n        <router-link v-for=\"item in myMenuItems\" :key=\"item.key\"\n          :to=\"item.path\"\n          class=\"flex flex-col items-center\"\n        >\n          <div :class=\"['w-12 h-12 rounded-xl flex items-center justify-center mb-1', item.bgColor]\">\n            <component :is=\"item.icon\" class=\"w-5 h-5\" :class=\"item.iconColor\" />\n          </div>\n          <span class=\"text-xs text-gray-600\">{{ item.label }}</span>\n          <span v-if=\"item.count\" class=\"text-xs text-blue-600 mt-0.5\">{{ item.count }}</span>\n        </router-link>\n      </div>\n\n      <!-- 设置 -->\n      <div class=\"mt-3\">\n        <div class=\"px-4 py-3 text-sm text-gray-500\">设置</div>\n        <div class=\"divide-y divide-gray-100\">\n          <router-link v-for=\"item in settingItems\" :key=\"item.key\"\n            :to=\"item.path\"\n            class=\"flex items-center px-4 py-3 hover:bg-gray-50\"\n          >\n            <component :is=\"item.icon\" class=\"w-5 h-5 text-gray-400\" />\n            <span class=\"ml-3 text-sm text-gray-900\">{{ item.label }}</span>\n            <ChevronRightIcon class=\"w-5 h-5 text-gray-400 ml-auto\" />\n          </router-link>\n        </div>\n      </div>\n    </div>\n\n    <!-- 移动端底部导航 -->\n    <MobileTabBar\n      :current-tab=\"currentTab\"\n      :actions=\"mobileActions\"\n      @tab-change=\"handleTabChange\"\n    />\n  </div>\n</template>\n\n<script setup>\nimport { ref, computed, onMounted } from 'vue'\nimport { useRouter, useRoute } from 'vue-router'\nimport { useAccountStore } from '@/stores/account'\nimport MobileTabBar from '@/components/MobileTabBar.vue'\nimport {\n  BriefcaseIcon,\n  UserGroupIcon,\n  DocumentTextIcon,\n  BuildingOfficeIcon,\n  GlobeAltIcon,\n  BellIcon,\n  Cog6ToothIcon,\n  ChevronRightIcon,\n  UserIcon,\n  Squares2X2Icon,\n} from '@heroicons/vue/24/outline'\n\n// 移除本地图片导入\n// 使用在线默认图片\nconst DEFAULT_BG_IMAGE = 'https://images.unsplash.com/photo-1557683316-973673baf926?w=1600&h=400&fit=crop'\nconst DEFAULT_AVATAR_IMAGE = 'https://api.dicebear.com/7.x/avataaars/svg'\n\nconst router = useRouter()\nconst route = useRoute()\nconst accountStore = useAccountStore()\n\nconst userInfo = computed(() => accountStore.userInfo || {})\nconst isVip = computed(() => userInfo.value?.is_vip)\n\n// 当前选中的标签\nconst currentTab = ref(route.query.tab || 'home')\n\n// 处理标签切换\nconst handleTabChange = (key) => {\n  currentTab.value = key\n  router.push({ query: { ...route.query, tab: key }})\n}\n\n// 移动端底部导航按钮\nconst mobileActions = [\n  {\n    key: 'home',\n    label: '用户中心',\n    icon: Squares2X2Icon,\n  },\n  {\n    key: 'profile',\n    label: '档案',\n    icon: UserIcon,\n  },\n  {\n    key: 'resumes',\n    label: '简历',\n    icon: DocumentTextIcon,\n  },\n  {\n    key: 'messages',\n    label: '消息',\n    icon: BellIcon,\n    badge: 3 // 未读消息数\n  },\n  {\n    key: 'account',\n    label: '设置',\n    icon: Cog6ToothIcon,\n  }\n]\n\n// 我的菜单项\nconst myMenuItems = [\n  {\n    key: 'work',\n    label: '工作',\n    path: '/user/work',\n    icon: BriefcaseIcon,\n    bgColor: 'bg-blue-50',\n    iconColor: 'text-blue-600'\n  },\n  {\n    key: 'contacts',\n    label: '联络人',\n    path: '/user/contacts',\n    icon: UserGroupIcon,\n    bgColor: 'bg-purple-50',\n    iconColor: 'text-purple-600'\n  },\n  {\n    key: 'resume',\n    label: '简历',\n    path: '/user/resumes',\n    icon: DocumentTextIcon,\n    bgColor: 'bg-green-50',\n    iconColor: 'text-green-600',\n    count: '1'\n  },\n  {\n    key: 'companies',\n    label: '追踪的公司',\n    path: '/user/companies',\n    icon: BuildingOfficeIcon,\n    bgColor: 'bg-orange-50',\n    iconColor: 'text-orange-600',\n    count: '0'\n  }\n]\n\n// 设置菜单项\nconst settingItems = [\n  {\n    key: 'language',\n    label: '语言',\n    path: '/user/language',\n    icon: GlobeAltIcon\n  },\n  {\n    key: 'notification',\n    label: '通知设定',\n    path: '/user/notifications',\n    icon: BellIcon\n  },\n  {\n    key: 'account',\n    label: '账号设定',\n    path: '/user/settings',\n    icon: Cog6ToothIcon\n  }\n]\n\n// 背景图 URL\nconst backgroundUrl = computed(() => userInfo.value?.background || DEFAULT_BG_IMAGE)\n\n// 统计数据\nconst statistics = [\n  { label: '作品', value: '4' },\n  { label: '文章', value: '12' },\n  { label: '收藏', value: '25' },\n  { label: '关注', value: '168' }\n]\n\n// 处理图片加载错误\nconst handleBackgroundError = (e) => {\n  e.target.src = DEFAULT_BG_IMAGE\n}\n\nconst handleImageError = (e) => {\n  e.target.src = DEFAULT_AVATAR_IMAGE\n}\n\n// 处理编辑按钮点击\nconst handleEdit = () => {\n  router.push('/user/profile')\n}\n</script>\n\n<style scoped>\n.min-h-screen {\n  padding-bottom: 60px;\n}\n\n/* 添加图片加载过渡效果 */\nimg {\n  transition: opacity 0.3s ease;\n}\n\nimg[src=\"\"] {\n  opacity: 0;\n}\n\n/* 确保内容不会被顶部背景遮挡 */\n.relative {\n  z-index: 1;\n}\n</style> "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}