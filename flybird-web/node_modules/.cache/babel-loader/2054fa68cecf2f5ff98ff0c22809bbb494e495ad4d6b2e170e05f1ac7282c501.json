{"ast":null,"code":"import { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, resolveDynamicComponent as _resolveDynamicComponent, normalizeClass as _normalizeClass, createBlock as _createBlock, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, createCommentVNode as _createCommentVNode, createVNode as _createVNode, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx } from \"vue\";\nconst _hoisted_1 = {\n  class: \"fixed bottom-0 left-0 right-0 bg-white border-t lg:hidden safe-area-inset-bottom z-50\"\n};\nconst _hoisted_2 = {\n  class: \"grid grid-cols-5 gap-1\"\n};\nconst _hoisted_3 = [\"onClick\"];\nconst _hoisted_4 = {\n  class: \"text-xs mt-1 truncate\"\n};\nconst _hoisted_5 = {\n  key: 0,\n  class: \"absolute -top-1 right-1/4 bg-red-500 text-white text-xs rounded-full w-4 h-4 flex items-center justify-center\"\n};\nconst _hoisted_6 = {\n  class: \"h-full flex flex-col\"\n};\nconst _hoisted_7 = {\n  class: \"p-4 border-b border-gray-200\"\n};\nconst _hoisted_8 = {\n  class: \"flex items-center justify-between\"\n};\nconst _hoisted_9 = {\n  class: \"flex-1 overflow-y-auto\"\n};\nconst _hoisted_10 = {\n  class: \"px-3 py-4\"\n};\nconst _hoisted_11 = {\n  class: \"px-3 text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2\"\n};\nconst _hoisted_12 = {\n  class: \"space-y-1\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_router_link = _resolveComponent(\"router-link\");\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createElementVNode(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [(_openBlock(), _createElementBlock(_Fragment, null, _renderList($setup.mobileActions, action => {\n    return _createElementVNode(\"button\", {\n      key: action.key,\n      onClick: action.handler,\n      class: _normalizeClass([\"flex flex-col items-center py-2 px-1 relative\", [$setup.isActiveAction(action.key) ? 'text-blue-600' : 'text-gray-500']])\n    }, [(_openBlock(), _createBlock(_resolveDynamicComponent(action.icon), {\n      class: _normalizeClass([\"w-6 h-6\", $setup.isActiveAction(action.key) ? 'text-blue-600' : 'text-gray-500'])\n    }, null, 8 /* PROPS */, [\"class\"])), _createElementVNode(\"span\", _hoisted_4, _toDisplayString(action.label), 1 /* TEXT */), action.badge ? (_openBlock(), _createElementBlock(\"span\", _hoisted_5, _toDisplayString(action.badge), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true)], 10 /* CLASS, PROPS */, _hoisted_3);\n  }), 64 /* STABLE_FRAGMENT */))])]), _createCommentVNode(\" 移动端更多菜单抽屉的遮罩层 \"), $setup.isMobileMenuOpen ? (_openBlock(), _createElementBlock(\"div\", {\n    key: 0,\n    class: \"fixed inset-0 bg-black bg-opacity-25 z-[60] lg:hidden\",\n    onClick: $setup.closeMenu\n  })) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" 移动端更多菜单抽屉 \"), _createElementVNode(\"div\", {\n    class: _normalizeClass(['fixed inset-y-0 left-0 w-64 bg-white shadow-xl z-[70] transform transition-transform duration-300 ease-in-out lg:hidden', $setup.isMobileMenuOpen ? 'translate-x-0' : '-translate-x-full'])\n  }, [_createElementVNode(\"div\", _hoisted_6, [_createElementVNode(\"div\", _hoisted_7, [_createElementVNode(\"div\", _hoisted_8, [_cache[0] || (_cache[0] = _createElementVNode(\"h2\", {\n    class: \"text-lg font-medium text-gray-900\"\n  }, \"更多功能\", -1 /* HOISTED */)), _createElementVNode(\"button\", {\n    onClick: $setup.closeMenu,\n    class: \"text-gray-500\"\n  }, [_createVNode($setup[\"XMarkIcon\"], {\n    class: \"w-6 h-6\"\n  })])])]), _createElementVNode(\"div\", _hoisted_9, [_createElementVNode(\"div\", _hoisted_10, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.currentMenuGroups, group => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      key: group.title,\n      class: \"mb-6\"\n    }, [_createElementVNode(\"h3\", _hoisted_11, _toDisplayString(group.title), 1 /* TEXT */), _createElementVNode(\"div\", _hoisted_12, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(group.items, item => {\n      return _openBlock(), _createBlock(_component_router_link, {\n        key: item.path,\n        to: item.path,\n        class: _normalizeClass([\"group flex items-center w-full px-3 py-2 text-sm font-medium rounded-md\", [$setup.route.path === item.path ? 'bg-blue-50 text-blue-600' : 'text-gray-600 hover:bg-gray-50 hover:text-gray-900']]),\n        onClick: $setup.closeMenu\n      }, {\n        default: _withCtx(() => [(_openBlock(), _createBlock(_resolveDynamicComponent(item.icon), {\n          class: _normalizeClass([\"mr-3 h-6 w-6\", $setup.route.path === item.path ? 'text-blue-600' : 'text-gray-400'])\n        }, null, 8 /* PROPS */, [\"class\"])), _createTextVNode(\" \" + _toDisplayString(item.name), 1 /* TEXT */)]),\n        _: 2 /* DYNAMIC */\n      }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"to\", \"class\"]);\n    }), 128 /* KEYED_FRAGMENT */))])]);\n  }), 128 /* KEYED_FRAGMENT */))])])])], 2 /* CLASS */)], 64 /* STABLE_FRAGMENT */);\n}","map":{"version":3,"names":["class","key","_createElementBlock","_Fragment","_createElementVNode","_hoisted_1","_hoisted_2","_renderList","$setup","mobileActions","action","onClick","handler","_normalizeClass","isActiveAction","_createBlock","_resolveDynamicComponent","icon","_hoisted_4","_toDisplayString","label","badge","_hoisted_5","_createCommentVNode","_hoisted_3","isMobileMenuOpen","closeMenu","_hoisted_6","_hoisted_7","_hoisted_8","_createVNode","_hoisted_9","_hoisted_10","currentMenuGroups","group","title","_hoisted_11","_hoisted_12","items","item","_component_router_link","path","to","route","default","_withCtx","_createTextVNode","name","_"],"sources":["/Users/liuzhao/Documents/Projects/flybird/flybird-web/src/components/MobileTabBar.vue"],"sourcesContent":["<template>\n  <div class=\"fixed bottom-0 left-0 right-0 bg-white border-t lg:hidden safe-area-inset-bottom z-50\">\n    <div class=\"grid grid-cols-5 gap-1\">\n      <button\n        v-for=\"action in mobileActions\"\n        :key=\"action.key\"\n        @click=\"action.handler\"\n        class=\"flex flex-col items-center py-2 px-1 relative\"\n        :class=\"[\n          isActiveAction(action.key)\n            ? 'text-blue-600'\n            : 'text-gray-500'\n        ]\"\n      >\n        <component \n          :is=\"action.icon\" \n          class=\"w-6 h-6\"\n          :class=\"isActiveAction(action.key) ? 'text-blue-600' : 'text-gray-500'\"\n        />\n        <span class=\"text-xs mt-1 truncate\">{{ action.label }}</span>\n        <span \n          v-if=\"action.badge\" \n          class=\"absolute -top-1 right-1/4 bg-red-500 text-white text-xs rounded-full w-4 h-4 flex items-center justify-center\"\n        >\n          {{ action.badge }}\n        </span>\n      </button>\n    </div>\n  </div>\n\n  <!-- 移动端更多菜单抽屉的遮罩层 -->\n  <div \n    v-if=\"isMobileMenuOpen\" \n    class=\"fixed inset-0 bg-black bg-opacity-25 z-[60] lg:hidden\"\n    @click=\"closeMenu\"\n  />\n  \n  <!-- 移动端更多菜单抽屉 -->\n  <div \n    :class=\"[\n      'fixed inset-y-0 left-0 w-64 bg-white shadow-xl z-[70] transform transition-transform duration-300 ease-in-out lg:hidden',\n      isMobileMenuOpen ? 'translate-x-0' : '-translate-x-full'\n    ]\"\n  >\n    <div class=\"h-full flex flex-col\">\n      <div class=\"p-4 border-b border-gray-200\">\n        <div class=\"flex items-center justify-between\">\n          <h2 class=\"text-lg font-medium text-gray-900\">更多功能</h2>\n          <button \n            @click=\"closeMenu\"\n            class=\"text-gray-500\"\n          >\n            <XMarkIcon class=\"w-6 h-6\" />\n          </button>\n        </div>\n      </div>\n      \n      <div class=\"flex-1 overflow-y-auto\">\n        <div class=\"px-3 py-4\">\n          <div v-for=\"group in currentMenuGroups\" :key=\"group.title\" class=\"mb-6\">\n            <h3 class=\"px-3 text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2\">\n              {{ group.title }}\n            </h3>\n            <div class=\"space-y-1\">\n              <router-link\n                v-for=\"item in group.items\"\n                :key=\"item.path\"\n                :to=\"item.path\"\n                class=\"group flex items-center w-full px-3 py-2 text-sm font-medium rounded-md\"\n                :class=\"[\n                  route.path === item.path\n                    ? 'bg-blue-50 text-blue-600'\n                    : 'text-gray-600 hover:bg-gray-50 hover:text-gray-900'\n                ]\"\n                @click=\"closeMenu\"\n              >\n                <component\n                  :is=\"item.icon\"\n                  class=\"mr-3 h-6 w-6\"\n                  :class=\"route.path === item.path ? 'text-blue-600' : 'text-gray-400'\"\n                />\n                {{ item.name }}\n              </router-link>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { ref, computed } from 'vue'\nimport { useRoute, useRouter } from 'vue-router'\nimport {\n  Bars3Icon,\n  XMarkIcon,\n  UsersIcon,\n  UserCircleIcon,\n  PhotoIcon,\n  Cog6ToothIcon,\n  DocumentTextIcon,\n  QuestionMarkCircleIcon,\n  ScaleIcon,\n  PaintBrushIcon,\n  VideoCameraIcon,\n  CameraIcon,\n  FilmIcon,\n  DocumentIcon,\n  StarIcon,\n  GlobeAltIcon,\n  UserIcon,\n  HomeIcon,\n  EnvelopeIcon,\n  ShieldCheckIcon,\n  BriefcaseIcon,\n  AcademicCapIcon,\n  BookOpenIcon,\n  LanguageIcon\n} from '@heroicons/vue/24/outline'\n\nconst props = defineProps({\n  menuGroups: {\n    type: Array,\n    required: true,\n    default: () => []\n  },\n  unreadMessages: {\n    type: Number,\n    default: 0\n  }\n})\n\nconst route = useRoute()\nconst router = useRouter()\nconst isMobileMenuOpen = ref(false)\n\n// 底部导航按钮\nconst mobileActions = [\n  {\n    key: 'more',\n    label: '分类',\n    icon: Bars3Icon,\n    handler: () => { \n      isMobileMenuOpen.value = true \n    }\n  },\n  {\n    key: 'templates',\n    label: '模版',\n    icon: DocumentTextIcon,\n    handler: () => router.push('/templates')\n  },\n  {\n    key: 'community',\n    label: '社区',\n    icon: UsersIcon,\n    handler: () => router.push('/community')\n  },\n  {\n    key: 'portfolio',\n    label: '作品集',\n    icon: PhotoIcon,\n    handler: () => router.push('/portfolio')\n  },\n  {\n    key: 'profile',\n    label: '我的',\n    icon: UserCircleIcon,\n    handler: () => router.push('/user?tab=home')\n  }\n]\n\nconst isActiveAction = (key) => {\n  if (key === 'more') return false\n  if (key === 'templates') return route.path.startsWith('/templates')\n  if (key === 'community') return route.path.startsWith('/community')\n  if (key === 'portfolio') return route.path.startsWith('/portfolio')\n  if (key === 'profile') {\n    return route.path.includes('/user') && \n           !['account', 'privacy'].includes(route.query.tab || '')\n  }\n  if (key === 'settings') {\n    return route.path.includes('/user') && \n           ['account', 'privacy'].includes(route.query.tab || '')\n  }\n  return false\n}\n\nconst closeMenu = () => {\n  isMobileMenuOpen.value = false\n}\n\n// 定义不同场景下的菜单组\nconst communityMenuGroups = [\n  {\n    title: '社区功能',\n    items: [\n      {\n        name: '首页',\n        path: '/community',\n        icon: HomeIcon\n      },\n      { \n        name: '文章', \n        path: '/community/articles', \n        icon: DocumentTextIcon \n      },\n      { \n        name: '问答', \n        path: '/community/questions', \n        icon: QuestionMarkCircleIcon \n      },\n      { \n        name: '话题', \n        path: '/community/topics', \n        icon: ScaleIcon \n      }\n    ]\n  }\n]\n\nconst portfolioMenuGroups = [\n  {\n    title: '创作功能',\n    items: [\n      {\n        name: '发现',\n        path: '/portfolio',\n        icon: HomeIcon\n      },\n      {\n        name: '设计',\n        path: '/portfolio/design',\n        icon: PaintBrushIcon\n      },\n      {\n        name: '视频',\n        path: '/portfolio/video',\n        icon: VideoCameraIcon\n      },\n      {\n        name: '摄影',\n        path: '/portfolio/photo',\n        icon: CameraIcon\n      },\n      {\n        name: '动画',\n        path: '/portfolio/animation',\n        icon: FilmIcon\n      }\n    ]\n  }\n]\n\n\n\n// 修改模版菜单组\nconst templateMenuGroups = [\n  {\n    title: '简历模板',\n    items: [\n      { \n        name: '简历', \n        path: '/templates/resume', \n        icon: DocumentIcon \n      },\n      { \n        name: '求职信', \n        path: '/templates/cover-letter', \n        icon: AcademicCapIcon \n      }\n    ]\n  }\n]\n\n// 根据当前路由计算要显示的菜单组\nconst currentMenuGroups = computed(() => {\n  if (route.path.startsWith('/templates')) {\n    return templateMenuGroups\n  }\n  if (route.path.startsWith('/community')) {\n    return communityMenuGroups\n  }\n  if (route.path.startsWith('/portfolio')) {\n    return portfolioMenuGroups\n  }\n  if (route.path.includes('/user')) {\n    if (route.query.tab === 'account' || \n        route.query.tab === 'privacy') {\n      return settingsMenuGroups\n    }\n    return profileMenuGroups\n  }\n  return communityMenuGroups\n})\n</script>\n\n<style scoped>\n.safe-area-inset-bottom {\n  padding-bottom: env(safe-area-inset-bottom);\n}\n</style> "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}