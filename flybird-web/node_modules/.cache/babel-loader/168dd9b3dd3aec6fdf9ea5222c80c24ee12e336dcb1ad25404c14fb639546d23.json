{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, createVNode as _createVNode, createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, createBlock as _createBlock, withCtx as _withCtx } from \"vue\";\nconst _hoisted_1 = {\n  class: \"container mx-auto pb-6\"\n};\nconst _hoisted_2 = {\n  class: \"max-w-4xl mx-auto space-y-4\"\n};\nconst _hoisted_3 = {\n  key: 0,\n  class: \"bg-white rounded-lg shadow\"\n};\nconst _hoisted_4 = {\n  class: \"px-4 py-3\"\n};\nconst _hoisted_5 = {\n  class: \"mt-3 flex flex-wrap gap-2\"\n};\nconst _hoisted_6 = [\"onClick\"];\nconst _hoisted_7 = {\n  class: \"fixed inset-0 overflow-y-auto\"\n};\nconst _hoisted_8 = {\n  class: \"flex min-h-full items-center justify-center p-4 text-center\"\n};\nconst _hoisted_9 = {\n  class: \"p-6\"\n};\nconst _hoisted_10 = {\n  class: \"flex items-start space-x-3\"\n};\nconst _hoisted_11 = {\n  class: \"p-2 bg-red-50 rounded-full flex-shrink-0\"\n};\nconst _hoisted_12 = {\n  class: \"flex-1\"\n};\nconst _hoisted_13 = {\n  class: \"mt-6 flex justify-end space-x-3\"\n};\nconst _hoisted_14 = {\n  class: \"fixed inset-0 overflow-y-auto\"\n};\nconst _hoisted_15 = {\n  class: \"flex min-h-full items-center justify-center p-4 text-center\"\n};\nconst _hoisted_16 = {\n  class: \"mt-2\"\n};\nconst _hoisted_17 = {\n  class: \"text-sm text-gray-500\"\n};\nconst _hoisted_18 = {\n  class: \"mt-4 flex justify-end space-x-3\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createCommentVNode(\" 基本信息 \"), _createVNode($setup[\"BasicInfo\"], {\n    resumeData: $setup.profileData?.basic_info,\n    loading: $setup.profileLoading,\n    bioExpanded: $setup.bioExpanded,\n    showBioExpandButton: $setup.showBioExpandButton,\n    onEdit: $setup.handleEdit,\n    onUpdate: $setup.handleUpdate,\n    onToggleBioExpand: $setup.toggleBioExpand\n  }, null, 8 /* PROPS */, [\"resumeData\", \"loading\", \"bioExpanded\", \"showBioExpandButton\"]), _createCommentVNode(\" 简历状态 \"), _createVNode($setup[\"ResumeStatus\"], {\n    \"completion-data\": $setup.completionData,\n    \"profile-data\": $setup.profileData,\n    loading: $setup.profileLoading\n  }, null, 8 /* PROPS */, [\"completion-data\", \"profile-data\", \"loading\"]), _createCommentVNode(\" 激活的模块列表 \"), _createVNode($setup[\"ModuleList\"], {\n    \"active-modules\": $setup.activeModules,\n    \"inactive-modules\": $setup.inactiveModules,\n    loading: $setup.modulesLoading,\n    \"fetch-modules-data\": $setup.fetchModulesData,\n    onEdit: $setup.handleEdit,\n    onAdd: $setup.handleAdd,\n    onRemove: $setup.handleModuleRemove,\n    onDelete: $setup.handleDelete\n  }, null, 8 /* PROPS */, [\"active-modules\", \"inactive-modules\", \"loading\", \"fetch-modules-data\"]), _createCommentVNode(\" 未激活的模块按钮组 \"), $setup.inactiveModules.length > 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_3, [_createElementVNode(\"div\", _hoisted_4, [_cache[14] || (_cache[14] = _createElementVNode(\"h3\", {\n    class: \"text-sm font-medium text-gray-900\"\n  }, \"添加更多模块\", -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_5, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.inactiveModules, module => {\n    return _openBlock(), _createElementBlock(\"button\", {\n      key: module.type,\n      onClick: $event => $setup.handleAddModule(module.type),\n      class: \"inline-flex items-center px-3 py-1.5 text-sm text-gray-600 bg-gray-50 hover:bg-gray-100 rounded border border-gray-200\"\n    }, [_createTextVNode(_toDisplayString($setup.getModuleName(module.type)) + \" \", 1 /* TEXT */), _createVNode($setup[\"PlusIcon\"], {\n      class: \"w-4 h-4 ml-1 text-gray-400\"\n    })], 8 /* PROPS */, _hoisted_6);\n  }), 128 /* KEYED_FRAGMENT */))])])])) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" 工作经历编辑弹窗 \"), _createVNode($setup[\"EditWorkExperienceDialog\"], {\n    modelValue: $setup.showWorkExperienceDialog,\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $setup.showWorkExperienceDialog = $event),\n    \"initial-data\": $setup.editWorkExperienceData,\n    loading: $setup.profileLoading,\n    onSubmit: $setup.handleWorkExperienceSubmit\n  }, null, 8 /* PROPS */, [\"modelValue\", \"initial-data\", \"loading\"]), _createCommentVNode(\" 求职意向编辑弹窗 \"), _createVNode($setup[\"EditJobIntentionDialog\"], {\n    modelValue: $setup.showJobIntentionDialog,\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $setup.showJobIntentionDialog = $event),\n    \"initial-data\": $setup.editJobIntentionData,\n    loading: $setup.profileLoading,\n    onSubmit: $setup.handleJobIntentionSubmit\n  }, null, 8 /* PROPS */, [\"modelValue\", \"initial-data\", \"loading\"]), _createCommentVNode(\" 基本信息编辑弹窗 \"), $setup.currentModule?.type === 'basic_info' ? (_openBlock(), _createBlock($setup[\"EditBasicDialog\"], {\n    key: 1,\n    modelValue: $setup.showEditModal,\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $setup.showEditModal = $event),\n    \"initial-data\": $setup.editFormData,\n    loading: $setup.profileLoading,\n    onSubmit: $setup.handleSubmit\n  }, null, 8 /* PROPS */, [\"modelValue\", \"initial-data\", \"loading\"])) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" AI 优化弹窗 \"), _createVNode($setup[\"AIOptimizeDialog\"], {\n    modelValue: $setup.showAIOptimizeDialog,\n    \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $setup.showAIOptimizeDialog = $event),\n    \"profile-data\": $setup.profileData,\n    onApply: $setup.handleAIOptimize\n  }, null, 8 /* PROPS */, [\"modelValue\", \"profile-data\"]), _createCommentVNode(\" 删除确认弹窗 \"), _createVNode($setup[\"TransitionRoot\"], {\n    appear: \"\",\n    show: !!$setup.showDeleteConfirmDialog,\n    as: \"div\"\n  }, {\n    default: _withCtx(() => [_createVNode($setup[\"Dialog\"], {\n      as: \"div\",\n      class: \"relative z-50\",\n      onClose: $setup.closeDeleteConfirm\n    }, {\n      default: _withCtx(() => [_createVNode($setup[\"TransitionChild\"], {\n        as: \"div\",\n        show: true,\n        enter: \"duration-300 ease-out\",\n        \"enter-from\": \"opacity-0\",\n        \"enter-to\": \"opacity-100\",\n        leave: \"duration-200 ease-in\",\n        \"leave-from\": \"opacity-100\",\n        \"leave-to\": \"opacity-0\"\n      }, {\n        default: _withCtx(() => _cache[15] || (_cache[15] = [_createElementVNode(\"div\", {\n          class: \"fixed inset-0 bg-black/25\"\n        }, null, -1 /* HOISTED */)])),\n        _: 1 /* STABLE */\n      }), _createElementVNode(\"div\", _hoisted_7, [_createElementVNode(\"div\", _hoisted_8, [_createVNode($setup[\"TransitionChild\"], {\n        as: \"div\",\n        show: true,\n        enter: \"duration-300 ease-out\",\n        \"enter-from\": \"opacity-0 scale-95\",\n        \"enter-to\": \"opacity-100 scale-100\",\n        leave: \"duration-200 ease-in\",\n        \"leave-from\": \"opacity-100 scale-100\",\n        \"leave-to\": \"opacity-0 scale-95\"\n      }, {\n        default: _withCtx(() => [_createVNode($setup[\"DialogPanel\"], {\n          class: \"w-full max-w-md transform overflow-hidden rounded-xl bg-white text-left align-middle shadow-xl transition-all\"\n        }, {\n          default: _withCtx(() => [_createElementVNode(\"div\", _hoisted_9, [_createElementVNode(\"div\", _hoisted_10, [_createElementVNode(\"div\", _hoisted_11, [_createVNode($setup[\"ExclamationTriangleIcon\"], {\n            class: \"w-6 h-6 text-red-600\"\n          })]), _createElementVNode(\"div\", _hoisted_12, [_createVNode($setup[\"DialogTitle\"], {\n            as: \"h3\",\n            class: \"text-lg font-medium text-gray-900\"\n          }, {\n            default: _withCtx(() => _cache[16] || (_cache[16] = [_createTextVNode(\" 确认删除工作经历？ \")])),\n            _: 1 /* STABLE */\n          }), _cache[17] || (_cache[17] = _createElementVNode(\"p\", {\n            class: \"mt-2 text-sm text-gray-500\"\n          }, \" 删除后将无法恢复，请确认是否继续。 \", -1 /* HOISTED */))])]), _createElementVNode(\"div\", _hoisted_13, [_createElementVNode(\"button\", {\n            type: \"button\",\n            onClick: $setup.closeDeleteConfirm,\n            class: \"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500\"\n          }, \" 取消 \"), _createElementVNode(\"button\", {\n            type: \"button\",\n            onClick: _cache[4] || (_cache[4] = (...args) => _ctx.confirmDelete && _ctx.confirmDelete(...args)),\n            class: \"px-4 py-2 text-sm font-medium text-white bg-red-600 border border-transparent rounded-lg hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500\"\n          }, \" 确认删除 \")])])]),\n          _: 1 /* STABLE */\n        })]),\n        _: 1 /* STABLE */\n      })])])]),\n      _: 1 /* STABLE */\n    })]),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"show\"]), _createCommentVNode(\" 教育经历编辑弹窗 \"), _createVNode($setup[\"EditEducationDialog\"], {\n    modelValue: $setup.showEducationDialog,\n    \"onUpdate:modelValue\": _cache[5] || (_cache[5] = $event => $setup.showEducationDialog = $event),\n    \"initial-data\": $setup.editEducationData,\n    loading: $setup.profileLoading,\n    onSubmit: $setup.handleEducationSubmit\n  }, null, 8 /* PROPS */, [\"modelValue\", \"initial-data\", \"loading\"]), _createCommentVNode(\" 项目经历编辑弹窗 \"), _createVNode($setup[\"EditProjectDialog\"], {\n    modelValue: $setup.showProjectDialog,\n    \"onUpdate:modelValue\": _cache[6] || (_cache[6] = $event => $setup.showProjectDialog = $event),\n    \"initial-data\": $setup.editProjectData,\n    loading: $setup.profileLoading,\n    onSubmit: $setup.handleProjectSubmit\n  }, null, 8 /* PROPS */, [\"modelValue\", \"initial-data\", \"loading\"]), _createCommentVNode(\" 证书奖项编辑弹窗 \"), _createVNode($setup[\"EditCertificateDialog\"], {\n    modelValue: $setup.showCertificateDialog,\n    \"onUpdate:modelValue\": _cache[7] || (_cache[7] = $event => $setup.showCertificateDialog = $event),\n    \"initial-data\": $setup.editCertificateData,\n    loading: $setup.profileLoading,\n    onSubmit: $setup.handleCertificateSubmit\n  }, null, 8 /* PROPS */, [\"modelValue\", \"initial-data\", \"loading\"]), _createCommentVNode(\" 专业技能编辑弹窗 \"), _createVNode($setup[\"EditSkillDialog\"], {\n    modelValue: $setup.showSkillDialog,\n    \"onUpdate:modelValue\": _cache[8] || (_cache[8] = $event => $setup.showSkillDialog = $event),\n    \"initial-data\": $setup.editSkillData,\n    loading: $setup.profileLoading,\n    onSubmit: $setup.handleSkillSubmit\n  }, null, 8 /* PROPS */, [\"modelValue\", \"initial-data\", \"loading\"]), _createCommentVNode(\" 语言能力编辑弹窗 \"), _createVNode($setup[\"EditLanguageDialog\"], {\n    modelValue: $setup.showLanguageDialog,\n    \"onUpdate:modelValue\": _cache[9] || (_cache[9] = $event => $setup.showLanguageDialog = $event),\n    \"initial-data\": $setup.editLanguageData,\n    loading: $setup.profileLoading,\n    onSubmit: $setup.handleLanguageSubmit\n  }, null, 8 /* PROPS */, [\"modelValue\", \"initial-data\", \"loading\"]), _createCommentVNode(\" 社交主页编辑弹窗 \"), $setup.currentModule?.type === 'social_link' ? (_openBlock(), _createBlock($setup[\"EditSocialLinkDialog\"], {\n    key: 2,\n    modelValue: $setup.showEditModal,\n    \"onUpdate:modelValue\": _cache[10] || (_cache[10] = $event => $setup.showEditModal = $event),\n    \"initial-data\": $setup.editFormData,\n    loading: $setup.loading,\n    onSubmit: $setup.handleSubmit\n  }, null, 8 /* PROPS */, [\"modelValue\", \"initial-data\", \"loading\"])) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" 作品展示编辑弹窗 \"), $setup.currentModule?.type === 'portfolio' ? (_openBlock(), _createBlock($setup[\"EditPortfolioDialog\"], {\n    key: 3,\n    modelValue: $setup.showEditModal,\n    \"onUpdate:modelValue\": _cache[11] || (_cache[11] = $event => $setup.showEditModal = $event),\n    \"initial-data\": $setup.editFormData,\n    loading: $setup.loading,\n    onSubmit: $setup.handleSubmit\n  }, null, 8 /* PROPS */, [\"modelValue\", \"initial-data\", \"loading\"])) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" 确认对话框 \"), _createVNode($setup[\"TransitionRoot\"], {\n    appear: \"\",\n    show: $setup.showConfirmDialog,\n    as: \"template\"\n  }, {\n    default: _withCtx(() => [_createVNode($setup[\"Dialog\"], {\n      as: \"div\",\n      class: \"relative z-50\",\n      onClose: _cache[13] || (_cache[13] = $event => $setup.showConfirmDialog = false)\n    }, {\n      default: _withCtx(() => [_createVNode($setup[\"TransitionChild\"], {\n        as: \"template\",\n        enter: \"duration-300 ease-out\",\n        \"enter-from\": \"opacity-0\",\n        \"enter-to\": \"opacity-100\",\n        leave: \"duration-200 ease-in\",\n        \"leave-from\": \"opacity-100\",\n        \"leave-to\": \"opacity-0\"\n      }, {\n        default: _withCtx(() => _cache[18] || (_cache[18] = [_createElementVNode(\"div\", {\n          class: \"fixed inset-0 bg-black/25\"\n        }, null, -1 /* HOISTED */)])),\n        _: 1 /* STABLE */\n      }), _createElementVNode(\"div\", _hoisted_14, [_createElementVNode(\"div\", _hoisted_15, [_createVNode($setup[\"TransitionChild\"], {\n        as: \"template\",\n        enter: \"duration-300 ease-out\",\n        \"enter-from\": \"opacity-0 scale-95\",\n        \"enter-to\": \"opacity-100 scale-100\",\n        leave: \"duration-200 ease-in\",\n        \"leave-from\": \"opacity-100 scale-100\",\n        \"leave-to\": \"opacity-0 scale-95\"\n      }, {\n        default: _withCtx(() => [_createVNode($setup[\"DialogPanel\"], {\n          class: \"w-full max-w-md transform overflow-hidden rounded-2xl bg-white p-6 text-left align-middle shadow-xl transition-all\"\n        }, {\n          default: _withCtx(() => [_createVNode($setup[\"DialogTitle\"], {\n            as: \"h3\",\n            class: \"text-lg font-medium leading-6 text-gray-900\"\n          }, {\n            default: _withCtx(() => _cache[19] || (_cache[19] = [_createTextVNode(\" 确认操作 \")])),\n            _: 1 /* STABLE */\n          }), _createElementVNode(\"div\", _hoisted_16, [_createElementVNode(\"p\", _hoisted_17, _toDisplayString($setup.confirmMessage), 1 /* TEXT */)]), _createElementVNode(\"div\", _hoisted_18, [_createElementVNode(\"button\", {\n            type: \"button\",\n            class: \"inline-flex justify-center rounded-md border border-transparent bg-gray-100 px-4 py-2 text-sm font-medium text-gray-900 hover:bg-gray-200\",\n            onClick: _cache[12] || (_cache[12] = $event => $setup.showConfirmDialog = false)\n          }, \" 取消 \"), _createElementVNode(\"button\", {\n            type: \"button\",\n            class: \"inline-flex justify-center rounded-md border border-transparent bg-red-600 px-4 py-2 text-sm font-medium text-white hover:bg-red-700\",\n            onClick: $setup.handleConfirm\n          }, \" 确认 \")])]),\n          _: 1 /* STABLE */\n        })]),\n        _: 1 /* STABLE */\n      })])])]),\n      _: 1 /* STABLE */\n    })]),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"show\"])])]);\n}","map":{"version":3,"names":["class","key","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_createCommentVNode","_createVNode","$setup","resumeData","profileData","basic_info","loading","profileLoading","bioExpanded","showBioExpandButton","onEdit","handleEdit","onUpdate","handleUpdate","onToggleBioExpand","toggleBioExpand","completionData","activeModules","inactiveModules","modulesLoading","fetchModulesData","onAdd","handleAdd","onRemove","handleModuleRemove","onDelete","handleDelete","length","_hoisted_3","_hoisted_4","_hoisted_5","_Fragment","_renderList","module","type","onClick","$event","handleAddModule","_createTextVNode","_toDisplayString","getModuleName","_hoisted_6","modelValue","showWorkExperienceDialog","_cache","editWorkExperienceData","onSubmit","handleWorkExperienceSubmit","showJobIntentionDialog","editJobIntentionData","handleJobIntentionSubmit","currentModule","_createBlock","showEditModal","editFormData","handleSubmit","showAIOptimizeDialog","onApply","handleAIOptimize","appear","show","showDeleteConfirmDialog","as","default","_withCtx","onClose","closeDeleteConfirm","enter","leave","_","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","args","_ctx","confirmDelete","showEducationDialog","editEducationData","handleEducationSubmit","showProjectDialog","editProjectData","handleProjectSubmit","showCertificateDialog","editCertificateData","handleCertificateSubmit","showSkillDialog","editSkillData","handleSkillSubmit","showLanguageDialog","editLanguageData","handleLanguageSubmit","showConfirmDialog","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","confirmMessage","_hoisted_18","handleConfirm"],"sources":["/Users/liuzhao/Documents/Projects/flybird/flybird-web/src/views/user/MyProfile/index.vue"],"sourcesContent":["<!-- src/views/user/MyProfile/index.vue -->\n<template>\n  <div class=\"container mx-auto pb-6\">\n    <div class=\"max-w-4xl mx-auto space-y-4\">\n      <!-- 基本信息 -->\n      <BasicInfo\n        :resumeData=\"profileData?.basic_info\"\n        :loading=\"profileLoading\"\n        :bioExpanded=\"bioExpanded\"\n        :showBioExpandButton=\"showBioExpandButton\"\n        @edit=\"handleEdit\"\n        @update=\"handleUpdate\"\n        @toggleBioExpand=\"toggleBioExpand\"\n      />\n\n\n      <!-- 简历状态 -->\n      <ResumeStatus\n        :completion-data=\"completionData\"\n        :profile-data=\"profileData\"\n        :loading=\"profileLoading\"\n      />\n\n      <!-- 激活的模块列表 -->\n      <ModuleList\n        :active-modules=\"activeModules\"\n        :inactive-modules=\"inactiveModules\"\n        :loading=\"modulesLoading\"\n        :fetch-modules-data=\"fetchModulesData\"\n        @edit=\"handleEdit\"\n        @add=\"handleAdd\"\n        @remove=\"handleModuleRemove\"\n        @delete=\"handleDelete\"\n      />\n\n      <!-- 未激活的模块按钮组 -->\n      <div v-if=\"inactiveModules.length > 0\" class=\"bg-white rounded-lg shadow\">\n        <div class=\"px-4 py-3\">\n          <h3 class=\"text-sm font-medium text-gray-900\">添加更多模块</h3>\n          <div class=\"mt-3 flex flex-wrap gap-2\">\n            <button\n              v-for=\"module in inactiveModules\"\n              :key=\"module.type\"\n              @click=\"handleAddModule(module.type)\"\n              class=\"inline-flex items-center px-3 py-1.5 text-sm text-gray-600 bg-gray-50 hover:bg-gray-100 rounded border border-gray-200\"\n            >\n              {{ getModuleName(module.type) }}\n              <PlusIcon class=\"w-4 h-4 ml-1 text-gray-400\" />\n            </button>\n          </div>\n        </div>\n      </div>\n\n      <!-- 工作经历编辑弹窗 -->\n      <EditWorkExperienceDialog\n        v-model=\"showWorkExperienceDialog\"\n        :initial-data=\"editWorkExperienceData\"\n        :loading=\"profileLoading\"\n        @submit=\"handleWorkExperienceSubmit\"\n      />\n\n      <!-- 求职意向编辑弹窗 -->\n      <EditJobIntentionDialog\n        v-model=\"showJobIntentionDialog\"\n        :initial-data=\"editJobIntentionData\"\n        :loading=\"profileLoading\"\n        @submit=\"handleJobIntentionSubmit\"\n      />\n\n      <!-- 基本信息编辑弹窗 -->\n      <EditBasicDialog\n        v-if=\"currentModule?.type === 'basic_info'\"\n        v-model=\"showEditModal\"\n        :initial-data=\"editFormData\"\n        :loading=\"profileLoading\"\n        @submit=\"handleSubmit\"\n      />\n\n      <!-- AI 优化弹窗 -->\n      <AIOptimizeDialog\n        v-model=\"showAIOptimizeDialog\"\n        :profile-data=\"profileData\"\n        @apply=\"handleAIOptimize\"\n      />\n\n      <!-- 删除确认弹窗 -->\n      <TransitionRoot appear :show=\"!!showDeleteConfirmDialog\" as=\"div\">\n        <Dialog as=\"div\" class=\"relative z-50\" @close=\"closeDeleteConfirm\">\n          <TransitionChild\n            as=\"div\"\n            :show=\"true\"\n            enter=\"duration-300 ease-out\"\n            enter-from=\"opacity-0\"\n            enter-to=\"opacity-100\"\n            leave=\"duration-200 ease-in\"\n            leave-from=\"opacity-100\"\n            leave-to=\"opacity-0\"\n          >\n            <div class=\"fixed inset-0 bg-black/25\" />\n          </TransitionChild>\n\n          <div class=\"fixed inset-0 overflow-y-auto\">\n            <div class=\"flex min-h-full items-center justify-center p-4 text-center\">\n              <TransitionChild\n                as=\"div\"\n                :show=\"true\"\n                enter=\"duration-300 ease-out\"\n                enter-from=\"opacity-0 scale-95\"\n                enter-to=\"opacity-100 scale-100\"\n                leave=\"duration-200 ease-in\"\n                leave-from=\"opacity-100 scale-100\"\n                leave-to=\"opacity-0 scale-95\"\n              >\n                <DialogPanel class=\"w-full max-w-md transform overflow-hidden rounded-xl bg-white text-left align-middle shadow-xl transition-all\">\n                  <div class=\"p-6\">\n                    <div class=\"flex items-start space-x-3\">\n                      <div class=\"p-2 bg-red-50 rounded-full flex-shrink-0\">\n                        <ExclamationTriangleIcon class=\"w-6 h-6 text-red-600\" />\n                      </div>\n                      <div class=\"flex-1\">\n                        <DialogTitle as=\"h3\" class=\"text-lg font-medium text-gray-900\">\n                          确认删除工作经历？\n                        </DialogTitle>\n                        <p class=\"mt-2 text-sm text-gray-500\">\n                          删除后将无法恢复，请确认是否继续。\n                        </p>\n                      </div>\n                    </div>\n                    \n                    <div class=\"mt-6 flex justify-end space-x-3\">\n                      <button\n                        type=\"button\"\n                        @click=\"closeDeleteConfirm\"\n                        class=\"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500\"\n                      >\n                        取消\n                      </button>\n                      <button\n                        type=\"button\"\n                        @click=\"confirmDelete\"\n                        class=\"px-4 py-2 text-sm font-medium text-white bg-red-600 border border-transparent rounded-lg hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500\"\n                      >\n                        确认删除\n                      </button>\n                    </div>\n                  </div>\n                </DialogPanel>\n              </TransitionChild>\n            </div>\n          </div>\n        </Dialog>\n      </TransitionRoot>\n\n      <!-- 教育经历编辑弹窗 -->\n      <EditEducationDialog\n        v-model=\"showEducationDialog\"\n        :initial-data=\"editEducationData\"\n        :loading=\"profileLoading\"\n        @submit=\"handleEducationSubmit\"\n      />\n\n      <!-- 项目经历编辑弹窗 -->\n      <EditProjectDialog\n        v-model=\"showProjectDialog\"\n        :initial-data=\"editProjectData\"\n        :loading=\"profileLoading\"\n        @submit=\"handleProjectSubmit\"\n      />\n\n      <!-- 证书奖项编辑弹窗 -->\n      <EditCertificateDialog\n        v-model=\"showCertificateDialog\"\n        :initial-data=\"editCertificateData\"\n        :loading=\"profileLoading\"\n        @submit=\"handleCertificateSubmit\"\n      />\n\n      <!-- 专业技能编辑弹窗 -->\n      <EditSkillDialog\n        v-model=\"showSkillDialog\"\n        :initial-data=\"editSkillData\"\n        :loading=\"profileLoading\"\n        @submit=\"handleSkillSubmit\"\n      />\n\n      <!-- 语言能力编辑弹窗 -->\n      <EditLanguageDialog\n        v-model=\"showLanguageDialog\"\n        :initial-data=\"editLanguageData\"\n        :loading=\"profileLoading\"\n        @submit=\"handleLanguageSubmit\"\n      />\n\n      <!-- 社交主页编辑弹窗 -->\n      <EditSocialLinkDialog\n        v-if=\"currentModule?.type === 'social_link'\"\n        v-model=\"showEditModal\"\n        :initial-data=\"editFormData\"\n        :loading=\"loading\"\n        @submit=\"handleSubmit\"\n      />\n      \n      <!-- 作品展示编辑弹窗 -->\n      <EditPortfolioDialog\n        v-if=\"currentModule?.type === 'portfolio'\"\n        v-model=\"showEditModal\"\n        :initial-data=\"editFormData\"\n        :loading=\"loading\"\n        @submit=\"handleSubmit\"\n      />\n\n      <!-- 确认对话框 -->\n      <TransitionRoot appear :show=\"showConfirmDialog\" as=\"template\">\n        <Dialog as=\"div\" class=\"relative z-50\" @close=\"showConfirmDialog = false\">\n          <TransitionChild\n            as=\"template\"\n            enter=\"duration-300 ease-out\"\n            enter-from=\"opacity-0\"\n            enter-to=\"opacity-100\"\n            leave=\"duration-200 ease-in\"\n            leave-from=\"opacity-100\"\n            leave-to=\"opacity-0\"\n          >\n            <div class=\"fixed inset-0 bg-black/25\" />\n          </TransitionChild>\n\n          <div class=\"fixed inset-0 overflow-y-auto\">\n            <div class=\"flex min-h-full items-center justify-center p-4 text-center\">\n              <TransitionChild\n                as=\"template\"\n                enter=\"duration-300 ease-out\"\n                enter-from=\"opacity-0 scale-95\"\n                enter-to=\"opacity-100 scale-100\"\n                leave=\"duration-200 ease-in\"\n                leave-from=\"opacity-100 scale-100\"\n                leave-to=\"opacity-0 scale-95\"\n              >\n                <DialogPanel class=\"w-full max-w-md transform overflow-hidden rounded-2xl bg-white p-6 text-left align-middle shadow-xl transition-all\">\n                  <DialogTitle as=\"h3\" class=\"text-lg font-medium leading-6 text-gray-900\">\n                    确认操作\n                  </DialogTitle>\n                  <div class=\"mt-2\">\n                    <p class=\"text-sm text-gray-500\">\n                      {{ confirmMessage }}\n                    </p>\n                  </div>\n\n                  <div class=\"mt-4 flex justify-end space-x-3\">\n                    <button\n                      type=\"button\"\n                      class=\"inline-flex justify-center rounded-md border border-transparent bg-gray-100 px-4 py-2 text-sm font-medium text-gray-900 hover:bg-gray-200\"\n                      @click=\"showConfirmDialog = false\"\n                    >\n                      取消\n                    </button>\n                    <button\n                      type=\"button\"\n                      class=\"inline-flex justify-center rounded-md border border-transparent bg-red-600 px-4 py-2 text-sm font-medium text-white hover:bg-red-700\"\n                      @click=\"handleConfirm\"\n                    >\n                      确认\n                    </button>\n                  </div>\n                </DialogPanel>\n              </TransitionChild>\n            </div>\n          </div>\n        </Dialog>\n      </TransitionRoot>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { ref, onMounted, computed, watch } from 'vue'\nimport { useModules } from '@/composables/useModules'\nimport { useProfileData } from '@/composables/useProfileData'\nimport useLoading from '@/composables/useLoading'\nimport profile from '@/api/profile'\nimport { ElMessage } from 'element-plus'\nimport {\n  Dialog,\n  DialogPanel,\n  DialogTitle,\n  TransitionChild,\n  TransitionRoot\n} from '@headlessui/vue'\nimport {\n  PlusIcon,\n  ExclamationTriangleIcon\n} from '@heroicons/vue/24/outline'\nimport { ALL_MODULES } from '@/constants'\n\n// 组件导入\nimport BasicInfo from './components/BasicInfo.vue'\nimport ResumeStatus from './components/ResumeStatus.vue'\nimport ModuleList from './components/ModuleList.vue'\nimport EditWorkExperienceDialog from './dialogs/EditWorkExperienceDialog.vue'\nimport EditBasicDialog from './dialogs/EditBasicDialog.vue'\nimport EditJobIntentionDialog from './dialogs/EditJobIntentionDialog.vue'\nimport EditSocialLinkDialog from './dialogs/EditSocialLinkDialog.vue'\nimport EditPortfolioDialog from './dialogs/EditPortfolioDialog.vue'\nimport AIOptimizeDialog from './dialogs/AIOptimizeDialog.vue'\nimport EditEducationDialog from './dialogs/EditEducationDialog.vue'\nimport EditProjectDialog from './dialogs/EditProjectDialog.vue'\nimport EditCertificateDialog from './dialogs/EditCertificateDialog.vue'\nimport EditSkillDialog from './dialogs/EditSkillDialog.vue'\nimport EditLanguageDialog from './dialogs/EditLanguageDialog.vue'\n\n\n// 获取数据相关\nconst profileLoading = ref(false)\nconst profileData = ref(null)\nconst completionData = ref(null)\nconst bioExpanded = ref(false)\nconst showBioExpandButton = ref(false)\n\n// 布局数据\nconst layoutData = ref({})\n\n// 布局状态\nconst layoutStatus = computed(() => {\n  return layoutData.value || {}\n})\n\n// 使用组合式函数\nconst { \n  loading: modulesLoading,\n  modules,\n  fetchModulesData\n} = useModules(layoutData)\n\nconst {\n  fetchCompletionData\n} = useProfileData()\n\n// 使用 loading 组合式函数\nconst { loading, withLoading } = useLoading()\n\n// 当前编辑的模块\nconst currentModule = ref(null)\nconst editFormData = ref({})\nconst showEditModal = ref(false)\n\n// 弹窗状态\nconst showWorkExperienceDialog = ref(false)\nconst showJobIntentionDialog = ref(false)\nconst editJobIntentionData = ref({})\nconst editWorkExperienceData = ref({})\nconst showAIOptimizeDialog = ref(false)\nconst showEducationDialog = ref(false)\nconst editEducationData = ref({})\nconst showProjectDialog = ref(false)\nconst editProjectData = ref({})\nconst showCertificateDialog = ref(false)\nconst editCertificateData = ref({})\nconst showSkillDialog = ref(false)\nconst editSkillData = ref({})\nconst showLanguageDialog = ref(false)\nconst editLanguageData = ref({})\n\n// 确认对话框状态\nconst showConfirmDialog = ref(false)\nconst confirmMessage = ref('')\nconst confirmCallback = ref(null)\n\n// 显示确认对话框\nconst showConfirm = (message, callback) => {\n  confirmMessage.value = message\n  confirmCallback.value = callback\n  showConfirmDialog.value = true\n}\n\n// 处理确认\nconst handleConfirm = async () => {\n  if (confirmCallback.value) {\n    await confirmCallback.value()\n  }\n  showConfirmDialog.value = false\n}\n\n// 计算激活的模块\nconst activeModules = computed(() => {\n  if (!modules.value) return []\n  const active = modules.value.filter(module => {\n    // 只显示布局中明确设置为 visible: true 的模块\n    const layout = layoutData.value[module.type]\n    return layout?.visible === true\n  }).sort((a, b) => {\n    const orderA = layoutData.value[a.type]?.order || 999\n    const orderB = layoutData.value[b.type]?.order || 999\n    return orderA - orderB\n  })\n  return active\n})\n\n// 计算未激活的模块\nconst inactiveModules = computed(() => {\n  if (!modules.value) return []\n  const inactive = modules.value.filter(module => {\n    // 只显示布局中明确设置为 visible: false 的模块\n    const layout = layoutData.value[module.type]\n    return layout?.visible === false\n  })\n  return inactive\n})\n\n// 定义模块类型\nconst moduleTypes = Object.keys(ALL_MODULES)\n\n// 初始化数据\nconst initData = async () => {\n  await withLoading(async () => {\n    try {\n      // 1. 先获取布局数据\n      const layoutResponse = await profile.getLayout()\n      if (layoutResponse.data?.code === 200) {\n        // 确保布局数据的正确结构\n        const layout = layoutResponse.data.data.layout || {}\n        layoutData.value = layout\n      }\n\n      // 2. 获取档案数据\n      const response = await profile.getData()\n      if (response.data?.code === 200) {\n        console.log('档案数据:', response.data.data)\n        profileData.value = response.data.data\n      }\n\n      // 3. 获取模块数据\n      await fetchModulesData()\n\n      // 4. 获取完整度数据\n      const completenessResponse = await profile.getCompleteness()\n      if (completenessResponse.data?.code === 200) {\n        completionData.value = completenessResponse.data.data\n      }\n    } catch (error) {\n      console.error('初始化数据失败:', error)\n      ElMessage.error('获取数据失败，请刷新重试')\n    }\n  })\n}\n\n// 更新数据\nconst handleUpdate = async () => {\n  await initData()\n}\n\n// 处理编辑\nconst handleEdit = (type, data) => {\n  // 根据类型显示对应的弹窗\n  switch (type) {\n    case 'basic_info':\n      currentModule.value = { type }\n      editFormData.value = data || {}\n      showEditModal.value = true\n      break\n    case 'job_intention':\n      editJobIntentionData.value = data || {}\n      showJobIntentionDialog.value = true\n      break\n    case 'work_experience':\n      // 确保日期格式正确\n      const formattedData = {\n        ...data,\n        start_date: data.start_date?.split('T')[0] || null,\n        end_date: data.end_date?.split('T')[0] || null\n      }\n      editWorkExperienceData.value = formattedData\n      showWorkExperienceDialog.value = true\n      break\n    case 'education':\n      editEducationData.value = data || {}\n      showEducationDialog.value = true\n      break\n    case 'project':\n      editProjectData.value = data || {}\n      showProjectDialog.value = true\n      break\n    case 'certificate':\n      editCertificateData.value = data || {}\n      showCertificateDialog.value = true\n      break\n    case 'skill':\n      editSkillData.value = data || {}\n      showSkillDialog.value = true\n      break\n    case 'language':\n      editLanguageData.value = data || {}\n      showLanguageDialog.value = true\n      break\n    default:\n      currentModule.value = { type }\n      editFormData.value = data || {}\n      showEditModal.value = true\n      break\n  }\n}\n\n// 处理个人简介展开/收起\nconst toggleBioExpand = () => {\n  bioExpanded.value = !bioExpanded.value\n}\n\n// 处理工作经历提交\nconst handleWorkExperienceSubmit = async (data) => {\n  try {\n    await profile.updateModule('work_experience', data)\n    ElMessage.success('保存成功')\n    showWorkExperienceDialog.value = false\n    await initData()\n  } catch (error) {\n    console.error('保存失败:', error)\n    ElMessage.error('保存失败，请重试')\n  }\n}\n\n// 获取模块显示名称\nconst getModuleName = (type) => {\n  const moduleNames = {\n    basic_info: '基本信息',\n    job_intention: '求职意向',\n    work_experience: '工作经历',\n    education: '教育经历',\n    project: '项目经历',\n    skill: '专业技能',\n    certificate: '证书奖项',\n    language: '语言能力',\n    portfolio: '作品展示',\n    social_link: '社交主页'\n  }\n  return moduleNames[type] || type\n}\n\n// 处理提交\nconst handleSubmit = async (data) => {\n  try {\n    await withLoading(async () => {\n      const type = currentModule.value?.type\n      console.log('提交数据:', { type, data })\n\n      // 使用统一的 updateModule 方法\n      const response = await profile.updateModule(type, data)\n      \n      if (response.data?.code === 200) {\n        ElMessage.success('保存成功')\n        showEditModal.value = false\n        // 重新获取数据\n        await initData()\n      } else {\n        throw new Error(response.data?.message || '保存失败')\n      }\n    })\n  } catch (error) {\n    console.error('保存失败:', error)\n    if (error.response?.data?.errors) {\n      const errorMessages = Object.entries(error.response.data.errors)\n        .map(([field, messages]) => `${field}: ${messages.join(', ')}`)\n        .join('\\n')\n      ElMessage.error(errorMessages)\n    } else {\n      ElMessage.error(error.message || '保存失败，请重试')\n    }\n  }\n}\n\n// 处理添加\nconst handleAdd = (type) => {\n  currentModule.value = { type }\n  \n  // 根据类型显示对应的弹窗并清空数据\n  switch (type) {\n    case 'work_experience':\n      editWorkExperienceData.value = {  // 重置为空对象\n        name: '',\n        company: '',\n        position: '',\n        start_date: null,\n        end_date: null,\n        description: '',\n        is_current: false\n      }\n      showWorkExperienceDialog.value = true\n      break\n      \n    case 'education':\n      editEducationData.value = {  // 重置为空对象\n        school: '',\n        major: '',\n        degree: '',\n        start_date: null,\n        end_date: null,\n        description: ''\n      }\n      showEducationDialog.value = true\n      break\n      \n    case 'project':\n      editProjectData.value = {  // 重置为空对象\n        name: '',\n        role: '',\n        start_date: null,\n        end_date: null,\n        description: '',\n        technologies: ''\n      }\n      showProjectDialog.value = true\n      break\n      \n    case 'certificate':\n      editCertificateData.value = {  // 重置为空对象\n        name: '',\n        issuing_authority: '',\n        issue_date: null,\n        expiry_date: null,\n        description: ''\n      }\n      showCertificateDialog.value = true\n      break\n      \n    case 'skill':\n      editSkillData.value = {  // 重置为空对象\n        name: '',\n        level: '初级',\n        description: '',\n        projects: '',\n        order: 0\n      }\n      showSkillDialog.value = true\n      break\n      \n    case 'language':\n      editLanguageData.value = {  // 重置为空对象\n        language: '',\n        proficiency: '',\n        certificates: ''\n      }\n      showLanguageDialog.value = true\n      break\n      \n    case 'job_intention':\n      editJobIntentionData.value = {  // 重置为空对象\n        position: '',\n        industry: '',\n        location: '',\n        salary_range: '',\n        job_type: '',\n        description: ''\n      }\n      showJobIntentionDialog.value = true\n      break\n      \n    default:\n      editFormData.value = {}  // 其他类型直接清空\n      showEditModal.value = true\n      break\n  }\n}\n\n// 处理移除模块\nconst handleModuleRemove = async (type, id) => {\n  try {\n    if (id) {\n      // 显示删除确认对话框\n      showDeleteConfirm(type, id)\n    } else {\n      // 获取当前所有可见模块的配置（除了要移除的）\n      const updatedModules = {}\n      activeModules.value\n        .filter(module => module.type !== type)\n        .forEach((module, index) => {\n          updatedModules[module.type] = {\n            visible: true,\n            order: index + 1  // 重新排序剩余模块\n          }\n        })\n      \n      // 添加要移除的模块配置\n      const layoutUpdate = {\n        ...updatedModules,\n        [type]: {\n          visible: false,\n          order: 999  // 移到未激活模块区域\n        }\n      }\n\n      // 提交布局更新\n      const response = await profile.updateLayout(layoutUpdate)\n      if (response.data?.code !== 200) {\n        throw new Error('保存布局失败')\n      }\n\n      ElMessage.success('模块已隐藏')\n      \n      // 重新获取所有数据以确保同步\n      await initData()\n    }\n  } catch (error) {\n    if (error !== 'cancel') {\n      console.error('删除失败:', error)\n      if (error.response?.data?.message) {\n        ElMessage.error(error.response.data.message)\n      } else {\n        ElMessage.error('删除失败，请重试')\n      }\n    }\n  }\n}\n\n// 处理删除确认\nconst handleDeleteConfirm = async () => {\n  try {\n    const { type, id } = currentDeleteItem.value\n    await profile.deleteModuleItem(type, id)\n    ElMessage.success('删除成功')\n    await initData()\n  } catch (error) {\n    console.error('删除失败:', error)\n    ElMessage.error('删除失败，请重试')\n  } finally {\n    closeDeleteConfirm()\n  }\n}\n\nconst handleJobIntentionSubmit = async (data) => {\n  try {\n    await profile.updateModule('job_intention', data)\n    ElMessage.success('保存成功')\n    showJobIntentionDialog.value = false\n    // 重新获取完整数据\n    await initData()\n  } catch (error) {\n    console.error('保存失败:', error)\n    ElMessage.error('保存失败，请重试')\n  }\n}\n\n// 处理教育经历提交\nconst handleEducationSubmit = async (data) => {\n  try {\n    await profile.updateModule('education', data)\n    ElMessage.success('保存成功')\n    showEducationDialog.value = false\n    await initData()\n  } catch (error) {\n    console.error('保存失败:', error)\n    ElMessage.error('保存失败，请重试')\n  }\n}\n\nconst handleAIOptimize = async () => {\n  // AI优化逻辑\n}\n\nconst showDeleteConfirmDialog = ref(false)\nconst currentDeleteItem = ref(null)\n\nconst showDeleteConfirm = (type, id) => {\n  showDeleteConfirmDialog.value = true\n  currentDeleteItem.value = { type, id }\n}\n\nconst closeDeleteConfirm = () => {\n  showDeleteConfirmDialog.value = false\n  currentDeleteItem.value = null\n}\n\n// 处理添加模块\nconst handleAddModule = async (type) => {\n  try {\n    // 获取当前所有可见模块的配置\n    const visibleModules = {}\n    activeModules.value.forEach((module, index) => {\n      visibleModules[module.type] = {\n        visible: true,\n        order: index + 1  // 保持现有模块的顺序\n      }\n    })\n    \n    // 添加新模块到最后\n    const layoutUpdate = {\n      ...visibleModules,  // 保持现有模块的配置\n      [type]: {\n        visible: true,\n        order: activeModules.value.length + 1  // 新模块放在最后\n      }\n    }\n\n    // 提交布局更新\n    const response = await profile.updateLayout(layoutUpdate)\n    if (response.data?.code !== 200) {\n      throw new Error('保存布局失败')\n    }\n\n    ElMessage.success('模块已添加')\n    \n    // 重新获取所有数据以确保同步\n    await initData()\n  } catch (error) {\n    console.error('添加模块失败:', error)\n    ElMessage.error('添加失败，请重试')\n  }\n}\n\n// 处理项目经历提交\nconst handleProjectSubmit = async (data) => {\n  try {\n    await profile.updateModule('project', data)\n    ElMessage.success('保存成功')\n    showProjectDialog.value = false\n    await initData()\n  } catch (error) {\n    console.error('保存失败:', error)\n    ElMessage.error('保存失败，请重试')\n  }\n}\n\n// 处理证书奖项提交\nconst handleCertificateSubmit = async (data) => {\n  try {\n    await profile.updateModule('certificate', data)\n    ElMessage.success('保存成功')\n    showCertificateDialog.value = false\n    await initData()\n  } catch (error) {\n    console.error('保存失败:', error)\n    ElMessage.error('保存失败，请重试')\n  }\n}\n\n// 处理专业技能提交\nconst handleSkillSubmit = async (data) => {\n  try {\n    // 确保数据格式正确\n    const skillData = {\n      name: data.name?.trim(),\n      level: data.level || '初级',\n      description: data.description?.trim() || '',\n      projects: data.projects || '',\n      order: data.order || 0\n    }\n\n    if (data.id) {\n      await profile.updateModule('skills', { ...skillData, id: data.id })\n    } else {\n      await profile.updateModule('skills', skillData)\n    }\n    \n    ElMessage.success('保存成功')\n    showSkillDialog.value = false\n    await initData()\n  } catch (error) {\n    console.error('保存失败:', error)\n    if (error.response?.data?.errors) {\n      const errorMessages = Object.entries(error.response.data.errors)\n        .map(([field, messages]) => `${field}: ${messages.join(', ')}`)\n        .join('\\n')\n      ElMessage.error(errorMessages)\n    } else {\n      ElMessage.error('保存失败，请重试')\n    }\n  }\n}\n\n// 处理语言能力提交\nconst handleLanguageSubmit = async (data) => {\n  try {\n    await profile.updateModule('language', data)\n    ElMessage.success('保存成功')\n    showLanguageDialog.value = false\n    await initData()\n  } catch (error) {\n    console.error('保存失败:', error)\n    ElMessage.error('保存失败，请重试')\n  }\n}\n\n// 监听数据变化\nwatch(() => profileData.value, (newData) => {\n  if (newData) {\n    updateModules(newData)\n  }\n}, { deep: true })\n\n// 处理模块数据更新\nconst updateModules = (data) => {\n  if (!data) return\n  \n  const activeModulesList = moduleTypes\n    .filter(type => layoutStatus.value[type]?.visible)\n    .map(type => ({\n      type,\n      data: data[type],\n      name: ALL_MODULES[type].name,\n      editable: true\n    }))\n  \n  // 更新 activeModules 的引用而不是直接修改计算属性\n  modules.value = activeModulesList\n  \n  // 处理未激活模块\n  const inactiveCount = moduleTypes\n    .filter(type => !layoutStatus.value[type]?.visible).length\n  const inactiveModulesList = {\n    count: inactiveCount,\n    modules: moduleTypes\n      .filter(type => !layoutStatus.value[type]?.visible)\n      .map(type => ({\n        type,\n        name: ALL_MODULES[type].name\n      }))\n  }\n  // 更新 inactiveModules 的引用\n  modules.value = [...activeModulesList, ...inactiveModulesList.modules]\n}\n\n// 初始化\nonMounted(() => {\n  initData()\n})\n\n// 添加删除处理函数\nconst handleDelete = async (type, id) => {\n  try {\n    console.log('MyProfile - 处理删除:', type, id)\n    // 重新获取数据\n    await fetchModulesData()\n  } catch (error) {\n    console.error('刷新数据失败:', error)\n    ElMessage.error('刷新数据失败')\n  }\n}\n\n// 处理模块数据保存\nconst handleModuleSave = async (type, data) => {\n  try {\n    showEditDialog.value = false\n    \n    let response\n    if (data.id) {\n      // 编辑\n      response = await profile.updateModule(type, data)\n    } else {\n      // 新增\n      response = await profile.addModuleItem(type, data)\n    }\n\n    // 确保返回数据正确\n    if (response && response.data) {\n      // 刷新模块数据\n      await fetchModulesData()\n      ElMessage.success(data.id ? '更新成功' : '添加成功')\n    } else {\n      throw new Error('保存失败')\n    }\n  } catch (error) {\n    console.error('保存失败:', error)\n    ElMessage.error(error.message || '保存失败')\n  }\n}\n\nconst handleModuleEdit = async (type, data) => {\n  try {\n    if (type === 'basic_info') {\n      await store.dispatch('updateBasicInfo', {\n        type: 'basic',\n        data\n      })\n      // 更新成功后重新获取数据\n      await fetchData()\n      showToast('保存成功', 'success')\n    }\n    // ... 其他模块的处理\n  } catch (error) {\n    console.error('保存失败:', error)\n    showToast(error.message || '保存失败', 'error')\n  }\n}\n</script>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}