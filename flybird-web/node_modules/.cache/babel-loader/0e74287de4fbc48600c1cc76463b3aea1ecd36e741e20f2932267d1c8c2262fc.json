{"ast":null,"code":"import { ref, computed } from 'vue';\nimport { HeartIcon, ChatBubbleLeftIcon } from '@heroicons/vue/24/outline';\nimport { formatTime } from '@/utils/time';\nimport { useStore } from 'vuex';\nexport default {\n  __name: 'CommentList',\n  props: {\n    comments: {\n      type: Array,\n      default: () => []\n    }\n  },\n  emits: ['reply', 'like'],\n  setup(__props, {\n    expose: __expose,\n    emit: __emit\n  }) {\n    __expose();\n    const store = useStore();\n    const props = __props;\n    const emit = __emit;\n    const commentContent = ref('');\n    const userAvatar = computed(() => store.getters.userAvatar);\n    const handleSubmit = () => {\n      if (!commentContent.value.trim()) return;\n      // TODO: 提交评论\n      commentContent.value = '';\n    };\n    const handleLike = comment => {\n      emit('like', comment);\n    };\n    const handleReply = comment => {\n      emit('reply', comment);\n    };\n    const __returned__ = {\n      store,\n      props,\n      emit,\n      commentContent,\n      userAvatar,\n      handleSubmit,\n      handleLike,\n      handleReply,\n      ref,\n      computed,\n      get HeartIcon() {\n        return HeartIcon;\n      },\n      get ChatBubbleLeftIcon() {\n        return ChatBubbleLeftIcon;\n      },\n      get formatTime() {\n        return formatTime;\n      },\n      get useStore() {\n        return useStore;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","computed","HeartIcon","ChatBubbleLeftIcon","formatTime","useStore","store","props","__props","emit","__emit","commentContent","userAvatar","getters","handleSubmit","value","trim","handleLike","comment","handleReply"],"sources":["/Users/liuzhao/Documents/Projects/flybird/flybird-web/src/components/comments/CommentList.vue"],"sourcesContent":["<template>\n  <div class=\"space-y-6\">\n    <!-- 评论输入框 -->\n    <div class=\"flex space-x-4\">\n      <img \n        :src=\"userAvatar\" \n        class=\"w-10 h-10 rounded-full flex-shrink-0\"\n        alt=\"\"\n      >\n      <div class=\"flex-1\">\n        <textarea\n          v-model=\"commentContent\"\n          rows=\"3\"\n          class=\"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 text-sm\"\n          placeholder=\"写下你的评论...\"\n        ></textarea>\n        <div class=\"mt-2 flex justify-end\">\n          <button\n            @click=\"handleSubmit\"\n            class=\"px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n          >\n            发表评论\n          </button>\n        </div>\n      </div>\n    </div>\n\n    <!-- 评论列表 -->\n    <div class=\"space-y-6\">\n      <div v-for=\"comment in comments\" :key=\"comment.id\" class=\"flex space-x-4\">\n        <img \n          :src=\"comment.author.avatar\" \n          class=\"w-10 h-10 rounded-full flex-shrink-0\"\n          alt=\"\"\n        >\n        <div class=\"flex-1\">\n          <div class=\"bg-gray-50 rounded-lg px-4 py-3\">\n            <div class=\"flex items-center justify-between mb-1\">\n              <span class=\"font-medium text-gray-900\">{{ comment.author.name }}</span>\n              <span class=\"text-sm text-gray-500\">{{ formatTime(comment.createTime) }}</span>\n            </div>\n            <p class=\"text-gray-600\">{{ comment.content }}</p>\n          </div>\n          \n          <!-- 评论操作 -->\n          <div class=\"mt-2 flex items-center space-x-4\">\n            <button \n              @click=\"handleLike(comment)\"\n              class=\"flex items-center text-sm text-gray-500 hover:text-blue-600\"\n            >\n              <HeartIcon \n                class=\"w-4 h-4 mr-1\"\n                :class=\"comment.isLiked ? 'text-pink-600' : 'text-gray-400'\"\n              />\n              {{ comment.likes }}\n            </button>\n            <button \n              @click=\"handleReply(comment)\"\n              class=\"flex items-center text-sm text-gray-500 hover:text-blue-600\"\n            >\n              <ChatBubbleLeftIcon class=\"w-4 h-4 mr-1\" />\n              回复\n            </button>\n          </div>\n\n          <!-- 回复列表 -->\n          <div v-if=\"comment.replies?.length\" class=\"mt-3 space-y-3 pl-4\">\n            <div v-for=\"reply in comment.replies\" :key=\"reply.id\" class=\"flex space-x-3\">\n              <img \n                :src=\"reply.author.avatar\" \n                class=\"w-8 h-8 rounded-full flex-shrink-0\"\n                alt=\"\"\n              >\n              <div class=\"flex-1\">\n                <div class=\"bg-gray-50 rounded-lg px-3 py-2\">\n                  <div class=\"flex items-center justify-between mb-1\">\n                    <span class=\"font-medium text-gray-900\">{{ reply.author.name }}</span>\n                    <span class=\"text-sm text-gray-500\">{{ formatTime(reply.createTime) }}</span>\n                  </div>\n                  <p class=\"text-gray-600\">{{ reply.content }}</p>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { ref, computed } from 'vue'\nimport { HeartIcon, ChatBubbleLeftIcon } from '@heroicons/vue/24/outline'\nimport { formatTime } from '@/utils/time'\nimport { useStore } from 'vuex'\n\nconst store = useStore()\nconst props = defineProps({\n  comments: {\n    type: Array,\n    default: () => []\n  }\n})\n\nconst emit = defineEmits(['reply', 'like'])\nconst commentContent = ref('')\nconst userAvatar = computed(() => store.getters.userAvatar)\n\nconst handleSubmit = () => {\n  if (!commentContent.value.trim()) return\n  // TODO: 提交评论\n  commentContent.value = ''\n}\n\nconst handleLike = (comment) => {\n  emit('like', comment)\n}\n\nconst handleReply = (comment) => {\n  emit('reply', comment)\n}\n</script> "],"mappings":"AA2FA,SAASA,GAAG,EAAEC,QAAQ,QAAQ,KAAI;AAClC,SAASC,SAAS,EAAEC,kBAAkB,QAAQ,2BAA0B;AACxE,SAASC,UAAU,QAAQ,cAAa;AACxC,SAASC,QAAQ,QAAQ,MAAK;;;;;;;;;;;;;;;IAE9B,MAAMC,KAAK,GAAGD,QAAQ,CAAC;IACvB,MAAME,KAAK,GAAGC,OAAA;IAOd,MAAMC,IAAI,GAAGC,MAAA;IACb,MAAMC,cAAc,GAAGX,GAAG,CAAC,EAAE;IAC7B,MAAMY,UAAU,GAAGX,QAAQ,CAAC,MAAMK,KAAK,CAACO,OAAO,CAACD,UAAU;IAE1D,MAAME,YAAY,GAAGA,CAAA,KAAM;MACzB,IAAI,CAACH,cAAc,CAACI,KAAK,CAACC,IAAI,CAAC,CAAC,EAAE;MAClC;MACAL,cAAc,CAACI,KAAK,GAAG,EAAC;IAC1B;IAEA,MAAME,UAAU,GAAIC,OAAO,IAAK;MAC9BT,IAAI,CAAC,MAAM,EAAES,OAAO;IACtB;IAEA,MAAMC,WAAW,GAAID,OAAO,IAAK;MAC/BT,IAAI,CAAC,OAAO,EAAES,OAAO;IACvB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}