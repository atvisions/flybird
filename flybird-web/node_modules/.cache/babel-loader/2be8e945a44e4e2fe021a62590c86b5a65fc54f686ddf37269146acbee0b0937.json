{"ast":null,"code":"import \"core-js/modules/esnext.iterator.constructor.js\";\nimport \"core-js/modules/esnext.iterator.find.js\";\nimport { ref, computed } from 'vue';\nimport { useRoute } from 'vue-router';\nimport MobileTabBar from '@/components/MobileTabBar.vue';\nimport PageBanner from '@/components/common/PageBanner.vue';\nimport CategoryMenu from '@/components/portfolio/CategoryMenu.vue';\nimport PortfolioNavigation from '@/components/portfolio/PortfolioNavigation.vue';\nimport { portfolioCategories, generateMenuGroups } from '@/config/portfolioCategories';\nimport { usePortfolioData } from '@/composables/usePortfolioData';\nimport { PlayIcon, EyeIcon, HeartIcon, ChevronRightIcon } from '@heroicons/vue/24/outline';\nconst type = 'discover';\n\n// 使用统一的分类配置\n\nexport default {\n  __name: 'HomeView',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const route = useRoute();\n    const categoryConfig = portfolioCategories[type];\n    const menuGroups = generateMenuGroups(type);\n    const {\n      works\n    } = usePortfolioData(type);\n\n    // 分类相关状态\n    const currentMainCategory = ref('all');\n    const currentSubCategory = ref('');\n    const currentThirdCategory = ref('');\n    const currentLevel = ref('main');\n    const showCategoryMenu = ref(false);\n\n    // 排序相关状态\n    const currentSort = ref('popular');\n\n    // 获取当前类型的分类数据\n    const currentTypeCategories = computed(() => {\n      return categoryConfig.categories || [];\n    });\n\n    // 获取作品类型名称\n    const getWorkTypeName = type => {\n      const category = currentTypeCategories.value.find(c => c.id === type);\n      return category?.name || type;\n    };\n\n    // 处理分类切换\n    const handleCategoryChange = (categoryId, level = 'main') => {\n      if (level === 'main') {\n        currentMainCategory.value = categoryId;\n        currentSubCategory.value = '';\n        currentThirdCategory.value = '';\n        if (categoryId !== 'all') {\n          currentLevel.value = 'sub';\n        } else {\n          showCategoryMenu.value = false;\n        }\n      } else if (level === 'sub') {\n        currentSubCategory.value = categoryId;\n        currentThirdCategory.value = '';\n        showCategoryMenu.value = false;\n      }\n    };\n    const __returned__ = {\n      route,\n      type,\n      categoryConfig,\n      menuGroups,\n      works,\n      currentMainCategory,\n      currentSubCategory,\n      currentThirdCategory,\n      currentLevel,\n      showCategoryMenu,\n      currentSort,\n      currentTypeCategories,\n      getWorkTypeName,\n      handleCategoryChange,\n      ref,\n      computed,\n      get useRoute() {\n        return useRoute;\n      },\n      MobileTabBar,\n      PageBanner,\n      CategoryMenu,\n      PortfolioNavigation,\n      get portfolioCategories() {\n        return portfolioCategories;\n      },\n      get generateMenuGroups() {\n        return generateMenuGroups;\n      },\n      get usePortfolioData() {\n        return usePortfolioData;\n      },\n      get PlayIcon() {\n        return PlayIcon;\n      },\n      get EyeIcon() {\n        return EyeIcon;\n      },\n      get HeartIcon() {\n        return HeartIcon;\n      },\n      get ChevronRightIcon() {\n        return ChevronRightIcon;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","computed","useRoute","MobileTabBar","PageBanner","CategoryMenu","PortfolioNavigation","portfolioCategories","generateMenuGroups","usePortfolioData","PlayIcon","EyeIcon","HeartIcon","ChevronRightIcon","type","route","categoryConfig","menuGroups","works","currentMainCategory","currentSubCategory","currentThirdCategory","currentLevel","showCategoryMenu","currentSort","currentTypeCategories","categories","getWorkTypeName","category","value","find","c","id","name","handleCategoryChange","categoryId","level"],"sources":["/Users/liuzhao/Documents/Projects/flybird/flybird-web/src/views/portfolio/HomeView.vue"],"sourcesContent":["<template>\n  <div class=\"min-h-screen py-4 pb-24 lg:py-6 mt-[72px]\">\n    <div class=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n      <!-- 顶部横幅 -->\n      <PageBanner theme=\"blue\">\n        <h1 class=\"text-3xl sm:text-4xl font-bold text-gray-900 mb-4\">{{ categoryConfig.title }}</h1>\n        <p class=\"text-gray-600 text-lg max-w-2xl\">{{ categoryConfig.description }}</p>\n      </PageBanner>\n\n\n      <!-- PC端导航 -->\n      <PortfolioNavigation \n        v-model:currentCategory=\"currentMainCategory\"\n        v-model:currentSort=\"currentSort\"\n        :type=\"type\"\n        :categories=\"currentTypeCategories\"\n        class=\"hidden md:block\"\n      />\n\n      <!-- 作品列表 -->\n      <div class=\"max-w-7xl mx-auto mt-6\">\n        <div class=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 lg:gap-6\">\n          <div v-for=\"work in works\" :key=\"work.id\"\n            class=\"bg-white rounded-lg lg:rounded-xl border border-gray-100 overflow-hidden hover:shadow-lg transition-all duration-300\"\n          >\n            <!-- 作品封面 -->\n            <div class=\"aspect-w-16 aspect-h-9 sm:aspect-w-1 sm:aspect-h-1 bg-gray-100 relative group overflow-hidden\">\n              <img \n                :src=\"work.cover\" \n                class=\"w-full h-full object-cover transform group-hover:scale-110 transition-all duration-500\"\n                alt=\"\"\n              >\n              <!-- 视频时长标记 -->\n              <div v-if=\"work.isVideo\" \n                class=\"absolute bottom-2 right-2 px-2 py-1 bg-black/70 rounded-md text-white text-xs flex items-center\"\n              >\n                <PlayIcon class=\"w-3 h-3 mr-1\" />\n                {{ work.duration }}\n              </div>\n              <!-- 悬浮遮罩 -->\n              <div class=\"absolute inset-0 bg-black/60 invisible group-hover:visible opacity-0 group-hover:opacity-100 transition-all duration-300 flex flex-col items-center justify-center transform group-hover:scale-110\">\n                <span class=\"text-white font-medium mb-2\">{{ getWorkTypeName(work.type) }}</span>\n                <div class=\"flex items-center gap-3\">\n                  <span class=\"flex items-center text-gray-300 text-sm\">\n                    <EyeIcon class=\"w-4 h-4 mr-1\" />{{ work.views }}\n                  </span>\n                  <span class=\"flex items-center text-gray-300 text-sm\">\n                    <HeartIcon class=\"w-4 h-4 mr-1\" />{{ work.likes }}\n                  </span>\n                </div>\n              </div>\n            </div>\n\n            <!-- 作品信息 -->\n            <div class=\"p-4 lg:p-4\">\n              <h3 class=\"text-sm font-medium text-gray-900 hover:text-blue-600 transition-colors line-clamp-1 mb-2\">\n                {{ work.title }}\n              </h3>\n              <div class=\"flex items-center justify-between\">\n                <div class=\"flex items-center space-x-2\">\n                  <img :src=\"work.author.avatar\" class=\"w-5 h-5 rounded-full\">\n                  <span class=\"text-sm text-gray-600\">{{ work.author.name }}</span>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <!-- 分类切换菜单 -->\n    <CategoryMenu v-if=\"showCategoryMenu\" \n      v-model:show=\"showCategoryMenu\"\n      v-model:currentLevel=\"currentLevel\"\n      v-model:currentMainCategory=\"currentMainCategory\"\n      v-model:currentSubCategory=\"currentSubCategory\"\n      v-model:currentThirdCategory=\"currentThirdCategory\"\n      :type=\"type\"\n      :categories=\"currentTypeCategories\"\n      @category-change=\"handleCategoryChange\"\n    />\n\n    <!-- 使用移动端底部导航栏 -->\n    <MobileTabBar :menu-groups=\"menuGroups\" />\n  </div>\n</template>\n\n<script setup>\nimport { ref, computed } from 'vue'\nimport { useRoute } from 'vue-router'\nimport MobileTabBar from '@/components/MobileTabBar.vue'\nimport PageBanner from '@/components/common/PageBanner.vue'\nimport CategoryMenu from '@/components/portfolio/CategoryMenu.vue'\nimport PortfolioNavigation from '@/components/portfolio/PortfolioNavigation.vue'\nimport { portfolioCategories, generateMenuGroups } from '@/config/portfolioCategories'\nimport { usePortfolioData } from '@/composables/usePortfolioData'\nimport {\n  PlayIcon,\n  EyeIcon,\n  HeartIcon,\n  ChevronRightIcon\n} from '@heroicons/vue/24/outline'\n\nconst route = useRoute()\nconst type = 'discover'\n\n// 使用统一的分类配置\nconst categoryConfig = portfolioCategories[type]\nconst menuGroups = generateMenuGroups(type)\nconst { works } = usePortfolioData(type)\n\n// 分类相关状态\nconst currentMainCategory = ref('all')\nconst currentSubCategory = ref('')\nconst currentThirdCategory = ref('')\nconst currentLevel = ref('main')\nconst showCategoryMenu = ref(false)\n\n// 排序相关状态\nconst currentSort = ref('popular')\n\n// 获取当前类型的分类数据\nconst currentTypeCategories = computed(() => {\n  return categoryConfig.categories || []\n})\n\n// 获取作品类型名称\nconst getWorkTypeName = (type) => {\n  const category = currentTypeCategories.value.find(c => c.id === type)\n  return category?.name || type\n}\n\n// 处理分类切换\nconst handleCategoryChange = (categoryId, level = 'main') => {\n  if (level === 'main') {\n    currentMainCategory.value = categoryId\n    currentSubCategory.value = ''\n    currentThirdCategory.value = ''\n    if (categoryId !== 'all') {\n      currentLevel.value = 'sub'\n    } else {\n      showCategoryMenu.value = false\n    }\n  } else if (level === 'sub') {\n    currentSubCategory.value = categoryId\n    currentThirdCategory.value = ''\n    showCategoryMenu.value = false\n  }\n}\n</script> "],"mappings":";;AAwFA,SAASA,GAAG,EAAEC,QAAQ,QAAQ,KAAI;AAClC,SAASC,QAAQ,QAAQ,YAAW;AACpC,OAAOC,YAAY,MAAM,+BAA8B;AACvD,OAAOC,UAAU,MAAM,oCAAmC;AAC1D,OAAOC,YAAY,MAAM,yCAAwC;AACjE,OAAOC,mBAAmB,MAAM,gDAA+C;AAC/E,SAASC,mBAAmB,EAAEC,kBAAkB,QAAQ,8BAA6B;AACrF,SAASC,gBAAgB,QAAQ,gCAA+B;AAChE,SACEC,QAAQ,EACRC,OAAO,EACPC,SAAS,EACTC,gBAAe,QACV,2BAA0B;AAGjC,MAAMC,IAAI,GAAG,UAAS;;AAEtB;;;;;;;;IAHA,MAAMC,KAAK,GAAGb,QAAQ,CAAC;IAIvB,MAAMc,cAAc,GAAGT,mBAAmB,CAACO,IAAI;IAC/C,MAAMG,UAAU,GAAGT,kBAAkB,CAACM,IAAI;IAC1C,MAAM;MAAEI;IAAM,CAAC,GAAGT,gBAAgB,CAACK,IAAI;;IAEvC;IACA,MAAMK,mBAAmB,GAAGnB,GAAG,CAAC,KAAK;IACrC,MAAMoB,kBAAkB,GAAGpB,GAAG,CAAC,EAAE;IACjC,MAAMqB,oBAAoB,GAAGrB,GAAG,CAAC,EAAE;IACnC,MAAMsB,YAAY,GAAGtB,GAAG,CAAC,MAAM;IAC/B,MAAMuB,gBAAgB,GAAGvB,GAAG,CAAC,KAAK;;IAElC;IACA,MAAMwB,WAAW,GAAGxB,GAAG,CAAC,SAAS;;IAEjC;IACA,MAAMyB,qBAAqB,GAAGxB,QAAQ,CAAC,MAAM;MAC3C,OAAOe,cAAc,CAACU,UAAU,IAAI,EAAC;IACvC,CAAC;;IAED;IACA,MAAMC,eAAe,GAAIb,IAAI,IAAK;MAChC,MAAMc,QAAQ,GAAGH,qBAAqB,CAACI,KAAK,CAACC,IAAI,CAACC,CAAC,IAAIA,CAAC,CAACC,EAAE,KAAKlB,IAAI;MACpE,OAAOc,QAAQ,EAAEK,IAAI,IAAInB,IAAG;IAC9B;;IAEA;IACA,MAAMoB,oBAAoB,GAAGA,CAACC,UAAU,EAAEC,KAAK,GAAG,MAAM,KAAK;MAC3D,IAAIA,KAAK,KAAK,MAAM,EAAE;QACpBjB,mBAAmB,CAACU,KAAK,GAAGM,UAAS;QACrCf,kBAAkB,CAACS,KAAK,GAAG,EAAC;QAC5BR,oBAAoB,CAACQ,KAAK,GAAG,EAAC;QAC9B,IAAIM,UAAU,KAAK,KAAK,EAAE;UACxBb,YAAY,CAACO,KAAK,GAAG,KAAI;QAC3B,CAAC,MAAM;UACLN,gBAAgB,CAACM,KAAK,GAAG,KAAI;QAC/B;MACF,CAAC,MAAM,IAAIO,KAAK,KAAK,KAAK,EAAE;QAC1BhB,kBAAkB,CAACS,KAAK,GAAGM,UAAS;QACpCd,oBAAoB,CAACQ,KAAK,GAAG,EAAC;QAC9BN,gBAAgB,CAACM,KAAK,GAAG,KAAI;MAC/B;IACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}