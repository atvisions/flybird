{"ast":null,"code":"import _objectSpread from \"/Users/liuzhao/Documents/Projects/flybird/flybird-web/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport \"core-js/modules/esnext.iterator.constructor.js\";\nimport \"core-js/modules/esnext.iterator.find.js\";\nimport \"core-js/modules/esnext.iterator.map.js\";\nimport { useCssVars as _useCssVars, unref as _unref } from 'vue';\nimport { ref, computed } from 'vue';\nimport draggable from 'vuedraggable';\nimport SingleLayout from '../layouts/SingleLayout.vue';\nimport DoubleLayout from '../layouts/DoubleLayout.vue';\nimport TripleLayout from '../layouts/TripleLayout.vue';\nexport default {\n  __name: 'Canvas',\n  props: {\n    scale: {\n      type: Number,\n      default: 1\n    }\n  },\n  setup(__props, {\n    expose: __expose\n  }) {\n    _useCssVars(_ctx => ({\n      \"6e1f5d36-scale\\ \\>\\=\\ 1\\ \\?\\ \\'40px\\'\\ \\:\\ 0\": __props.scale >= 1 ? '40px' : 0,\n      \"6e1f5d36-padding\": padding.value,\n      \"6e1f5d36-scale\\ \\<\\ 1\\ \\?\\ \\'100\\%\\'\\ \\:\\ \\'none\\'\": __props.scale < 1 ? '100%' : 'none'\n    }));\n    const props = __props;\n    const layouts = ref([]);\n    const isDragOver = ref(false);\n    const isDragging = ref(false);\n\n    // 处理拖拽开始\n    const handleDragStart = () => {\n      isDragging.value = true;\n    };\n\n    // 处理拖拽结束\n    const handleDragEnd = () => {\n      isDragging.value = false;\n      isDragOver.value = false;\n    };\n\n    // 处理拖拽进入\n    const handleDragEnter = event => {\n      event.preventDefault();\n      if (!isDragging.value) {\n        isDragOver.value = true;\n      }\n    };\n\n    // 处理拖拽离开\n    const handleDragLeave = event => {\n      event.preventDefault();\n      isDragOver.value = false;\n    };\n\n    // 处理拖拽悬停\n    const handleDragOver = event => {\n      event.preventDefault();\n    };\n    const processComponentData = component => {\n      return {\n        id: Date.now(),\n        type: component.type,\n        name: component.name,\n        config: _objectSpread(_objectSpread({}, component.config), {}, {\n          type: component.name === '单栏布局' ? 'single' : component.name === '双栏布局' ? 'double' : 'triple',\n          layout: component.name === '单栏布局' ? 1 : component.name === '双栏布局' ? 2 : 3,\n          styles: component.styles || {},\n          components: []\n        })\n      };\n    };\n\n    // 处理组件变化\n    const handleChange = event => {\n      isDragOver.value = false;\n      console.log('Canvas - handleChange:', event);\n      if (event.added) {\n        try {\n          const component = event.added.element;\n          console.log('Canvas - Added component:', component);\n          if (component.type === 'layout') {\n            const newLayout = processComponentData(component);\n            console.log('Canvas - Creating new layout:', newLayout);\n            layouts.value.splice(event.added.newIndex, 1, newLayout);\n          }\n        } catch (error) {\n          console.error('Canvas - 处理组件时出错:', error);\n        }\n      } else if (event.removed) {\n        isDragOver.value = false;\n      }\n    };\n    const getLayoutComponent = layout => {\n      const layoutMap = {\n        'grid': layout.config.columns === 12 ? SingleLayout : layout.config.areas.length === 2 ? DoubleLayout : TripleLayout,\n        'single': SingleLayout,\n        'double': DoubleLayout,\n        'triple': TripleLayout\n      };\n      return layoutMap[layout.config.type] || SingleLayout;\n    };\n    const removeLayout = layout => {\n      const index = layouts.value.findIndex(l => l.id === layout.id);\n      if (index > -1) {\n        layouts.value.splice(index, 1);\n        isDragOver.value = false;\n      }\n    };\n    const updateLayoutConfig = (layoutId, config) => {\n      const layout = layouts.value.find(l => l.id === layoutId);\n      if (layout) {\n        layout.config = _objectSpread(_objectSpread({}, layout.config), config);\n      }\n    };\n    const addComponentToLayout = (layoutId, component, column) => {\n      const layout = layouts.value.find(l => l.id === layoutId);\n      if (layout) {\n        if (!layout.config.components) {\n          layout.config.components = [];\n        }\n        layout.config.components.push({\n          id: Date.now(),\n          type: component.type,\n          name: component.name,\n          column,\n          config: component.config || {}\n        });\n      }\n    };\n    const exportLayoutData = () => {\n      return layouts.value.map(layout => ({\n        id: layout.id,\n        type: layout.type,\n        name: layout.name,\n        config: layout.config\n      }));\n    };\n\n    // 加载模板\n    const loadTemplate = (template, profileData) => {\n      console.log('加载模板:', template);\n      console.log('加载档案数据:', profileData);\n      if (!template) return;\n\n      // 清空现有布局\n      layouts.value = [];\n\n      // 创建布局组件\n      const layoutComponent = {\n        id: Date.now(),\n        type: 'layout',\n        name: template.name,\n        config: {\n          type: template.layout.type || 'grid',\n          areas: template.layout.areas || [],\n          columns: template.layout.columns || 12,\n          gap: template.layout.gap || '20px',\n          styles: template.theme || {},\n          // 根据模板配置和档案数据创建组件\n          components: template.components.map(comp => {\n            const componentData = {\n              id: comp.id || Date.now(),\n              type: comp.type,\n              name: comp.type,\n              config: _objectSpread(_objectSpread({}, comp.config), {}, {\n                // 根据组件类型注入相应的档案数据\n                fields: _objectSpread(_objectSpread({}, comp.config?.fields), mapProfileDataToComponent(comp.type, profileData)),\n                styles: comp.config?.styles || {}\n              })\n            };\n            return componentData;\n          })\n        }\n      };\n\n      // 添加布局到画布\n      layouts.value.push(layoutComponent);\n      console.log('更新后的布局:', layouts.value);\n    };\n\n    // 将档案数据映射到组件\n    const mapProfileDataToComponent = (componentType, profileData) => {\n      if (!profileData) return {};\n      const mappings = {\n        'BasicInfo': profileData.basic_info || {},\n        'Education': profileData.education || [],\n        'Experience': profileData.work_experience || [],\n        'Skills': profileData.skill || [],\n        'Projects': profileData.project || [],\n        'Contact': _objectSpread(_objectSpread({}, profileData.basic_info), {}, {\n          social_links: profileData.social_link || []\n        })\n      };\n      return mappings[componentType] || {};\n    };\n\n    // 暴露方法给父组件\n    __expose({\n      loadTemplate,\n      exportLayoutData,\n      updateLayoutConfig,\n      addComponentToLayout,\n      removeLayout\n    });\n    const padding = computed(() => {\n      return props.scale < 1 ? `${Math.round(38 * props.scale)}px` : '38px';\n    });\n    const __returned__ = {\n      props,\n      layouts,\n      isDragOver,\n      isDragging,\n      handleDragStart,\n      handleDragEnd,\n      handleDragEnter,\n      handleDragLeave,\n      handleDragOver,\n      processComponentData,\n      handleChange,\n      getLayoutComponent,\n      removeLayout,\n      updateLayoutConfig,\n      addComponentToLayout,\n      exportLayoutData,\n      loadTemplate,\n      mapProfileDataToComponent,\n      padding,\n      ref,\n      computed,\n      get draggable() {\n        return draggable;\n      },\n      SingleLayout,\n      DoubleLayout,\n      TripleLayout\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","computed","draggable","SingleLayout","DoubleLayout","TripleLayout","props","__props","layouts","isDragOver","isDragging","handleDragStart","value","handleDragEnd","handleDragEnter","event","preventDefault","handleDragLeave","handleDragOver","processComponentData","component","id","Date","now","type","name","config","_objectSpread","layout","styles","components","handleChange","console","log","added","element","newLayout","splice","newIndex","error","removed","getLayoutComponent","layoutMap","columns","areas","length","removeLayout","index","findIndex","l","updateLayoutConfig","layoutId","find","addComponentToLayout","column","push","exportLayoutData","map","loadTemplate","template","profileData","layoutComponent","gap","theme","comp","componentData","fields","mapProfileDataToComponent","componentType","mappings","basic_info","education","work_experience","skill","project","social_links","social_link","__expose","padding","scale","Math","round"],"sources":["/Users/liuzhao/Documents/Projects/flybird/flybird-web/src/views/resume-editor/components/Canvas.vue"],"sourcesContent":["<template>\n  <div class=\"canvas-container\">\n    <div class=\"canvas-wrapper\">\n      <div class=\"canvas-content\" :style=\"{ transform: `scale(${scale})` }\">\n        <draggable\n          v-model=\"layouts\"\n          :group=\"{ name: 'layouts', pull: false, put: true }\"\n          item-key=\"id\"\n          class=\"canvas-drop-area\"\n          :class=\"{ 'drag-over': isDragOver }\"\n          :animation=\"200\"\n          ghost-class=\"ghost\"\n          @start=\"handleDragStart\"\n          @end=\"handleDragEnd\"\n          @change=\"handleChange\"\n          @dragenter=\"handleDragEnter\"\n          @dragleave=\"handleDragLeave\"\n          @dragover=\"handleDragOver\"\n        >\n          <template #item=\"{ element }\">\n            <div class=\"layout-wrapper\">\n              <div class=\"layout-actions\">\n                <v-btn\n                  icon=\"mdi-delete\"\n                  size=\"small\"\n                  color=\"error\"\n                  variant=\"text\"\n                  @click=\"removeLayout(element)\"\n                ></v-btn>\n              </div>\n              <component\n                :is=\"getLayoutComponent(element)\"\n                :config=\"element.config\"\n              ></component>\n            </div>\n          </template>\n\n          <template #header>\n            <div v-if=\"layouts.length === 0\" class=\"placeholder\">\n              <v-icon size=\"32\" class=\"mb-2\">mdi-plus</v-icon>\n              <span>拖拽布局到此处</span>\n            </div>\n          </template>\n        </draggable>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { ref, computed } from 'vue'\nimport draggable from 'vuedraggable'\nimport SingleLayout from '../layouts/SingleLayout.vue'\nimport DoubleLayout from '../layouts/DoubleLayout.vue'\nimport TripleLayout from '../layouts/TripleLayout.vue'\n\nconst props = defineProps({\n  scale: {\n    type: Number,\n    default: 1\n  }\n})\n\nconst layouts = ref([])\nconst isDragOver = ref(false)\nconst isDragging = ref(false)\n\n// 处理拖拽开始\nconst handleDragStart = () => {\n  isDragging.value = true\n}\n\n// 处理拖拽结束\nconst handleDragEnd = () => {\n  isDragging.value = false\n  isDragOver.value = false\n}\n\n// 处理拖拽进入\nconst handleDragEnter = (event) => {\n  event.preventDefault()\n  if (!isDragging.value) {\n    isDragOver.value = true\n  }\n}\n\n// 处理拖拽离开\nconst handleDragLeave = (event) => {\n  event.preventDefault()\n  isDragOver.value = false\n}\n\n// 处理拖拽悬停\nconst handleDragOver = (event) => {\n  event.preventDefault()\n}\n\nconst processComponentData = (component) => {\n  return {\n    id: Date.now(),\n    type: component.type,\n    name: component.name,\n    config: {\n      ...component.config,\n      type: component.name === '单栏布局' ? 'single' : \n            component.name === '双栏布局' ? 'double' : 'triple',\n      layout: component.name === '单栏布局' ? 1 : \n             component.name === '双栏布局' ? 2 : 3,\n      styles: component.styles || {},\n      components: []\n    }\n  }\n}\n\n// 处理组件变化\nconst handleChange = (event) => {\n  isDragOver.value = false\n  console.log('Canvas - handleChange:', event)\n  if (event.added) {\n    try {\n      const component = event.added.element\n      console.log('Canvas - Added component:', component)\n      if (component.type === 'layout') {\n        const newLayout = processComponentData(component)\n        console.log('Canvas - Creating new layout:', newLayout)\n        layouts.value.splice(event.added.newIndex, 1, newLayout)\n      }\n    } catch (error) {\n      console.error('Canvas - 处理组件时出错:', error)\n    }\n  } else if (event.removed) {\n    isDragOver.value = false\n  }\n}\n\nconst getLayoutComponent = (layout) => {\n  const layoutMap = {\n    'grid': layout.config.columns === 12 ? SingleLayout : \n           layout.config.areas.length === 2 ? DoubleLayout : TripleLayout,\n    'single': SingleLayout,\n    'double': DoubleLayout,\n    'triple': TripleLayout\n  }\n  return layoutMap[layout.config.type] || SingleLayout\n}\n\nconst removeLayout = (layout) => {\n  const index = layouts.value.findIndex(l => l.id === layout.id)\n  if (index > -1) {\n    layouts.value.splice(index, 1)\n    isDragOver.value = false\n  }\n}\n\nconst updateLayoutConfig = (layoutId, config) => {\n  const layout = layouts.value.find(l => l.id === layoutId)\n  if (layout) {\n    layout.config = {\n      ...layout.config,\n      ...config\n    }\n  }\n}\n\nconst addComponentToLayout = (layoutId, component, column) => {\n  const layout = layouts.value.find(l => l.id === layoutId)\n  if (layout) {\n    if (!layout.config.components) {\n      layout.config.components = []\n    }\n    layout.config.components.push({\n      id: Date.now(),\n      type: component.type,\n      name: component.name,\n      column,\n      config: component.config || {}\n    })\n  }\n}\n\nconst exportLayoutData = () => {\n  return layouts.value.map(layout => ({\n    id: layout.id,\n    type: layout.type,\n    name: layout.name,\n    config: layout.config\n  }))\n}\n\n// 加载模板\nconst loadTemplate = (template, profileData) => {\n  console.log('加载模板:', template)\n  console.log('加载档案数据:', profileData)\n  if (!template) return\n\n  // 清空现有布局\n  layouts.value = []\n\n  // 创建布局组件\n  const layoutComponent = {\n    id: Date.now(),\n    type: 'layout',\n    name: template.name,\n    config: {\n      type: template.layout.type || 'grid',\n      areas: template.layout.areas || [],\n      columns: template.layout.columns || 12,\n      gap: template.layout.gap || '20px',\n      styles: template.theme || {},\n      // 根据模板配置和档案数据创建组件\n      components: template.components.map(comp => {\n        const componentData = {\n          id: comp.id || Date.now(),\n          type: comp.type,\n          name: comp.type,\n          config: {\n            ...comp.config,\n            // 根据组件类型注入相应的档案数据\n            fields: {\n              ...comp.config?.fields,\n              ...mapProfileDataToComponent(comp.type, profileData)\n            },\n            styles: comp.config?.styles || {}\n          }\n        }\n        return componentData\n      })\n    }\n  }\n\n  // 添加布局到画布\n  layouts.value.push(layoutComponent)\n  console.log('更新后的布局:', layouts.value)\n}\n\n// 将档案数据映射到组件\nconst mapProfileDataToComponent = (componentType, profileData) => {\n  if (!profileData) return {}\n\n  const mappings = {\n    'BasicInfo': profileData.basic_info || {},\n    'Education': profileData.education || [],\n    'Experience': profileData.work_experience || [],\n    'Skills': profileData.skill || [],\n    'Projects': profileData.project || [],\n    'Contact': {\n      ...profileData.basic_info,\n      social_links: profileData.social_link || []\n    }\n  }\n\n  return mappings[componentType] || {}\n}\n\n// 暴露方法给父组件\ndefineExpose({\n  loadTemplate,\n  exportLayoutData,\n  updateLayoutConfig,\n  addComponentToLayout,\n  removeLayout\n})\n\nconst padding = computed(() => {\n  return props.scale < 1 ? `${Math.round(38 * props.scale)}px` : '38px'\n})\n</script>\n\n<style scoped>\n.canvas-container {\n  flex: 1;\n  height: 100%;\n  background: #f5f7fa;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  overflow: hidden;\n}\n\n.canvas-wrapper {\n  height: 100%;\n  width: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  overflow: auto;\n  padding: v-bind(\"scale >= 1 ? '40px' : 0\");\n}\n\n.canvas-wrapper::-webkit-scrollbar {\n  width: 8px;\n  height: 8px;\n}\n\n.canvas-wrapper::-webkit-scrollbar-track {\n  background: #f5f7fa;\n}\n\n.canvas-wrapper::-webkit-scrollbar-thumb {\n  background: #dcdfe6;\n  border-radius: 4px;\n}\n\n.canvas-wrapper::-webkit-scrollbar-thumb:hover {\n  background: #c0c4cc;\n}\n\n.canvas-content {\n  width: 595px;\n  height: 842px;\n  background: #ffffff;\n  box-shadow: 0 2px 12px 0 rgba(0, 0, 0, 0.1);\n  transform-origin: center center;\n  overflow: hidden;\n  padding: v-bind(padding);\n  position: relative;\n  flex-shrink: 0;\n  max-height: v-bind(\"scale < 1 ? '100%' : 'none'\");\n  max-width: v-bind(\"scale < 1 ? '100%' : 'none'\");\n}\n\n.canvas-drop-area {\n  height: 100%;\n  width: 100%;\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  gap: 20px;\n}\n\n.canvas-drop-area.drag-over {\n  background: #ecf5ff;\n  border: 2px dashed #409eff;\n  border-radius: 4px;\n}\n\n.placeholder {\n  height: 100%;\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  color: #909399;\n  font-size: 14px;\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n}\n\n.layout-wrapper {\n  position: relative;\n  width: 100%;\n  flex: 1;\n  min-height: 100px;\n  background: #f5f7fa;\n  border: 1px solid #e4e7ed;\n  border-radius: 4px;\n}\n\n.layout-wrapper:last-child {\n  margin-bottom: 0;\n}\n\n.layout-actions {\n  position: absolute;\n  top: 8px;\n  right: 8px;\n  display: flex;\n  gap: 4px;\n  opacity: 0;\n  transition: opacity 0.3s;\n  z-index: 10;\n  background: rgba(255, 255, 255, 0.9);\n  border-radius: 4px;\n  padding: 2px;\n}\n\n.layout-wrapper:hover .layout-actions {\n  opacity: 1;\n}\n\n.ghost {\n  opacity: 0.5;\n  background: #c8ebfb;\n}\n\n.layout-wrapper.dragging {\n  opacity: 0.5;\n}\n</style> "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}