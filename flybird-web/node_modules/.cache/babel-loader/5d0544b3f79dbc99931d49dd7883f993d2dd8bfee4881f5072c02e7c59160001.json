{"ast":null,"code":"import { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, resolveDynamicComponent as _resolveDynamicComponent, createBlock as _createBlock, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode } from \"vue\";\nconst _hoisted_1 = {\n  class: \"component-panel\"\n};\nconst _hoisted_2 = {\n  class: \"component-list\"\n};\nconst _hoisted_3 = [\"onDragstart\", \"onClick\"];\nconst _hoisted_4 = {\n  class: \"component-list\"\n};\nconst _hoisted_5 = [\"onDragstart\", \"onClick\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_el_icon = _resolveComponent(\"el-icon\");\n  const _component_el_tab_pane = _resolveComponent(\"el-tab-pane\");\n  const _component_el_tabs = _resolveComponent(\"el-tabs\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createVNode(_component_el_tabs, null, {\n    default: _withCtx(() => [_createVNode(_component_el_tab_pane, {\n      label: \"基础组件\"\n    }, {\n      default: _withCtx(() => [_createElementVNode(\"div\", _hoisted_2, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.basicComponents, component => {\n        return _openBlock(), _createElementBlock(\"div\", {\n          key: component.type,\n          class: \"component-item\",\n          draggable: \"true\",\n          onDragstart: e => $setup.handleDragStart(e, component),\n          onDragend: $setup.handleDragEnd,\n          onClick: () => $setup.handleAddComponent(component)\n        }, [_createVNode(_component_el_icon, {\n          class: \"mr-2\"\n        }, {\n          default: _withCtx(() => [(_openBlock(), _createBlock(_resolveDynamicComponent(component.icon)))]),\n          _: 2 /* DYNAMIC */\n        }, 1024 /* DYNAMIC_SLOTS */), _createElementVNode(\"span\", null, _toDisplayString(component.name), 1 /* TEXT */)], 40 /* PROPS, NEED_HYDRATION */, _hoisted_3);\n      }), 128 /* KEYED_FRAGMENT */))])]),\n      _: 1 /* STABLE */\n    }), _createVNode(_component_el_tab_pane, {\n      label: \"内容组件\"\n    }, {\n      default: _withCtx(() => [_createElementVNode(\"div\", _hoisted_4, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.contentComponents, component => {\n        return _openBlock(), _createElementBlock(\"div\", {\n          key: component.type,\n          class: \"component-item\",\n          draggable: \"true\",\n          onDragstart: e => $setup.handleDragStart(e, component),\n          onDragend: $setup.handleDragEnd,\n          onClick: () => $setup.handleAddComponent(component)\n        }, [_createVNode(_component_el_icon, {\n          class: \"mr-2\"\n        }, {\n          default: _withCtx(() => [(_openBlock(), _createBlock(_resolveDynamicComponent(component.icon)))]),\n          _: 2 /* DYNAMIC */\n        }, 1024 /* DYNAMIC_SLOTS */), _createElementVNode(\"span\", null, _toDisplayString(component.name), 1 /* TEXT */)], 40 /* PROPS, NEED_HYDRATION */, _hoisted_5);\n      }), 128 /* KEYED_FRAGMENT */))])]),\n      _: 1 /* STABLE */\n    })]),\n    _: 1 /* STABLE */\n  })]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","_createVNode","_component_el_tabs","default","_withCtx","_component_el_tab_pane","label","_createElementVNode","_hoisted_2","_Fragment","_renderList","$setup","basicComponents","component","key","type","draggable","onDragstart","e","handleDragStart","onDragend","handleDragEnd","onClick","handleAddComponent","_component_el_icon","_createBlock","_resolveDynamicComponent","icon","_","_toDisplayString","name","_hoisted_3","_hoisted_4","contentComponents","_hoisted_5"],"sources":["/Users/liuzhao/Documents/Projects/flybird/flybird-web/src/template-editor/components/panels/ComponentPanel.vue"],"sourcesContent":["<template>\n  <div class=\"component-panel\">\n    <el-tabs>\n      <el-tab-pane label=\"基础组件\">\n        <div class=\"component-list\">\n          <div\n            v-for=\"component in basicComponents\"\n            :key=\"component.type\"\n            class=\"component-item\"\n            draggable=\"true\"\n            @dragstart=\"(e) => handleDragStart(e, component)\"\n            @dragend=\"handleDragEnd\"\n            @click=\"() => handleAddComponent(component)\"\n          >\n            <el-icon class=\"mr-2\"><component :is=\"component.icon\" /></el-icon>\n            <span>{{ component.name }}</span>\n          </div>\n        </div>\n      </el-tab-pane>\n      <el-tab-pane label=\"内容组件\">\n        <div class=\"component-list\">\n          <div\n            v-for=\"component in contentComponents\"\n            :key=\"component.type\"\n            class=\"component-item\"\n            draggable=\"true\"\n            @dragstart=\"(e) => handleDragStart(e, component)\"\n            @dragend=\"handleDragEnd\"\n            @click=\"() => handleAddComponent(component)\"\n          >\n            <el-icon class=\"mr-2\"><component :is=\"component.icon\" /></el-icon>\n            <span>{{ component.name }}</span>\n          </div>\n        </div>\n      </el-tab-pane>\n    </el-tabs>\n  </div>\n</template>\n\n<script setup>\nimport { computed } from 'vue'\nimport { useComponentStore } from '../../store/component'\n\nconst props = defineProps({\n  components: {\n    type: Array,\n    required: true\n  }\n})\n\nconst emit = defineEmits(['add-component'])\n\n// 按分类过滤组件\nconst basicComponents = computed(() => \n  props.components.filter(c => c.category === 'basic')\n)\n\nconst contentComponents = computed(() => \n  props.components.filter(c => c.category === 'content')\n)\n\n// 处理拖拽开始\nconst handleDragStart = (event, component) => {\n  console.log('Drag start:', component)\n  \n  // 设置拖拽数据\n  const dragData = {\n    type: component.type,\n    data: component.demo_data || {},\n    styles: {},\n    icon: component.icon,\n    name: component.name,\n    category: component.category\n  }\n  \n  console.log('Drag data:', dragData)\n  \n  // 设置拖拽数据\n  event.dataTransfer.setData('text/plain', JSON.stringify(dragData))\n  // 设置拖拽效果\n  event.dataTransfer.effectAllowed = 'copy'\n  \n  // 添加拖拽图像\n  const dragImage = document.createElement('div')\n  dragImage.className = 'drag-image'\n  dragImage.textContent = component.name\n  dragImage.style.cssText = `\n    position: fixed;\n    top: -100px;\n    left: -100px;\n    padding: 8px 12px;\n    background: #fff;\n    border: 1px solid #ddd;\n    border-radius: 4px;\n    box-shadow: 0 2px 4px rgba(0,0,0,0.1);\n    z-index: 9999;\n  `\n  document.body.appendChild(dragImage)\n  event.dataTransfer.setDragImage(dragImage, 0, 0)\n  \n  // 清理拖拽图像\n  requestAnimationFrame(() => {\n    document.body.removeChild(dragImage)\n  })\n}\n\n// 处理拖拽结束\nconst handleDragEnd = (event) => {\n  event.preventDefault()\n}\n\n// 处理点击添加\nconst handleAddComponent = (component) => {\n  console.log('Add component:', component)\n  emit('add-component', {\n    type: component.type,\n    data: component.demo_data || {},\n    styles: {},\n    icon: component.icon,\n    name: component.name,\n    category: component.category,\n    position: { x: 0, y: 0 }\n  })\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.component-panel {\n  @apply w-64 border-r border-gray-200 bg-white overflow-y-auto;\n  height: calc(100vh - 64px);\n\n  .component-list {\n    @apply p-4;\n  }\n\n  .component-item {\n    @apply flex items-center px-4 py-2 mb-2 rounded cursor-move\n           bg-gray-50 hover:bg-blue-50 transition-colors;\n\n    &:last-child {\n      @apply mb-0;\n    }\n  }\n}\n</style> "],"mappings":";;EACOA,KAAK,EAAC;AAAiB;;EAGjBA,KAAK,EAAC;AAAgB;mBAJnC;;EAoBaA,KAAK,EAAC;AAAgB;mBApBnC;;;;;uBACEC,mBAAA,CAmCM,OAnCNC,UAmCM,GAlCJC,YAAA,CAiCUC,kBAAA;IAnCdC,OAAA,EAAAC,QAAA,CAGM,MAec,CAfdH,YAAA,CAecI,sBAAA;MAfDC,KAAK,EAAC;IAAM;MAH/BH,OAAA,EAAAC,QAAA,CAIQ,MAaM,CAbNG,mBAAA,CAaM,OAbNC,UAaM,I,kBAZJT,mBAAA,CAWMU,SAAA,QAhBhBC,WAAA,CAMgCC,MAAA,CAAAC,eAAe,EAA5BC,SAAS;6BADlBd,mBAAA,CAWM;UATHe,GAAG,EAAED,SAAS,CAACE,IAAI;UACpBjB,KAAK,EAAC,gBAAgB;UACtBkB,SAAS,EAAC,MAAM;UACfC,WAAS,EAAGC,CAAC,IAAKP,MAAA,CAAAQ,eAAe,CAACD,CAAC,EAAEL,SAAS;UAC9CO,SAAO,EAAET,MAAA,CAAAU,aAAa;UACtBC,OAAK,EAAAA,CAAA,KAAQX,MAAA,CAAAY,kBAAkB,CAACV,SAAS;YAE1CZ,YAAA,CAAkEuB,kBAAA;UAAzD1B,KAAK,EAAC;QAAM;UAdjCK,OAAA,EAAAC,QAAA,CAckC,MAAkC,E,cAAlCqB,YAAA,CAAkCC,wBAdpE,CAckDb,SAAS,CAACc,IAAI,I;UAdhEC,CAAA;sCAeYrB,mBAAA,CAAiC,cAAAsB,gBAAA,CAAxBhB,SAAS,CAACiB,IAAI,iB,kCAfnCC,UAAA;;MAAAH,CAAA;QAmBM3B,YAAA,CAecI,sBAAA;MAfDC,KAAK,EAAC;IAAM;MAnB/BH,OAAA,EAAAC,QAAA,CAoBQ,MAaM,CAbNG,mBAAA,CAaM,OAbNyB,UAaM,I,kBAZJjC,mBAAA,CAWMU,SAAA,QAhChBC,WAAA,CAsBgCC,MAAA,CAAAsB,iBAAiB,EAA9BpB,SAAS;6BADlBd,mBAAA,CAWM;UATHe,GAAG,EAAED,SAAS,CAACE,IAAI;UACpBjB,KAAK,EAAC,gBAAgB;UACtBkB,SAAS,EAAC,MAAM;UACfC,WAAS,EAAGC,CAAC,IAAKP,MAAA,CAAAQ,eAAe,CAACD,CAAC,EAAEL,SAAS;UAC9CO,SAAO,EAAET,MAAA,CAAAU,aAAa;UACtBC,OAAK,EAAAA,CAAA,KAAQX,MAAA,CAAAY,kBAAkB,CAACV,SAAS;YAE1CZ,YAAA,CAAkEuB,kBAAA;UAAzD1B,KAAK,EAAC;QAAM;UA9BjCK,OAAA,EAAAC,QAAA,CA8BkC,MAAkC,E,cAAlCqB,YAAA,CAAkCC,wBA9BpE,CA8BkDb,SAAS,CAACc,IAAI,I;UA9BhEC,CAAA;sCA+BYrB,mBAAA,CAAiC,cAAAsB,gBAAA,CAAxBhB,SAAS,CAACiB,IAAI,iB,kCA/BnCI,UAAA;;MAAAN,CAAA;;IAAAA,CAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}