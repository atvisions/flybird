{"ast":null,"code":"import { ref } from 'vue';\nimport { useUserStore } from '@/stores/user';\nexport function useChangePassword() {\n  const userStore = useUserStore();\n  const state = ref({\n    oldPassword: '',\n    newPassword: '',\n    confirmPassword: '',\n    loading: false,\n    error: '',\n    strength: 0\n  });\n  const validatePassword = password => {\n    if (!password) return '请输入密码';\n    if (password.length < 8) return '密码长度不能少于8位';\n    if (!/[A-Za-z]/.test(password)) return '密码必须包含字母';\n    if (!/\\d/.test(password)) return '密码必须包含数字';\n    return '';\n  };\n  const updatePasswordStrength = password => {\n    let strength = 0;\n    if (password.length >= 8) strength++;\n    if (/[A-Z]/.test(password)) strength++;\n    if (/[a-z]/.test(password)) strength++;\n    if (/\\d/.test(password)) strength++;\n    if (/[!@#$%^&*]/.test(password)) strength++;\n    state.value.strength = strength;\n  };\n  return {\n    state,\n    validatePassword,\n    updatePasswordStrength,\n    userStore\n  };\n}","map":{"version":3,"names":["ref","useUserStore","useChangePassword","userStore","state","oldPassword","newPassword","confirmPassword","loading","error","strength","validatePassword","password","length","test","updatePasswordStrength","value"],"sources":["/Users/liuzhao/Documents/Projects/flybird/flybird-web/src/composables/useChangePassword.js"],"sourcesContent":["import { ref } from 'vue'\nimport { useUserStore } from '@/stores/user'\n\nexport function useChangePassword() {\n  const userStore = useUserStore()\n  const state = ref({\n    oldPassword: '',\n    newPassword: '',\n    confirmPassword: '',\n    loading: false,\n    error: '',\n    strength: 0\n  })\n\n  const validatePassword = (password) => {\n    if (!password) return '请输入密码'\n    if (password.length < 8) return '密码长度不能少于8位'\n    if (!/[A-Za-z]/.test(password)) return '密码必须包含字母'\n    if (!/\\d/.test(password)) return '密码必须包含数字'\n    return ''\n  }\n\n  const updatePasswordStrength = (password) => {\n    let strength = 0\n    if (password.length >= 8) strength++\n    if (/[A-Z]/.test(password)) strength++\n    if (/[a-z]/.test(password)) strength++\n    if (/\\d/.test(password)) strength++\n    if (/[!@#$%^&*]/.test(password)) strength++\n    state.value.strength = strength\n  }\n\n  return {\n    state,\n    validatePassword,\n    updatePasswordStrength,\n    userStore\n  }\n} "],"mappings":"AAAA,SAASA,GAAG,QAAQ,KAAK;AACzB,SAASC,YAAY,QAAQ,eAAe;AAE5C,OAAO,SAASC,iBAAiBA,CAAA,EAAG;EAClC,MAAMC,SAAS,GAAGF,YAAY,CAAC,CAAC;EAChC,MAAMG,KAAK,GAAGJ,GAAG,CAAC;IAChBK,WAAW,EAAE,EAAE;IACfC,WAAW,EAAE,EAAE;IACfC,eAAe,EAAE,EAAE;IACnBC,OAAO,EAAE,KAAK;IACdC,KAAK,EAAE,EAAE;IACTC,QAAQ,EAAE;EACZ,CAAC,CAAC;EAEF,MAAMC,gBAAgB,GAAIC,QAAQ,IAAK;IACrC,IAAI,CAACA,QAAQ,EAAE,OAAO,OAAO;IAC7B,IAAIA,QAAQ,CAACC,MAAM,GAAG,CAAC,EAAE,OAAO,YAAY;IAC5C,IAAI,CAAC,UAAU,CAACC,IAAI,CAACF,QAAQ,CAAC,EAAE,OAAO,UAAU;IACjD,IAAI,CAAC,IAAI,CAACE,IAAI,CAACF,QAAQ,CAAC,EAAE,OAAO,UAAU;IAC3C,OAAO,EAAE;EACX,CAAC;EAED,MAAMG,sBAAsB,GAAIH,QAAQ,IAAK;IAC3C,IAAIF,QAAQ,GAAG,CAAC;IAChB,IAAIE,QAAQ,CAACC,MAAM,IAAI,CAAC,EAAEH,QAAQ,EAAE;IACpC,IAAI,OAAO,CAACI,IAAI,CAACF,QAAQ,CAAC,EAAEF,QAAQ,EAAE;IACtC,IAAI,OAAO,CAACI,IAAI,CAACF,QAAQ,CAAC,EAAEF,QAAQ,EAAE;IACtC,IAAI,IAAI,CAACI,IAAI,CAACF,QAAQ,CAAC,EAAEF,QAAQ,EAAE;IACnC,IAAI,YAAY,CAACI,IAAI,CAACF,QAAQ,CAAC,EAAEF,QAAQ,EAAE;IAC3CN,KAAK,CAACY,KAAK,CAACN,QAAQ,GAAGA,QAAQ;EACjC,CAAC;EAED,OAAO;IACLN,KAAK;IACLO,gBAAgB;IAChBI,sBAAsB;IACtBZ;EACF,CAAC;AACH","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}