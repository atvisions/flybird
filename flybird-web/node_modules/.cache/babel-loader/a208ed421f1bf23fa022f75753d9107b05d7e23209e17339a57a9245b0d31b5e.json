{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, withCtx as _withCtx, createVNode as _createVNode, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, vModelText as _vModelText, normalizeClass as _normalizeClass, withDirectives as _withDirectives, openBlock as _openBlock, createElementBlock as _createElementBlock, resolveComponent as _resolveComponent, withModifiers as _withModifiers, createBlock as _createBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"fixed inset-0 overflow-y-auto\"\n};\nconst _hoisted_2 = {\n  class: \"flex min-h-full items-center justify-center p-4 text-center\"\n};\nconst _hoisted_3 = {\n  class: \"text-lg font-medium text-gray-900\"\n};\nconst _hoisted_4 = {\n  class: \"space-y-6\"\n};\nconst _hoisted_5 = {\n  class: \"space-y-1\"\n};\nconst _hoisted_6 = {\n  key: 0,\n  class: \"text-sm text-red-500 mt-1\"\n};\nconst _hoisted_7 = {\n  class: \"space-y-1\"\n};\nconst _hoisted_8 = {\n  key: 0,\n  class: \"text-sm text-red-500 mt-1\"\n};\nconst _hoisted_9 = {\n  class: \"grid grid-cols-2 gap-4\"\n};\nconst _hoisted_10 = {\n  class: \"space-y-1\"\n};\nconst _hoisted_11 = {\n  key: 0,\n  class: \"text-sm text-red-500 mt-1\"\n};\nconst _hoisted_12 = {\n  class: \"space-y-1\"\n};\nconst _hoisted_13 = {\n  key: 0,\n  class: \"text-sm text-red-500 mt-1\"\n};\nconst _hoisted_14 = {\n  class: \"space-y-1\"\n};\nconst _hoisted_15 = {\n  key: 0,\n  class: \"text-sm text-red-500 mt-1\"\n};\nconst _hoisted_16 = {\n  class: \"space-y-1\"\n};\nconst _hoisted_17 = {\n  key: 0,\n  class: \"text-sm text-red-500 mt-1\"\n};\nconst _hoisted_18 = {\n  class: \"flex justify-end space-x-3 pt-6\"\n};\nconst _hoisted_19 = [\"disabled\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_el_input = _resolveComponent(\"el-input\");\n  return _openBlock(), _createBlock($setup[\"TransitionRoot\"], {\n    appear: \"\",\n    show: $props.modelValue,\n    as: \"template\"\n  }, {\n    default: _withCtx(() => [_createVNode($setup[\"Dialog\"], {\n      as: \"div\",\n      class: \"relative z-50\",\n      onClose: $setup.handleClose\n    }, {\n      default: _withCtx(() => [_createCommentVNode(\" 背景遮罩 \"), _createVNode($setup[\"TransitionChild\"], {\n        as: \"template\",\n        enter: \"duration-300 ease-out\",\n        \"enter-from\": \"opacity-0\",\n        \"enter-to\": \"opacity-100\",\n        leave: \"duration-200 ease-in\",\n        \"leave-from\": \"opacity-100\",\n        \"leave-to\": \"opacity-0\"\n      }, {\n        default: _withCtx(() => _cache[6] || (_cache[6] = [_createElementVNode(\"div\", {\n          class: \"fixed inset-0 bg-black/25\"\n        }, null, -1 /* HOISTED */)])),\n        _: 1 /* STABLE */\n      }), _createCommentVNode(\" 对话框 \"), _createElementVNode(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createVNode($setup[\"TransitionChild\"], {\n        as: \"template\",\n        enter: \"duration-300 ease-out\",\n        \"enter-from\": \"opacity-0 scale-95\",\n        \"enter-to\": \"opacity-100 scale-100\",\n        leave: \"duration-200 ease-in\",\n        \"leave-from\": \"opacity-100 scale-100\",\n        \"leave-to\": \"opacity-0 scale-95\"\n      }, {\n        default: _withCtx(() => [_createVNode($setup[\"DialogPanel\"], {\n          class: \"w-full max-w-2xl transform overflow-hidden rounded-xl bg-white text-left align-middle shadow-xl transition-all\"\n        }, {\n          default: _withCtx(() => [_createCommentVNode(\" 头部 \"), _createVNode($setup[\"DialogTitle\"], {\n            as: \"div\",\n            class: \"flex items-center justify-between border-b border-gray-200 px-6 py-4\"\n          }, {\n            default: _withCtx(() => [_createElementVNode(\"h3\", _hoisted_3, _toDisplayString($props.initialData?.id ? '编辑证书奖项' : '添加证书奖项'), 1 /* TEXT */), _createElementVNode(\"button\", {\n              onClick: $setup.handleClose,\n              class: \"rounded-full p-1 hover:bg-gray-100 transition-colors\"\n            }, [_createVNode($setup[\"XMarkIcon\"], {\n              class: \"w-5 h-5 text-gray-400\"\n            })])]),\n            _: 1 /* STABLE */\n          }), _createCommentVNode(\" 表单内容 \"), _createElementVNode(\"form\", {\n            onSubmit: _withModifiers($setup.handleSubmit, [\"prevent\"]),\n            class: \"p-6\"\n          }, [_createElementVNode(\"div\", _hoisted_4, [_createCommentVNode(\" 证书名称 \"), _createElementVNode(\"div\", _hoisted_5, [_cache[7] || (_cache[7] = _createElementVNode(\"label\", {\n            class: \"block text-sm font-medium text-gray-700\"\n          }, [_createTextVNode(\" 证书名称 \"), _createElementVNode(\"span\", {\n            class: \"text-red-500\"\n          }, \"*\")], -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n            type: \"text\",\n            \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $setup.form.name = $event),\n            required: \"\",\n            class: _normalizeClass(['w-full rounded-lg border py-2.5 px-4 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/10', $setup.errors.name ? 'border-red-300 focus:border-red-500' : 'border-gray-300 focus:border-blue-500']),\n            placeholder: \"请输入证书名称\"\n          }, null, 2 /* CLASS */), [[_vModelText, $setup.form.name]]), $setup.errors.name ? (_openBlock(), _createElementBlock(\"p\", _hoisted_6, _toDisplayString($setup.errors.name), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true)]), _createCommentVNode(\" 颁发机构 \"), _createElementVNode(\"div\", _hoisted_7, [_cache[8] || (_cache[8] = _createElementVNode(\"label\", {\n            class: \"block text-sm font-medium text-gray-700\"\n          }, [_createTextVNode(\" 颁发机构 \"), _createElementVNode(\"span\", {\n            class: \"text-red-500\"\n          }, \"*\")], -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n            type: \"text\",\n            \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $setup.form.issuing_authority = $event),\n            required: \"\",\n            class: _normalizeClass(['w-full rounded-lg border py-2.5 px-4 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/10', $setup.errors.issuing_authority ? 'border-red-300 focus:border-red-500' : 'border-gray-300 focus:border-blue-500']),\n            placeholder: \"请输入颁发机构\"\n          }, null, 2 /* CLASS */), [[_vModelText, $setup.form.issuing_authority]]), $setup.errors.issuing_authority ? (_openBlock(), _createElementBlock(\"p\", _hoisted_8, _toDisplayString($setup.errors.issuing_authority), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true)]), _createCommentVNode(\" 日期选择 \"), _createElementVNode(\"div\", _hoisted_9, [_createCommentVNode(\" 颁发日期 \"), _createElementVNode(\"div\", _hoisted_10, [_cache[9] || (_cache[9] = _createElementVNode(\"label\", {\n            class: \"block text-sm font-medium text-gray-700\"\n          }, [_createTextVNode(\" 颁发日期 \"), _createElementVNode(\"span\", {\n            class: \"text-red-500\"\n          }, \"*\")], -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n            type: \"date\",\n            \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $setup.form.issue_date = $event),\n            required: \"\",\n            class: _normalizeClass(['w-full rounded-lg border py-2.5 px-4 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/10', $setup.errors.issue_date ? 'border-red-300 focus:border-red-500' : 'border-gray-300 focus:border-blue-500'])\n          }, null, 2 /* CLASS */), [[_vModelText, $setup.form.issue_date]]), $setup.errors.issue_date ? (_openBlock(), _createElementBlock(\"p\", _hoisted_11, _toDisplayString($setup.errors.issue_date), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true)]), _createCommentVNode(\" 到期日期 \"), _createElementVNode(\"div\", _hoisted_12, [_cache[10] || (_cache[10] = _createElementVNode(\"label\", {\n            class: \"block text-sm font-medium text-gray-700\"\n          }, \" 到期日期 \", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n            type: \"date\",\n            \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $setup.form.expiry_date = $event),\n            class: _normalizeClass(['w-full rounded-lg border py-2.5 px-4 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/10', $setup.errors.expiry_date ? 'border-red-300 focus:border-red-500' : 'border-gray-300 focus:border-blue-500'])\n          }, null, 2 /* CLASS */), [[_vModelText, $setup.form.expiry_date]]), $setup.errors.expiry_date ? (_openBlock(), _createElementBlock(\"p\", _hoisted_13, _toDisplayString($setup.errors.expiry_date), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true)])]), _createCommentVNode(\" 证书编号 \"), _createElementVNode(\"div\", _hoisted_14, [_cache[11] || (_cache[11] = _createElementVNode(\"label\", {\n            class: \"block text-sm font-medium text-gray-700\"\n          }, \" 证书编号 \", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n            type: \"text\",\n            \"onUpdate:modelValue\": _cache[4] || (_cache[4] = $event => $setup.form.credential_id = $event),\n            class: _normalizeClass(['w-full rounded-lg border py-2.5 px-4 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/10', $setup.errors.credential_id ? 'border-red-300 focus:border-red-500' : 'border-gray-300 focus:border-blue-500']),\n            placeholder: \"请输入证书编号（选填）\"\n          }, null, 2 /* CLASS */), [[_vModelText, $setup.form.credential_id]]), $setup.errors.credential_id ? (_openBlock(), _createElementBlock(\"p\", _hoisted_15, _toDisplayString($setup.errors.credential_id), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true)]), _createCommentVNode(\" 证书描述 \"), _createElementVNode(\"div\", _hoisted_16, [_cache[12] || (_cache[12] = _createElementVNode(\"label\", {\n            class: \"block text-sm font-medium text-gray-700\"\n          }, \" 证书描述 \", -1 /* HOISTED */)), _createVNode(_component_el_input, {\n            modelValue: $setup.form.description,\n            \"onUpdate:modelValue\": _cache[5] || (_cache[5] = $event => $setup.form.description = $event),\n            type: \"textarea\",\n            rows: 4,\n            placeholder: \"请描述证书的相关信息（选填）\",\n            class: _normalizeClass(['!w-full', $setup.errors.description ? 'is-error' : ''])\n          }, null, 8 /* PROPS */, [\"modelValue\", \"class\"]), $setup.errors.description ? (_openBlock(), _createElementBlock(\"p\", _hoisted_17, _toDisplayString($setup.errors.description), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true)]), _createCommentVNode(\" 底部按钮 \"), _createElementVNode(\"div\", _hoisted_18, [_createElementVNode(\"button\", {\n            type: \"button\",\n            onClick: $setup.handleClose,\n            class: \"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500\"\n          }, \" 取消 \"), _createElementVNode(\"button\", {\n            type: \"submit\",\n            disabled: $props.loading,\n            class: \"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed\"\n          }, _toDisplayString($props.loading ? '保存中...' : '确认'), 9 /* TEXT, PROPS */, _hoisted_19)])])], 32 /* NEED_HYDRATION */)]),\n          _: 1 /* STABLE */\n        })]),\n        _: 1 /* STABLE */\n      })])])]),\n      _: 1 /* STABLE */\n    })]),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"show\"]);\n}","map":{"version":3,"names":["class","key","_createBlock","$setup","appear","show","$props","modelValue","as","default","_withCtx","_createVNode","onClose","handleClose","_createCommentVNode","enter","leave","_cache","_createElementVNode","_","_hoisted_1","_hoisted_2","_hoisted_3","_toDisplayString","initialData","id","onClick","onSubmit","_withModifiers","handleSubmit","_hoisted_4","_hoisted_5","_createTextVNode","type","$event","form","name","required","_normalizeClass","errors","placeholder","_createElementBlock","_hoisted_6","_hoisted_7","issuing_authority","_hoisted_8","_hoisted_9","_hoisted_10","issue_date","_hoisted_11","_hoisted_12","expiry_date","_hoisted_13","_hoisted_14","credential_id","_hoisted_15","_hoisted_16","_component_el_input","description","rows","_hoisted_17","_hoisted_18","disabled","loading","_hoisted_19"],"sources":["/Users/liuzhao/Documents/Projects/flybird/flybird-web/src/views/user/MyProfile/dialogs/EditCertificateDialog.vue"],"sourcesContent":["<template>\n  <TransitionRoot appear :show=\"modelValue\" as=\"template\">\n    <Dialog as=\"div\" class=\"relative z-50\" @close=\"handleClose\">\n      <!-- 背景遮罩 -->\n      <TransitionChild\n        as=\"template\"\n        enter=\"duration-300 ease-out\"\n        enter-from=\"opacity-0\"\n        enter-to=\"opacity-100\"\n        leave=\"duration-200 ease-in\"\n        leave-from=\"opacity-100\"\n        leave-to=\"opacity-0\"\n      >\n        <div class=\"fixed inset-0 bg-black/25\" />\n      </TransitionChild>\n\n      <!-- 对话框 -->\n      <div class=\"fixed inset-0 overflow-y-auto\">\n        <div class=\"flex min-h-full items-center justify-center p-4 text-center\">\n          <TransitionChild\n            as=\"template\"\n            enter=\"duration-300 ease-out\"\n            enter-from=\"opacity-0 scale-95\"\n            enter-to=\"opacity-100 scale-100\"\n            leave=\"duration-200 ease-in\"\n            leave-from=\"opacity-100 scale-100\"\n            leave-to=\"opacity-0 scale-95\"\n          >\n            <DialogPanel class=\"w-full max-w-2xl transform overflow-hidden rounded-xl bg-white text-left align-middle shadow-xl transition-all\">\n              <!-- 头部 -->\n              <DialogTitle \n                as=\"div\" \n                class=\"flex items-center justify-between border-b border-gray-200 px-6 py-4\"\n              >\n                <h3 class=\"text-lg font-medium text-gray-900\">\n                  {{ initialData?.id ? '编辑证书奖项' : '添加证书奖项' }}\n                </h3>\n                <button\n                  @click=\"handleClose\"\n                  class=\"rounded-full p-1 hover:bg-gray-100 transition-colors\"\n                >\n                  <XMarkIcon class=\"w-5 h-5 text-gray-400\" />\n                </button>\n              </DialogTitle>\n\n              <!-- 表单内容 -->\n              <form @submit.prevent=\"handleSubmit\" class=\"p-6\">\n                <div class=\"space-y-6\">\n                  <!-- 证书名称 -->\n                  <div class=\"space-y-1\">\n                    <label class=\"block text-sm font-medium text-gray-700\">\n                      证书名称 <span class=\"text-red-500\">*</span>\n                    </label>\n                    <input\n                      type=\"text\"\n                      v-model=\"form.name\"\n                      required\n                      :class=\"[\n                        'w-full rounded-lg border py-2.5 px-4 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/10',\n                        errors.name ? 'border-red-300 focus:border-red-500' : 'border-gray-300 focus:border-blue-500'\n                      ]\"\n                      placeholder=\"请输入证书名称\"\n                    />\n                    <p v-if=\"errors.name\" class=\"text-sm text-red-500 mt-1\">{{ errors.name }}</p>\n                  </div>\n\n                  <!-- 颁发机构 -->\n                  <div class=\"space-y-1\">\n                    <label class=\"block text-sm font-medium text-gray-700\">\n                      颁发机构 <span class=\"text-red-500\">*</span>\n                    </label>\n                    <input\n                      type=\"text\"\n                      v-model=\"form.issuing_authority\"\n                      required\n                      :class=\"[\n                        'w-full rounded-lg border py-2.5 px-4 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/10',\n                        errors.issuing_authority ? 'border-red-300 focus:border-red-500' : 'border-gray-300 focus:border-blue-500'\n                      ]\"\n                      placeholder=\"请输入颁发机构\"\n                    />\n                    <p v-if=\"errors.issuing_authority\" class=\"text-sm text-red-500 mt-1\">{{ errors.issuing_authority }}</p>\n                  </div>\n\n                  <!-- 日期选择 -->\n                  <div class=\"grid grid-cols-2 gap-4\">\n                    <!-- 颁发日期 -->\n                    <div class=\"space-y-1\">\n                      <label class=\"block text-sm font-medium text-gray-700\">\n                        颁发日期 <span class=\"text-red-500\">*</span>\n                      </label>\n                      <input\n                        type=\"date\"\n                        v-model=\"form.issue_date\"\n                        required\n                        :class=\"[\n                          'w-full rounded-lg border py-2.5 px-4 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/10',\n                          errors.issue_date ? 'border-red-300 focus:border-red-500' : 'border-gray-300 focus:border-blue-500'\n                        ]\"\n                      />\n                      <p v-if=\"errors.issue_date\" class=\"text-sm text-red-500 mt-1\">{{ errors.issue_date }}</p>\n                    </div>\n\n                    <!-- 到期日期 -->\n                    <div class=\"space-y-1\">\n                      <label class=\"block text-sm font-medium text-gray-700\">\n                        到期日期\n                      </label>\n                      <input\n                        type=\"date\"\n                        v-model=\"form.expiry_date\"\n                        :class=\"[\n                          'w-full rounded-lg border py-2.5 px-4 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/10',\n                          errors.expiry_date ? 'border-red-300 focus:border-red-500' : 'border-gray-300 focus:border-blue-500'\n                        ]\"\n                      />\n                      <p v-if=\"errors.expiry_date\" class=\"text-sm text-red-500 mt-1\">{{ errors.expiry_date }}</p>\n                    </div>\n                  </div>\n\n                  <!-- 证书编号 -->\n                  <div class=\"space-y-1\">\n                    <label class=\"block text-sm font-medium text-gray-700\">\n                      证书编号\n                    </label>\n                    <input\n                      type=\"text\"\n                      v-model=\"form.credential_id\"\n                      :class=\"[\n                        'w-full rounded-lg border py-2.5 px-4 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/10',\n                        errors.credential_id ? 'border-red-300 focus:border-red-500' : 'border-gray-300 focus:border-blue-500'\n                      ]\"\n                      placeholder=\"请输入证书编号（选填）\"\n                    />\n                    <p v-if=\"errors.credential_id\" class=\"text-sm text-red-500 mt-1\">{{ errors.credential_id }}</p>\n                  </div>\n\n                  <!-- 证书描述 -->\n                  <div class=\"space-y-1\">\n                    <label class=\"block text-sm font-medium text-gray-700\">\n                      证书描述\n                    </label>\n                    <el-input\n                      v-model=\"form.description\"\n                      type=\"textarea\"\n                      :rows=\"4\"\n                      placeholder=\"请描述证书的相关信息（选填）\"\n                      :class=\"[\n                        '!w-full',\n                        errors.description ? 'is-error' : ''\n                      ]\"\n                    />\n                    <p v-if=\"errors.description\" class=\"text-sm text-red-500 mt-1\">{{ errors.description }}</p>\n                  </div>\n\n                  <!-- 底部按钮 -->\n                  <div class=\"flex justify-end space-x-3 pt-6\">\n                    <button\n                      type=\"button\"\n                      @click=\"handleClose\"\n                      class=\"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500\"\n                    >\n                      取消\n                    </button>\n                    <button\n                      type=\"submit\"\n                      :disabled=\"loading\"\n                      class=\"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed\"\n                    >\n                      {{ loading ? '保存中...' : '确认' }}\n                    </button>\n                  </div>\n                </div>\n              </form>\n            </DialogPanel>\n          </TransitionChild>\n        </div>\n      </div>\n    </Dialog>\n  </TransitionRoot>\n</template>\n\n<script setup>\nimport { ref, watch } from 'vue'\nimport {\n  Dialog,\n  DialogPanel,\n  DialogTitle,\n  TransitionRoot,\n  TransitionChild\n} from '@headlessui/vue'\nimport { XMarkIcon } from '@heroicons/vue/24/outline'\n\nconst props = defineProps({\n  modelValue: Boolean,\n  initialData: {\n    type: Object,\n    default: () => ({})\n  },\n  loading: Boolean\n})\n\nconst emit = defineEmits(['update:modelValue', 'submit'])\n\n// 表单数据\nconst form = ref({\n  id: null,\n  name: '',\n  issuing_authority: '',\n  issue_date: '',\n  expiry_date: '',\n  credential_id: '',\n  description: ''\n})\n\n// 错误状态\nconst errors = ref({\n  name: '',\n  issuing_authority: '',\n  issue_date: '',\n  expiry_date: '',\n  credential_id: '',\n  description: ''\n})\n\n// 监听初始数据变化\nwatch(() => props.initialData, (newVal) => {\n  if (newVal) {\n    form.value = {\n      id: newVal.id || null,\n      name: newVal.name || '',\n      issuing_authority: newVal.issuing_authority || '',\n      issue_date: newVal.issue_date || '',\n      expiry_date: newVal.expiry_date || '',\n      credential_id: newVal.credential_id || '',\n      description: newVal.description || ''\n    }\n  }\n}, { immediate: true, deep: true })\n\nconst handleClose = () => {\n  emit('update:modelValue', false)\n}\n\n// 验证表单\nconst validateForm = () => {\n  let isValid = true\n  errors.value = {\n    name: '',\n    issuing_authority: '',\n    issue_date: '',\n    expiry_date: '',\n    credential_id: '',\n    description: ''\n  }\n\n  // 必填字段验证\n  if (!form.value.name?.trim()) {\n    errors.value.name = '请输入证书名称'\n    isValid = false\n  }\n\n  if (!form.value.issuing_authority?.trim()) {\n    errors.value.issuing_authority = '请输入颁发机构'\n    isValid = false\n  }\n\n  if (!form.value.issue_date) {\n    errors.value.issue_date = '请选择颁发日期'\n    isValid = false\n  }\n\n  // 日期逻辑验证\n  if (form.value.issue_date && form.value.expiry_date) {\n    const issueDate = new Date(form.value.issue_date)\n    const expiryDate = new Date(form.value.expiry_date)\n    if (expiryDate < issueDate) {\n      errors.value.expiry_date = '到期日期不能早于颁发日期'\n      isValid = false\n    }\n  }\n\n  return isValid\n}\n\n// 提交处理\nconst handleSubmit = () => {\n  if (!validateForm()) {\n    return\n  }\n\n  const formData = {\n    ...form.value,\n    name: form.value.name.trim(),\n    issuing_authority: form.value.issuing_authority.trim(),\n    description: form.value.description?.trim() || ''\n  }\n\n  // 如果是新建，不传 id\n  if (!formData.id) {\n    delete formData.id\n  }\n\n  emit('submit', formData)\n}\n</script> "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}