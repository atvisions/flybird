{"ast":null,"code":"import _objectSpread from \"/Users/liuzhao/Documents/Projects/flybird/flybird-web/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport { ref, computed, onMounted, onUnmounted, watch } from 'vue';\nimport { useRouter } from 'vue-router';\nimport { showToast } from '@/components/ToastMessage';\nimport { useDeleteAccount } from '@/composables/useDeleteAccount';\nimport { usePhone } from '@/composables/usePhone';\nimport { useEmail } from '@/composables/useEmail';\nimport { useChangePassword } from '@/composables/useChangePassword';\nimport { account } from '@/api/account';\nimport { useAuthStore } from '@/stores/auth';\nimport { useUserStore } from '@/stores/user';\nimport { useAccountStore } from '@/stores/account';\nexport default {\n  __name: 'AccountSettings',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const router = useRouter();\n    const authStore = useAuthStore();\n    const userStore = useUserStore();\n    const accountStore = useAccountStore();\n\n    // 手机号掩码处理函数\n    const maskPhone = phone => {\n      if (!phone) return '未绑定';\n      return phone.replace(/(\\d{3})\\d{4}(\\d{4})/, '$1****$2');\n    };\n\n    // 从 accountStore 获取用户信息\n    const phone = computed(() => accountStore.userInfo?.phone);\n    const email = computed(() => accountStore.userInfo?.email);\n\n    // 弹窗状态\n    const showEmailModal = ref(false);\n    const showUnbindEmailModal = ref(false);\n    const showPhoneModal = ref(false);\n    const showPasswordModal = ref(false);\n    const showDeleteConfirm = ref(false);\n    const showPassword = ref(false);\n\n    // 密码状态\n    const passwordFormState = ref({\n      oldPassword: '',\n      newPassword: '',\n      confirmPassword: '',\n      loading: false,\n      strength: 0\n    });\n\n    // 邮箱解绑相关状态\n    const unbindEmailLoading = ref(false);\n    const unbindEmailForm = ref({\n      password: ''\n    });\n\n    // 邮箱解绑相关方法\n    const closeUnbindEmailModal = () => {\n      showUnbindEmailModal.value = false;\n      unbindEmailForm.value.password = '';\n    };\n    const handleUnbindEmail = () => {\n      showUnbindEmailModal.value = true;\n    };\n    const confirmUnbindEmail = async () => {\n      try {\n        unbindEmailLoading.value = true;\n        const response = await account.unbindEmail({\n          password: unbindEmailForm.value.password\n        });\n        if (response?.data?.message) {\n          closeUnbindEmailModal();\n          await userStore.getUserInfo();\n          showToast(response.data.message || '邮箱解绑成功', 'success');\n        }\n      } catch (error) {\n        console.error('邮箱解绑失败:', error);\n        const errorMsg = error.response?.data?.detail || error.response?.data?.message || error.message || '邮箱解绑失败';\n        showToast(errorMsg, 'error');\n      } finally {\n        unbindEmailLoading.value = false;\n      }\n    };\n\n    // 密码显示状态\n    const showOldPassword = ref(false);\n    const showNewPassword = ref(false);\n    const showConfirmPassword = ref(false);\n\n    // 打开密码修改弹窗时重置所有状态\n    const openPasswordModal = () => {\n      // 重置表单状态\n      passwordFormState.value = {\n        oldPassword: '',\n        newPassword: '',\n        confirmPassword: '',\n        loading: false,\n        strength: 0\n      };\n      // 重置密码显示状态\n      showOldPassword.value = false;\n      showNewPassword.value = false;\n      showConfirmPassword.value = false;\n      showPasswordModal.value = true;\n      console.log('Password modal opened:', showPasswordModal.value);\n    };\n\n    // 关闭密码修改弹窗时重置所有状态\n    const closePasswordModal = () => {\n      showPasswordModal.value = false;\n      // 重置表单状态\n      passwordFormState.value = {\n        oldPassword: '',\n        newPassword: '',\n        confirmPassword: '',\n        loading: false,\n        strength: 0\n      };\n      // 重置密码显示状态\n      showOldPassword.value = false;\n      showNewPassword.value = false;\n      showConfirmPassword.value = false;\n    };\n\n    // 邮箱管理器\n    const emailManager = useEmail();\n    const phoneManager = usePhone();\n    const {\n      validatePassword\n    } = useChangePassword();\n    const {\n      loading\n    } = useDeleteAccount();\n\n    // 修改密码强度更新的处理方法\n    const handlePasswordInput = () => {\n      const strength = validatePassword(passwordFormState.value.newPassword);\n      console.log('Password strength updated:', strength);\n      passwordFormState.value.strength = strength;\n    };\n\n    // 密码表单验证\n    const isPasswordFormValid = computed(() => {\n      // 添加调试日志\n      console.log('Password validation:', {\n        oldPassword: !!passwordFormState.value.oldPassword,\n        newPassword: !!passwordFormState.value.newPassword,\n        confirmPassword: !!passwordFormState.value.confirmPassword,\n        passwordsMatch: passwordFormState.value.newPassword === passwordFormState.value.confirmPassword,\n        strength: passwordFormState.value.strength,\n        loading: passwordFormState.value.loading\n      });\n      return passwordFormState.value.oldPassword && passwordFormState.value.newPassword && passwordFormState.value.confirmPassword && passwordFormState.value.newPassword === passwordFormState.value.confirmPassword && passwordFormState.value.strength >= 3 && !passwordFormState.value.loading;\n    });\n\n    // 处理密码更新\n    const handlePasswordUpdate = async () => {\n      try {\n        passwordFormState.value.loading = true;\n        const response = await account.updatePassword({\n          oldPassword: passwordFormState.value.oldPassword,\n          newPassword: passwordFormState.value.newPassword,\n          confirmPassword: passwordFormState.value.confirmPassword\n        });\n        if (response?.data?.message) {\n          closePasswordModal();\n          showToast(response.data.message || '密码修改成功', 'success');\n        }\n      } catch (error) {\n        console.error('密码修改失败:', error);\n        console.log('Error response:', error.response);\n        console.log('Form data:', passwordFormState.value);\n        const errorMsg = error.response?.data?.detail || error.response?.data?.message || error.message || '密码修改失败';\n        showToast(errorMsg, 'error');\n      } finally {\n        passwordFormState.value.loading = false;\n      }\n    };\n\n    // 密码强度相关\n    const strengthText = computed(() => {\n      const strength = passwordFormState.value.strength;\n      if (strength <= 2) return '弱';\n      if (strength <= 3) return '中';\n      return '强';\n    });\n    const strengthTextClass = computed(() => {\n      const strength = passwordFormState.value.strength;\n      if (strength <= 2) return 'text-red-500';\n      if (strength <= 3) return 'text-yellow-500';\n      return 'text-green-500';\n    });\n    const strengthColorClass = computed(() => {\n      const strength = passwordFormState.value.strength;\n      if (strength <= 2) return 'bg-red-500';\n      if (strength <= 3) return 'bg-yellow-500';\n      return 'bg-green-500';\n    });\n\n    // 监听密码修改弹窗状态\n    onMounted(() => {\n      watch(showPasswordModal, newVal => {\n        console.log('Password modal state changed:', newVal);\n      });\n    });\n\n    // 用户信息\n    const userInfo = ref(null);\n\n    // 用户信息加载状态\n    const userInfoLoading = ref(false);\n\n    // 获取用户信息\n    const fetchUserInfo = async () => {\n      try {\n        userInfoLoading.value = true;\n        await accountStore.fetchUserInfo();\n      } catch (error) {\n        console.error('获取用户信息失败:', error);\n        showToast('获取用户信息失败', 'error');\n      } finally {\n        userInfoLoading.value = false;\n      }\n    };\n\n    // 在组件挂载时获取用户信息\n    onMounted(() => {\n      fetchUserInfo();\n      watch(showPasswordModal, newVal => {\n        console.log('Password modal state changed:', newVal);\n      });\n    });\n\n    // 监听 accountStore 中的用户信息变化\n    watch([() => accountStore.userInfo, () => authStore.isLoggedIn], ([newUserInfo, isLoggedIn]) => {\n      if (newUserInfo && isLoggedIn) {\n        userInfo.value = _objectSpread({}, newUserInfo);\n      } else {\n        userInfo.value = null;\n      }\n    }, {\n      immediate: true,\n      deep: true\n    });\n\n    // 手机号管理相关方法\n    const openPhoneModal = () => {\n      phoneManager.state.value = '';\n      phoneManager.state.code = '';\n      phoneManager.state.loading = false;\n      phoneManager.state.countdown = 0;\n      showPhoneModal.value = true;\n      console.log('Phone modal opened:', showPhoneModal.value); // 添加调试日志\n    };\n    const closePhoneModal = () => {\n      showPhoneModal.value = false;\n      phoneManager.state.value = '';\n      phoneManager.state.code = '';\n      phoneManager.state.loading = false;\n      phoneManager.state.countdown = 0;\n    };\n\n    // 手机号验证码按钮禁用状态\n    const isPhoneCodeButtonDisabled = computed(() => {\n      const phoneRegex = /^1[3-9]\\d{9}$/;\n      return phoneManager.state.loading || phoneManager.state.countdown > 0 || !phoneManager.state.value || !phoneRegex.test(phoneManager.state.value);\n    });\n\n    // 手机号表单验证\n    const isPhoneFormValid = computed(() => {\n      const phoneRegex = /^1[3-9]\\d{9}$/;\n      const isValidPhone = phoneRegex.test(phoneManager.state.value);\n      const isValidCode = phoneManager.state.code?.length === 6;\n      return phoneManager.state.value && phoneManager.state.code && isValidPhone && isValidCode && !phoneManager.state.loading;\n    });\n\n    // 发送手机验证码\n    const handlePhoneSendCode = async () => {\n      const phoneRegex = /^1[3-9]\\d{9}$/;\n      if (!phoneManager.state.value) {\n        showToast('请输入新手机号', 'warning');\n        return;\n      }\n      if (!phoneRegex.test(phoneManager.state.value)) {\n        showToast('请输入正确的手机号格式', 'warning');\n        return;\n      }\n      try {\n        phoneManager.state.loading = true;\n        const response = await account.sendVerifyCode({\n          phone: phoneManager.state.value.trim(),\n          scene: 'change_phone' // 指定场景为更换手机号\n        });\n        if (response?.data?.code === 200) {\n          showToast(response.data.message || '验证码已发送', 'success');\n          phoneManager.state.countdown = 60;\n          startPhoneCountdown();\n        }\n      } catch (error) {\n        const errorMsg = error.response?.data?.detail || error.response?.data?.message || error.message || '发送验证码失败';\n        showToast(errorMsg, 'error');\n      } finally {\n        phoneManager.state.loading = false;\n      }\n    };\n\n    // 更新手机号\n    const handlePhoneUpdate = async () => {\n      const phoneRegex = /^1[3-9]\\d{9}$/;\n      if (!phoneManager.state.value || !phoneRegex.test(phoneManager.state.value)) {\n        showToast('请输入正确的手机号', 'warning');\n        return;\n      }\n      if (!phoneManager.state.code || phoneManager.state.code.length !== 6) {\n        showToast('请输入6位验证码', 'warning');\n        return;\n      }\n      try {\n        phoneManager.state.loading = true;\n        const response = await account.changePhone({\n          phone: phoneManager.state.value.trim(),\n          code: phoneManager.state.code.trim()\n        });\n        if (response?.data?.code === 200 || response?.status === 200) {\n          showToast(response.data?.message || '手机号修改成功', 'success');\n          closePhoneModal();\n          await userStore.getUserInfo();\n        }\n      } catch (error) {\n        console.error('手机号更新失败:', error);\n        let errorMsg = '手机号更新失败';\n        if (error.response?.data) {\n          const errorData = error.response.data;\n          if (typeof errorData.detail === 'object') {\n            errorMsg = Object.values(errorData.detail)[0];\n          } else if (typeof errorData.detail === 'string') {\n            errorMsg = errorData.detail;\n          } else if (errorData.message) {\n            errorMsg = errorData.message;\n          }\n        }\n        showToast(errorMsg, 'error');\n      } finally {\n        phoneManager.state.loading = false;\n      }\n    };\n\n    // 倒计时管理\n    let phoneTimer = null;\n    const startPhoneCountdown = () => {\n      if (phoneTimer) {\n        clearInterval(phoneTimer);\n      }\n      phoneManager.state.countdown = 60;\n      phoneTimer = setInterval(() => {\n        if (phoneManager.state.countdown > 0) {\n          phoneManager.state.countdown--;\n        } else {\n          clearInterval(phoneTimer);\n          phoneTimer = null;\n        }\n      }, 1000);\n    };\n\n    // 在组件卸载时清理定时器\n    onUnmounted(() => {\n      if (phoneTimer) {\n        clearInterval(phoneTimer);\n        phoneTimer = null;\n      }\n    });\n\n    // 邮箱相关方法\n    const openEmailModal = () => {\n      emailManager.state.value = '';\n      emailManager.state.code = '';\n      emailManager.state.password = '';\n      showPassword.value = false;\n      showEmailModal.value = true;\n    };\n    const closeEmailModal = () => {\n      showEmailModal.value = false;\n      emailManager.state.value = '';\n      emailManager.state.code = '';\n      emailManager.state.password = '';\n      emailManager.state.loading = false;\n      showPassword.value = false;\n    };\n\n    // 邮箱验证码按钮禁用状态\n    const isEmailCodeButtonDisabled = computed(() => {\n      const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n      return emailManager.state.loading || emailManager.state.countdown > 0 || !emailManager.state.value || !emailRegex.test(emailManager.state.value) || !emailManager.state.password;\n    });\n\n    // 邮箱表单验证\n    const isEmailFormValid = computed(() => {\n      const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n      const isValidEmail = emailRegex.test(emailManager.state.value);\n      return emailManager.state.value && emailManager.state.code && emailManager.state.password && isValidEmail && emailManager.state.code.length === 6;\n    });\n\n    // 发送邮箱验证码\n    const handleEmailSendCode = async () => {\n      if (!emailManager.state.value) {\n        showToast('请输入邮箱地址', 'warning');\n        return;\n      }\n      if (!emailManager.state.password) {\n        showToast('请输入登录密码', 'warning');\n        return;\n      }\n      const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n      if (!emailRegex.test(emailManager.state.value)) {\n        showToast('请输入正确的邮箱格式', 'warning');\n        return;\n      }\n      try {\n        emailManager.state.loading = true;\n        const response = await account.sendEmailCode({\n          email: emailManager.state.value,\n          password: emailManager.state.password\n        });\n        if (response?.data?.message) {\n          showToast(response.data.message, 'success');\n          emailManager.state.countdown = 60;\n          startEmailCountdown();\n        }\n      } catch (error) {\n        const errorMsg = error.response?.data?.detail || error.message || '发送验证码失败';\n        showToast(errorMsg, 'error');\n      } finally {\n        emailManager.state.loading = false;\n      }\n    };\n\n    // 处理邮箱更新\n    const handleEmailUpdate = async () => {\n      if (!isEmailFormValid.value) {\n        showToast('请填写完整信息', 'warning');\n        return;\n      }\n      try {\n        emailManager.state.loading = true;\n        const response = await account.bindEmail({\n          email: emailManager.state.value,\n          code: emailManager.state.code,\n          password: emailManager.state.password\n        });\n        if (response?.data?.message) {\n          showToast(response.data.message, 'success');\n          closeEmailModal();\n          await userStore.getUserInfo();\n        }\n      } catch (error) {\n        console.error('邮箱更新失败:', error);\n        const errorMsg = error.response?.data?.detail || error.message || '邮箱更新失败';\n        showToast(errorMsg, 'error');\n      } finally {\n        emailManager.state.loading = false;\n      }\n    };\n\n    // 邮箱倒计时管理\n    let emailTimer = null;\n    const startEmailCountdown = () => {\n      if (emailTimer) {\n        clearInterval(emailTimer);\n      }\n      emailManager.state.countdown = 60;\n      emailTimer = setInterval(() => {\n        if (emailManager.state.countdown > 0) {\n          emailManager.state.countdown--;\n        } else {\n          clearInterval(emailTimer);\n          emailTimer = null;\n        }\n      }, 1000);\n    };\n\n    // 在组件卸载时清理定时器\n    onUnmounted(() => {\n      if (emailTimer) {\n        clearInterval(emailTimer);\n      }\n      if (phoneTimer) {\n        clearInterval(phoneTimer);\n      }\n    });\n\n    // 注销账号相关状态\n    const deleteFormState = ref({\n      password: '',\n      loading: false\n    });\n\n    // 注销账号相关方法\n    const openDeleteConfirm = () => {\n      deleteFormState.value.password = '';\n      showDeleteConfirm.value = true;\n    };\n    const closeDeleteConfirm = () => {\n      showDeleteConfirm.value = false;\n      deleteFormState.value.password = '';\n    };\n\n    // 处理确认注销\n    const handleConfirmDelete = async () => {\n      if (!deleteFormState.value.password) {\n        showToast('请输入密码', 'warning');\n        return;\n      }\n      try {\n        deleteFormState.value.loading = true;\n        const response = await account.deleteAccount({\n          password: deleteFormState.value.password\n        });\n        if (response?.data?.code === 200) {\n          showToast('账号已注销', 'success');\n          // 使用 auth store 的 logout 方法清除所有状态\n          await authStore.logout();\n          // 清除 user store 的状态\n          userStore.clearUserInfo();\n          // 清除其他可能的状态\n          localStorage.removeItem('isLoggedIn');\n          // 强制刷新页面以确保所有状态都被清除\n          window.location.href = '/login';\n        }\n      } catch (error) {\n        console.error('注销失败:', error);\n        const errorMsg = error.response?.data?.detail || error.response?.data?.message || error.message || '注销失败';\n        showToast(errorMsg, 'error');\n      } finally {\n        deleteFormState.value.loading = false;\n      }\n    };\n    const __returned__ = {\n      router,\n      authStore,\n      userStore,\n      accountStore,\n      maskPhone,\n      phone,\n      email,\n      showEmailModal,\n      showUnbindEmailModal,\n      showPhoneModal,\n      showPasswordModal,\n      showDeleteConfirm,\n      showPassword,\n      passwordFormState,\n      unbindEmailLoading,\n      unbindEmailForm,\n      closeUnbindEmailModal,\n      handleUnbindEmail,\n      confirmUnbindEmail,\n      showOldPassword,\n      showNewPassword,\n      showConfirmPassword,\n      openPasswordModal,\n      closePasswordModal,\n      emailManager,\n      phoneManager,\n      validatePassword,\n      loading,\n      handlePasswordInput,\n      isPasswordFormValid,\n      handlePasswordUpdate,\n      strengthText,\n      strengthTextClass,\n      strengthColorClass,\n      userInfo,\n      userInfoLoading,\n      fetchUserInfo,\n      openPhoneModal,\n      closePhoneModal,\n      isPhoneCodeButtonDisabled,\n      isPhoneFormValid,\n      handlePhoneSendCode,\n      handlePhoneUpdate,\n      get phoneTimer() {\n        return phoneTimer;\n      },\n      set phoneTimer(v) {\n        phoneTimer = v;\n      },\n      startPhoneCountdown,\n      openEmailModal,\n      closeEmailModal,\n      isEmailCodeButtonDisabled,\n      isEmailFormValid,\n      handleEmailSendCode,\n      handleEmailUpdate,\n      get emailTimer() {\n        return emailTimer;\n      },\n      set emailTimer(v) {\n        emailTimer = v;\n      },\n      startEmailCountdown,\n      deleteFormState,\n      openDeleteConfirm,\n      closeDeleteConfirm,\n      handleConfirmDelete,\n      ref,\n      computed,\n      onMounted,\n      onUnmounted,\n      watch,\n      get useRouter() {\n        return useRouter;\n      },\n      get showToast() {\n        return showToast;\n      },\n      get useDeleteAccount() {\n        return useDeleteAccount;\n      },\n      get usePhone() {\n        return usePhone;\n      },\n      get useEmail() {\n        return useEmail;\n      },\n      get useChangePassword() {\n        return useChangePassword;\n      },\n      get account() {\n        return account;\n      },\n      get useAuthStore() {\n        return useAuthStore;\n      },\n      get useUserStore() {\n        return useUserStore;\n      },\n      get useAccountStore() {\n        return useAccountStore;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","computed","onMounted","onUnmounted","watch","useRouter","showToast","useDeleteAccount","usePhone","useEmail","useChangePassword","account","useAuthStore","useUserStore","useAccountStore","router","authStore","userStore","accountStore","maskPhone","phone","replace","userInfo","email","showEmailModal","showUnbindEmailModal","showPhoneModal","showPasswordModal","showDeleteConfirm","showPassword","passwordFormState","oldPassword","newPassword","confirmPassword","loading","strength","unbindEmailLoading","unbindEmailForm","password","closeUnbindEmailModal","value","handleUnbindEmail","confirmUnbindEmail","response","unbindEmail","data","message","getUserInfo","error","console","errorMsg","detail","showOldPassword","showNewPassword","showConfirmPassword","openPasswordModal","log","closePasswordModal","emailManager","phoneManager","validatePassword","handlePasswordInput","isPasswordFormValid","passwordsMatch","handlePasswordUpdate","updatePassword","strengthText","strengthTextClass","strengthColorClass","newVal","userInfoLoading","fetchUserInfo","isLoggedIn","newUserInfo","_objectSpread","immediate","deep","openPhoneModal","state","code","countdown","closePhoneModal","isPhoneCodeButtonDisabled","phoneRegex","test","isPhoneFormValid","isValidPhone","isValidCode","length","handlePhoneSendCode","sendVerifyCode","trim","scene","startPhoneCountdown","handlePhoneUpdate","changePhone","status","errorData","Object","values","phoneTimer","clearInterval","setInterval","openEmailModal","closeEmailModal","isEmailCodeButtonDisabled","emailRegex","isEmailFormValid","isValidEmail","handleEmailSendCode","sendEmailCode","startEmailCountdown","handleEmailUpdate","bindEmail","emailTimer","deleteFormState","openDeleteConfirm","closeDeleteConfirm","handleConfirmDelete","deleteAccount","logout","clearUserInfo","localStorage","removeItem","window","location","href"],"sources":["/Users/liuzhao/Documents/Projects/flybird/flybird-web/src/views/user/AccountSettings.vue"],"sourcesContent":["<template>\n  <div class=\"max-w-4xl mx-auto\">\n    <div class=\"space-y-6\">\n      <!-- 账户安全 -->\n      <section class=\"bg-white rounded-lg shadow overflow-hidden\">\n        <div class=\"px-6 py-4 bg-gray-100 border-b border-gray-200\">\n          <h2 class=\"text-lg font-medium text-gray-900\">账户安全</h2>\n        </div>\n        \n        <div class=\"p-6 space-y-6\">\n          <!-- 邮箱 -->\n          <div class=\"flex items-center justify-between\">\n            <div class=\"flex-1\">\n              <div class=\"flex items-center space-x-2\">\n                <svg class=\"w-5 h-5 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" \n                    d=\"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z\" />\n                </svg>\n                <span class=\"text-sm font-medium text-gray-900\">邮箱</span>\n              </div>\n              <p class=\"mt-1 text-sm text-gray-500\">{{ email || '未绑定' }}</p>\n            </div>\n            <div class=\"flex space-x-2\">\n              <button \n                v-if=\"email\"\n                @click=\"handleUnbindEmail\"\n                class=\"inline-flex items-center px-3 py-1.5 text-sm font-medium text-red-600 border border-red-600 \n                hover:bg-red-50 transition-colors rounded-md\">\n                取消绑定\n              </button>\n              <button \n                @click=\"openEmailModal\"\n                class=\"inline-flex items-center px-3 py-1.5 text-sm font-medium text-indigo-600 border border-indigo-600 \n                hover:bg-indigo-50 transition-colors rounded-md\">\n                {{ email ? '更换邮箱' : '绑定邮箱' }}\n              </button>\n            </div>\n          </div>\n\n          <!-- 手机号 -->\n          <div class=\"flex items-center justify-between\">\n            <div class=\"flex-1\">\n              <div class=\"flex items-center space-x-2\">\n                <svg class=\"w-5 h-5 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" \n                    d=\"M12 18h.01M8 21h8a2 2 0 002-2V5a2 2 0 00-2-2H8a2 2 0 00-2 2v14a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z\" />\n                </svg>\n                <span class=\"text-sm font-medium text-gray-900\">手机号</span>\n              </div>\n              <p class=\"mt-1 text-sm text-gray-500\">{{ maskPhone(phone) }}</p>\n            </div>\n            <button \n              @click=\"openPhoneModal\"\n              class=\"inline-flex items-center px-3 py-1.5 text-sm font-medium text-indigo-600 border border-indigo-600 \n              hover:bg-indigo-50 transition-colors rounded-md\">\n              更换手机号\n            </button>\n          </div>\n\n          <!-- 密码 -->\n          <div class=\"flex items-center justify-between\">\n            <div class=\"flex-1\">\n              <div class=\"flex items-center space-x-2\">\n                <svg class=\"w-5 h-5 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" \n                    d=\"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z\" />\n                </svg>\n                <span class=\"text-sm font-medium text-gray-900\">登录密码</span>\n              </div>\n              <p class=\"mt-1 text-sm text-gray-500\">用于保护账号安全</p>\n            </div>\n            <button \n              @click=\"openPasswordModal\"\n              class=\"inline-flex items-center px-3 py-1.5 text-sm font-medium text-indigo-600 border border-indigo-600 \n              hover:bg-indigo-50 transition-colors rounded-md\">\n              修改密码\n            </button>\n          </div>\n        </div>\n      </section>\n\n      <!-- 账户注销 -->\n      <section class=\"bg-white rounded-lg shadow overflow-hidden\">\n        <div class=\"px-6 py-4 bg-gray-100 border-b border-gray-200\">\n          <h2 class=\"text-lg font-medium text-gray-900\">账户注销</h2>\n        </div>\n        \n        <div class=\"p-6\">\n          <div class=\"flex items-center justify-between\">\n            <div class=\"flex-1\">\n              <div class=\"flex items-center space-x-2\">\n                <svg class=\"w-5 h-5 text-red-500\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" \n                    d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\" />\n                </svg>\n                <span class=\"text-sm font-medium text-gray-900\">账户注销</span>\n              </div>\n              <p class=\"mt-1 text-sm text-gray-500\">注销后，账户将被永久删除且无法恢复</p>\n            </div>\n            <button \n              @click=\"openDeleteConfirm\"\n              :disabled=\"loading\"\n              class=\"text-red-600 hover:text-red-500\"\n            >\n              {{ loading ? '注销中...' : '注销账号' }}\n            </button>\n          </div>\n        </div>\n      </section>\n\n      <!-- Teleport 部分重写所有弹窗 -->\n      <Teleport to=\"body\">\n        <!-- 手机号修改弹窗 -->\n        <div v-if=\"showPhoneModal\" class=\"modal-overlay\">\n          <div class=\"modal-content\">\n            <div class=\"modal-header\">\n              <h3>更换手机号</h3>\n              <button class=\"close-btn\" @click=\"closePhoneModal\">\n                <svg class=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M6 18L18 6M6 6l12 12\" />\n                </svg>\n              </button>\n            </div>\n            <div class=\"modal-body\">\n              <div class=\"form-group\">\n                <input \n                  type=\"text\" \n                  v-model.trim=\"phoneManager.state.value\"\n                  placeholder=\"请输入新手机号\"\n                  :disabled=\"phoneManager.state.loading\"\n                />\n              </div>\n              <div class=\"form-group\">\n                <div class=\"code-input\">\n                  <input \n                    type=\"text\" \n                    v-model.trim=\"phoneManager.state.code\"\n                    maxlength=\"6\"\n                    placeholder=\"请输入验证码\"\n                    :disabled=\"phoneManager.state.loading\"\n                    @input=\"e => phoneManager.state.code = e.target.value.replace(/\\D/g, '').slice(0, 6)\"\n                  />\n                  <button \n                    @click=\"handlePhoneSendCode\"\n                    :disabled=\"isPhoneCodeButtonDisabled\"\n                    class=\"code-btn\"\n                  >\n                    {{ phoneManager.state.countdown > 0 \n                      ? `${phoneManager.state.countdown}s` \n                      : (phoneManager.state.loading ? '发送中...' : '获取验证码') \n                    }}\n                  </button>\n                </div>\n              </div>\n            </div>\n            <div class=\"modal-footer\">\n              <button \n                class=\"btn btn-default\" \n                @click=\"closePhoneModal\"\n                :disabled=\"phoneManager.state.loading\"\n              >\n                取消\n              </button>\n              <button \n                class=\"btn btn-primary\" \n                @click=\"handlePhoneUpdate\"\n                :disabled=\"!isPhoneFormValid || phoneManager.state.loading\"\n              >\n                {{ phoneManager.state.loading ? '更新中...' : '确认' }}\n              </button>\n            </div>\n          </div>\n        </div>\n\n        <!-- 密码修改弹窗 -->\n        <div v-if=\"showPasswordModal\" class=\"modal-overlay\">\n          <div class=\"modal-content\">\n            <div class=\"modal-header\">\n              <h3>修改密码</h3>\n              <button class=\"close-btn\" @click=\"closePasswordModal\">\n                <svg class=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M6 18L18 6M6 6l12 12\" />\n                </svg>\n              </button>\n            </div>\n            <div class=\"modal-body\">\n              <!-- 原密码 -->\n              <div class=\"form-group\">\n                <div class=\"relative\">\n                  <input \n                    :type=\"showOldPassword ? 'text' : 'password'\"\n                    v-model=\"passwordFormState.oldPassword\"\n                    placeholder=\"请输入当前密码\"\n                  />\n                  <button \n                    type=\"button\"\n                    class=\"absolute inset-y-0 right-0 pr-3 flex items-center\"\n                    @click=\"showOldPassword = !showOldPassword\"\n                  >\n                    <svg \n                      class=\"h-5 w-5 text-gray-400\" \n                      :class=\"{ 'text-indigo-600': showOldPassword }\"\n                      fill=\"none\" \n                      stroke=\"currentColor\" \n                      viewBox=\"0 0 24 24\"\n                    >\n                      <path \n                        v-if=\"showOldPassword\"\n                        stroke-linecap=\"round\" \n                        stroke-linejoin=\"round\" \n                        stroke-width=\"2\" \n                        d=\"M15 12a3 3 0 11-6 0 3 3 0 016 0z\"\n                      />\n                      <path \n                        v-if=\"showOldPassword\"\n                        stroke-linecap=\"round\" \n                        stroke-linejoin=\"round\" \n                        stroke-width=\"2\"\n                        d=\"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z\"\n                      />\n                      <path\n                        v-else\n                        stroke-linecap=\"round\" \n                        stroke-linejoin=\"round\" \n                        stroke-width=\"2\"\n                        d=\"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21\"\n                      />\n                    </svg>\n                  </button>\n                </div>\n              </div>\n              \n              <!-- 新密码 -->\n              <div class=\"form-group\">\n                <div class=\"relative\">\n                  <input \n                    :type=\"showNewPassword ? 'text' : 'password'\"\n                    v-model=\"passwordFormState.newPassword\"\n                    @input=\"handlePasswordInput\"\n                    placeholder=\"请输入新密码\"\n                  />\n                  <button \n                    type=\"button\"\n                    class=\"absolute inset-y-0 right-0 pr-3 flex items-center\"\n                    @click=\"showNewPassword = !showNewPassword\"\n                  >\n                    <svg \n                      class=\"h-5 w-5 text-gray-400\" \n                      :class=\"{ 'text-indigo-600': showNewPassword }\"\n                      fill=\"none\" \n                      stroke=\"currentColor\" \n                      viewBox=\"0 0 24 24\"\n                    >\n                      <path \n                        v-if=\"showNewPassword\"\n                        stroke-linecap=\"round\" \n                        stroke-linejoin=\"round\" \n                        stroke-width=\"2\" \n                        d=\"M15 12a3 3 0 11-6 0 3 3 0 016 0z\"\n                      />\n                      <path \n                        v-if=\"showNewPassword\"\n                        stroke-linecap=\"round\" \n                        stroke-linejoin=\"round\" \n                        stroke-width=\"2\"\n                        d=\"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z\"\n                      />\n                      <path\n                        v-else\n                        stroke-linecap=\"round\" \n                        stroke-linejoin=\"round\" \n                        stroke-width=\"2\"\n                        d=\"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21\"\n                      />\n                    </svg>\n                  </button>\n                </div>\n                <!-- 密码强度指示器 -->\n                <div class=\"password-strength\">\n                  <div class=\"strength-text\" :class=\"strengthTextClass\">\n                    密码强度: {{ strengthText }}\n                  </div>\n                  <div class=\"strength-bar\">\n                    <div \n                      class=\"strength-progress\" \n                      :class=\"strengthColorClass\"\n                      :style=\"{ width: (passwordFormState.strength * 16.67) + '%' }\"\n                    ></div>\n                  </div>\n                </div>\n                <!-- 密码格式要求提示 -->\n                <div class=\"password-requirements text-sm text-gray-500 mt-2\">\n                  <p>密码必须满足：</p>\n                  <ul class=\"list-disc pl-5 space-y-1\">\n                    <li>长度至少8位</li>\n                    <li>包含字母</li>\n                    <li>包含数字</li>\n                  </ul>\n                  <p class=\"mt-1\">建议包含：</p>\n                  <ul class=\"list-disc pl-5 space-y-1\">\n                    <li>大写字母</li>\n                    <li>特殊字符（!@#$%^&*）</li>\n                  </ul>\n                </div>\n              </div>\n\n              <!-- 确认密码 -->\n              <div class=\"form-group\">\n                <div class=\"relative\">\n                  <input \n                    :type=\"showConfirmPassword ? 'text' : 'password'\"\n                    v-model=\"passwordFormState.confirmPassword\"\n                    placeholder=\"请确认新密码\"\n                  />\n                  <button \n                    type=\"button\"\n                    class=\"absolute inset-y-0 right-0 pr-3 flex items-center\"\n                    @click=\"showConfirmPassword = !showConfirmPassword\"\n                  >\n                    <svg \n                      class=\"h-5 w-5 text-gray-400\" \n                      :class=\"{ 'text-indigo-600': showConfirmPassword }\"\n                      fill=\"none\" \n                      stroke=\"currentColor\" \n                      viewBox=\"0 0 24 24\"\n                    >\n                      <path \n                        v-if=\"showConfirmPassword\"\n                        stroke-linecap=\"round\" \n                        stroke-linejoin=\"round\" \n                        stroke-width=\"2\" \n                        d=\"M15 12a3 3 0 11-6 0 3 3 0 016 0z\"\n                      />\n                      <path \n                        v-if=\"showConfirmPassword\"\n                        stroke-linecap=\"round\" \n                        stroke-linejoin=\"round\" \n                        stroke-width=\"2\"\n                        d=\"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z\"\n                      />\n                      <path\n                        v-else\n                        stroke-linecap=\"round\" \n                        stroke-linejoin=\"round\" \n                        stroke-width=\"2\"\n                        d=\"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21\"\n                      />\n                    </svg>\n                  </button>\n                </div>\n              </div>\n            </div>\n            <div class=\"modal-footer\">\n              <button \n                class=\"btn btn-default\" \n                @click=\"closePasswordModal\"\n                :disabled=\"passwordFormState.loading\"\n              >\n                取消\n              </button>\n              <button \n                class=\"btn btn-primary\" \n                @click=\"handlePasswordUpdate\"\n                :disabled=\"!isPasswordFormValid\"\n              >\n                {{ passwordFormState.loading ? '修改中...' : '确认' }}\n              </button>\n            </div>\n          </div>\n        </div>\n\n        <!-- 账户注销确认弹窗 -->\n        <div v-if=\"showDeleteConfirm\" class=\"modal-overlay\">\n          <div class=\"modal-content\">\n            <div class=\"modal-header\">\n              <div class=\"flex items-center space-x-2\">\n                <svg class=\"w-6 h-6 text-red-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" \n                    d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z\" />\n                </svg>\n                <h3 class=\"text-red-700\">账户注销确认</h3>\n              </div>\n              <button class=\"close-btn\" @click=\"closeDeleteConfirm\">\n                <svg class=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M6 18L18 6M6 6l12 12\" />\n                </svg>\n              </button>\n            </div>\n            <div class=\"modal-body\">\n              <div class=\"bg-red-50 p-4 rounded-md mb-4 border border-red-100\">\n                <div class=\"flex\">\n                  <div class=\"flex-shrink-0\">\n                    <svg class=\"h-5 w-5 text-red-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" \n                        d=\"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                    </svg>\n                  </div>\n                  <div class=\"ml-3\">\n                    <h3 class=\"text-sm font-medium text-red-800\">\n                      请确认以下信息\n                    </h3>\n                    <div class=\"mt-2 text-sm text-red-700\">\n                      <ul class=\"list-disc pl-5 space-y-1\">\n                        <li>账户注销后将无法恢复</li>\n                        <li>所有个人数据将被永久删除</li>\n                        <li>相关服务和功能将立即停止</li>\n                      </ul>\n                    </div>\n                  </div>\n                </div>\n              </div>\n              <div class=\"form-group\">\n                <div class=\"relative\">\n                  <input \n                    :type=\"showPassword ? 'text' : 'password'\"\n                    v-model=\"deleteFormState.password\"\n                    placeholder=\"请输入登录密码确认\"\n                    :disabled=\"deleteFormState.loading\"\n                    class=\"border-red-300 focus:border-red-500 focus:ring-red-500\"\n                  />\n                  <button \n                    type=\"button\"\n                    class=\"absolute inset-y-0 right-0 pr-3 flex items-center\"\n                    @click=\"showPassword = !showPassword\"\n                  >\n                    <svg \n                      class=\"h-5 w-5 text-gray-400\" \n                      :class=\"{ 'text-red-600': showPassword }\"\n                      fill=\"none\" \n                      stroke=\"currentColor\" \n                      viewBox=\"0 0 24 24\"\n                    >\n                      <path \n                        v-if=\"showPassword\"\n                        stroke-linecap=\"round\" \n                        stroke-linejoin=\"round\" \n                        stroke-width=\"2\" \n                        d=\"M15 12a3 3 0 11-6 0 3 3 0 016 0z\"\n                      />\n                      <path \n                        v-if=\"showPassword\"\n                        stroke-linecap=\"round\" \n                        stroke-linejoin=\"round\" \n                        stroke-width=\"2\"\n                        d=\"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z\"\n                      />\n                      <path\n                        v-else\n                        stroke-linecap=\"round\" \n                        stroke-linejoin=\"round\" \n                        stroke-width=\"2\"\n                        d=\"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21\"\n                      />\n                    </svg>\n                  </button>\n                </div>\n              </div>\n            </div>\n            <div class=\"modal-footer\">\n              <button \n                class=\"btn btn-default\" \n                @click=\"closeDeleteConfirm\"\n                :disabled=\"deleteFormState.loading\"\n              >\n                取消\n              </button>\n              <button \n              class=\"btn btn-danger\" \n              @click=\"handleConfirmDelete\"\n              :disabled=\"deleteFormState.loading || !deleteFormState.password\"\n            >\n              {{ deleteFormState.loading ? '注销中...' : '确认注销' }}\n            </button>\n            </div>\n          </div>\n        </div>\n\n        <!-- 邮箱绑定弹窗 -->\n        <div v-if=\"showEmailModal\" class=\"modal-overlay\">\n          <div class=\"modal-content\">\n            <div class=\"modal-header\">\n              <h3>{{ email ? '更换邮箱' : '绑定邮箱' }}</h3>\n              <button class=\"close-btn\" @click=\"closeEmailModal\">\n                <svg class=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M6 18L18 6M6 6l12 12\" />\n                </svg>\n              </button>\n            </div>\n            <div class=\"modal-body\">\n              <div class=\"form-group\">\n                <input \n                  type=\"email\" \n                  v-model=\"emailManager.state.value\"\n                  placeholder=\"请输入邮箱地址\"\n                  :disabled=\"emailManager.state.loading\"\n                />\n              </div>\n              <div class=\"form-group\">\n                <div class=\"relative\">\n                  <input \n                    :type=\"showPassword ? 'text' : 'password'\"\n                    v-model=\"emailManager.state.password\"\n                    placeholder=\"请输入登录密码\"\n                    :disabled=\"emailManager.state.loading\"\n                  />\n                  <button \n                    type=\"button\"\n                    class=\"absolute inset-y-0 right-0 pr-3 flex items-center\"\n                    @click=\"showPassword = !showPassword\"\n                  >\n                    <svg \n                      class=\"h-5 w-5 text-gray-400\" \n                      :class=\"{ 'text-indigo-600': showPassword }\"\n                      fill=\"none\" \n                      stroke=\"currentColor\" \n                      viewBox=\"0 0 24 24\"\n                    >\n                      <path \n                        v-if=\"showPassword\"\n                        stroke-linecap=\"round\" \n                        stroke-linejoin=\"round\" \n                        stroke-width=\"2\" \n                        d=\"M15 12a3 3 0 11-6 0 3 3 0 016 0z\"\n                      />\n                      <path \n                        v-if=\"showPassword\"\n                        stroke-linecap=\"round\" \n                        stroke-linejoin=\"round\" \n                        stroke-width=\"2\"\n                        d=\"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z\"\n                      />\n                      <path\n                        v-else\n                        stroke-linecap=\"round\" \n                        stroke-linejoin=\"round\" \n                        stroke-width=\"2\"\n                        d=\"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21\"\n                      />\n                    </svg>\n                  </button>\n                </div>\n              </div>\n              <div class=\"form-group\">\n                <div class=\"code-input\">\n                  <input \n                    type=\"text\" \n                    v-model=\"emailManager.state.code\"\n                    placeholder=\"请输入验证码\"\n                    :disabled=\"emailManager.state.loading\"\n                  />\n                  <button \n                    @click=\"handleEmailSendCode\"\n                    :disabled=\"isEmailCodeButtonDisabled\"\n                    class=\"code-btn\"\n                  >\n                    {{ emailManager.state.countdown > 0 \n                      ? `${emailManager.state.countdown}s` \n                      : (emailManager.state.loading ? '发送中...' : '获取验证码') \n                    }}\n                  </button>\n                </div>\n              </div>\n            </div>\n            <div class=\"modal-footer\">\n              <button \n                class=\"btn btn-default\" \n                @click=\"closeEmailModal\"\n                :disabled=\"emailManager.state.loading\"\n              >\n                取消\n              </button>\n              <button \n                class=\"btn btn-primary\" \n                @click=\"handleEmailUpdate\"\n                :disabled=\"!isEmailFormValid || emailManager.state.loading\"\n              >\n                {{ emailManager.state.loading ? (email ? '更换中...' : '绑定中...') : '确认' }}\n              </button>\n            </div>\n          </div>\n        </div>\n\n        <!-- 邮箱解绑确认弹窗 -->\n        <div v-if=\"showUnbindEmailModal\" class=\"modal-overlay\">\n          <div class=\"modal-content\">\n            <div class=\"modal-header\">\n              <div class=\"flex items-center space-x-2\">\n                <svg class=\"w-6 h-6 text-gray-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" \n                    d=\"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z\" />\n                </svg>\n                <h3 class=\"text-gray-900\">取消邮箱绑定</h3>\n              </div>\n              <button class=\"close-btn\" @click=\"closeUnbindEmailModal\">\n                <svg class=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M6 18L18 6M6 6l12 12\" />\n                </svg>\n              </button>\n            </div>\n            <div class=\"modal-body\">\n              <div class=\"bg-gray-50 p-4 rounded-md mb-4 border border-gray-200\">\n                <div class=\"flex\">\n                  <div class=\"flex-shrink-0\">\n                    <svg class=\"h-5 w-5 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" \n                        d=\"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                    </svg>\n                  </div>\n                  <div class=\"ml-3\">\n                    <h3 class=\"text-sm font-medium text-gray-900\">\n                      请确认以下信息\n                    </h3>\n                    <div class=\"mt-2 text-sm text-gray-600\">\n                      <ul class=\"list-disc pl-5 space-y-1\">\n                        <li>取消绑定后将无法接收邮件通知</li>\n                        <li>需要输入登录密码确认操作</li>\n                      </ul>\n                    </div>\n                  </div>\n                </div>\n              </div>\n              <div class=\"form-group\">\n                <input \n                  type=\"password\" \n                  v-model=\"unbindEmailForm.password\"\n                  placeholder=\"请输入登录密码确认\"\n                  :disabled=\"unbindEmailLoading\"\n                  class=\"border-gray-300 focus:border-indigo-500 focus:ring-indigo-500\"\n                />\n              </div>\n            </div>\n            <div class=\"modal-footer\">\n              <button \n                class=\"btn btn-default\" \n                @click=\"closeUnbindEmailModal\"\n                :disabled=\"unbindEmailLoading\"\n              >\n                取消\n              </button>\n              <button \n                class=\"btn btn-primary\" \n                @click=\"confirmUnbindEmail\"\n                :disabled=\"unbindEmailLoading || !unbindEmailForm.password\"\n              >\n                {{ unbindEmailLoading ? '处理中...' : '确认解绑' }}\n              </button>\n            </div>\n          </div>\n        </div>\n      </Teleport>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { ref, computed, onMounted, onUnmounted, watch } from 'vue'\nimport { useRouter } from 'vue-router'\nimport { showToast } from '@/components/ToastMessage'\nimport { useDeleteAccount } from '@/composables/useDeleteAccount'\nimport { usePhone } from '@/composables/usePhone'\nimport { useEmail } from '@/composables/useEmail'\nimport { useChangePassword } from '@/composables/useChangePassword'\nimport { account } from '@/api/account'\nimport { useAuthStore } from '@/stores/auth'\nimport { useUserStore } from '@/stores/user'\nimport { useAccountStore } from '@/stores/account'\n\nconst router = useRouter()\nconst authStore = useAuthStore()\nconst userStore = useUserStore()\nconst accountStore = useAccountStore()\n\n// 手机号掩码处理函数\nconst maskPhone = (phone) => {\n  if (!phone) return '未绑定'\n  return phone.replace(/(\\d{3})\\d{4}(\\d{4})/, '$1****$2')\n}\n\n// 从 accountStore 获取用户信息\nconst phone = computed(() => accountStore.userInfo?.phone)\nconst email = computed(() => accountStore.userInfo?.email)\n\n// 弹窗状态\nconst showEmailModal = ref(false)\nconst showUnbindEmailModal = ref(false)\nconst showPhoneModal = ref(false)\nconst showPasswordModal = ref(false)\nconst showDeleteConfirm = ref(false)\nconst showPassword = ref(false)\n\n// 密码状态\nconst passwordFormState = ref({\n  oldPassword: '',\n  newPassword: '',\n  confirmPassword: '',\n  loading: false,\n  strength: 0\n})\n\n// 邮箱解绑相关状态\nconst unbindEmailLoading = ref(false)\nconst unbindEmailForm = ref({\n  password: ''\n})\n\n// 邮箱解绑相关方法\nconst closeUnbindEmailModal = () => {\n  showUnbindEmailModal.value = false\n  unbindEmailForm.value.password = ''\n}\n\nconst handleUnbindEmail = () => {\n  showUnbindEmailModal.value = true\n}\n\nconst confirmUnbindEmail = async () => {\n  try {\n    unbindEmailLoading.value = true\n    const response = await account.unbindEmail({\n      password: unbindEmailForm.value.password\n    })\n    \n    if (response?.data?.message) {\n      closeUnbindEmailModal()\n      await userStore.getUserInfo()\n      showToast(response.data.message || '邮箱解绑成功', 'success')\n    }\n  } catch (error) {\n    console.error('邮箱解绑失败:', error)\n    const errorMsg = error.response?.data?.detail || \n                    error.response?.data?.message || \n                    error.message || \n                    '邮箱解绑失败'\n    showToast(errorMsg, 'error')\n  } finally {\n    unbindEmailLoading.value = false\n  }\n}\n\n// 密码显示状态\nconst showOldPassword = ref(false)\nconst showNewPassword = ref(false)\nconst showConfirmPassword = ref(false)\n\n// 打开密码修改弹窗时重置所有状态\nconst openPasswordModal = () => {\n  // 重置表单状态\n  passwordFormState.value = {\n    oldPassword: '',\n    newPassword: '',\n    confirmPassword: '',\n    loading: false,\n    strength: 0\n  }\n  // 重置密码显示状态\n  showOldPassword.value = false\n  showNewPassword.value = false\n  showConfirmPassword.value = false\n  showPasswordModal.value = true\n  console.log('Password modal opened:', showPasswordModal.value)\n}\n\n// 关闭密码修改弹窗时重置所有状态\nconst closePasswordModal = () => {\n  showPasswordModal.value = false\n  // 重置表单状态\n  passwordFormState.value = {\n    oldPassword: '',\n    newPassword: '',\n    confirmPassword: '',\n    loading: false,\n    strength: 0\n  }\n  // 重置密码显示状态\n  showOldPassword.value = false\n  showNewPassword.value = false\n  showConfirmPassword.value = false\n}\n\n// 邮箱管理器\nconst emailManager = useEmail()\nconst phoneManager = usePhone()\nconst { validatePassword } = useChangePassword()\nconst { loading } = useDeleteAccount()\n\n// 修改密码强度更新的处理方法\nconst handlePasswordInput = () => {\n  const strength = validatePassword(passwordFormState.value.newPassword)\n  console.log('Password strength updated:', strength)\n  passwordFormState.value.strength = strength\n}\n\n// 密码表单验证\nconst isPasswordFormValid = computed(() => {\n  // 添加调试日志\n  console.log('Password validation:', {\n    oldPassword: !!passwordFormState.value.oldPassword,\n    newPassword: !!passwordFormState.value.newPassword,\n    confirmPassword: !!passwordFormState.value.confirmPassword,\n    passwordsMatch: passwordFormState.value.newPassword === passwordFormState.value.confirmPassword,\n    strength: passwordFormState.value.strength,\n    loading: passwordFormState.value.loading\n  })\n\n  return passwordFormState.value.oldPassword && \n         passwordFormState.value.newPassword && \n         passwordFormState.value.confirmPassword && \n         passwordFormState.value.newPassword === passwordFormState.value.confirmPassword &&\n         passwordFormState.value.strength >= 3 &&\n         !passwordFormState.value.loading\n})\n\n// 处理密码更新\nconst handlePasswordUpdate = async () => {\n  try {\n    passwordFormState.value.loading = true\n    const response = await account.updatePassword({\n      oldPassword: passwordFormState.value.oldPassword,\n      newPassword: passwordFormState.value.newPassword,\n      confirmPassword: passwordFormState.value.confirmPassword\n    })\n    \n    if (response?.data?.message) {\n      closePasswordModal()\n      showToast(response.data.message || '密码修改成功', 'success')\n    }\n  } catch (error) {\n    console.error('密码修改失败:', error)\n    console.log('Error response:', error.response)\n    console.log('Form data:', passwordFormState.value)\n    \n    const errorMsg = error.response?.data?.detail || \n                    error.response?.data?.message || \n                    error.message || \n                    '密码修改失败'\n    showToast(errorMsg, 'error')\n  } finally {\n    passwordFormState.value.loading = false\n  }\n}\n\n// 密码强度相关\nconst strengthText = computed(() => {\n  const strength = passwordFormState.value.strength\n  if (strength <= 2) return '弱'\n  if (strength <= 3) return '中'\n  return '强'\n})\n\nconst strengthTextClass = computed(() => {\n  const strength = passwordFormState.value.strength\n  if (strength <= 2) return 'text-red-500'\n  if (strength <= 3) return 'text-yellow-500'\n  return 'text-green-500'\n})\n\nconst strengthColorClass = computed(() => {\n  const strength = passwordFormState.value.strength\n  if (strength <= 2) return 'bg-red-500'\n  if (strength <= 3) return 'bg-yellow-500'\n  return 'bg-green-500'\n})\n\n// 监听密码修改弹窗状态\nonMounted(() => {\n  watch(showPasswordModal, (newVal) => {\n    console.log('Password modal state changed:', newVal)\n  })\n})\n\n// 用户信息\nconst userInfo = ref(null)\n\n// 用户信息加载状态\nconst userInfoLoading = ref(false)\n\n// 获取用户信息\nconst fetchUserInfo = async () => {\n  try {\n    userInfoLoading.value = true\n    await accountStore.fetchUserInfo()\n  } catch (error) {\n    console.error('获取用户信息失败:', error)\n    showToast('获取用户信息失败', 'error')\n  } finally {\n    userInfoLoading.value = false\n  }\n}\n\n// 在组件挂载时获取用户信息\nonMounted(() => {\n  fetchUserInfo()\n  watch(showPasswordModal, (newVal) => {\n    console.log('Password modal state changed:', newVal)\n  })\n})\n\n// 监听 accountStore 中的用户信息变化\nwatch(\n  [() => accountStore.userInfo, () => authStore.isLoggedIn],\n  ([newUserInfo, isLoggedIn]) => {\n    if (newUserInfo && isLoggedIn) {\n      userInfo.value = {\n        ...newUserInfo\n      }\n    } else {\n      userInfo.value = null\n    }\n  },\n  { immediate: true, deep: true }\n)\n\n// 手机号管理相关方法\nconst openPhoneModal = () => {\n  phoneManager.state.value = ''\n  phoneManager.state.code = ''\n  phoneManager.state.loading = false\n  phoneManager.state.countdown = 0\n  showPhoneModal.value = true\n  console.log('Phone modal opened:', showPhoneModal.value) // 添加调试日志\n}\n\nconst closePhoneModal = () => {\n  showPhoneModal.value = false\n  phoneManager.state.value = ''\n  phoneManager.state.code = ''\n  phoneManager.state.loading = false\n  phoneManager.state.countdown = 0\n}\n\n// 手机号验证码按钮禁用状态\nconst isPhoneCodeButtonDisabled = computed(() => {\n  const phoneRegex = /^1[3-9]\\d{9}$/\n  return phoneManager.state.loading || \n         phoneManager.state.countdown > 0 || \n         !phoneManager.state.value ||\n         !phoneRegex.test(phoneManager.state.value)\n})\n\n// 手机号表单验证\nconst isPhoneFormValid = computed(() => {\n  const phoneRegex = /^1[3-9]\\d{9}$/\n  const isValidPhone = phoneRegex.test(phoneManager.state.value)\n  const isValidCode = phoneManager.state.code?.length === 6\n\n  return phoneManager.state.value && \n         phoneManager.state.code && \n         isValidPhone && \n         isValidCode && \n         !phoneManager.state.loading\n})\n\n// 发送手机验证码\nconst handlePhoneSendCode = async () => {\n  const phoneRegex = /^1[3-9]\\d{9}$/\n  if (!phoneManager.state.value) {\n    showToast('请输入新手机号', 'warning')\n    return\n  }\n  \n  if (!phoneRegex.test(phoneManager.state.value)) {\n    showToast('请输入正确的手机号格式', 'warning')\n    return\n  }\n  \n  try {\n    phoneManager.state.loading = true\n    const response = await account.sendVerifyCode({\n      phone: phoneManager.state.value.trim(),\n      scene: 'change_phone'  // 指定场景为更换手机号\n    })\n    \n    if (response?.data?.code === 200) {\n      showToast(response.data.message || '验证码已发送', 'success')\n      phoneManager.state.countdown = 60\n      startPhoneCountdown()\n    }\n  } catch (error) {\n    const errorMsg = error.response?.data?.detail || \n                    error.response?.data?.message || \n                    error.message || \n                    '发送验证码失败'\n    showToast(errorMsg, 'error')\n  } finally {\n    phoneManager.state.loading = false\n  }\n}\n\n// 更新手机号\nconst handlePhoneUpdate = async () => {\n  const phoneRegex = /^1[3-9]\\d{9}$/\n  if (!phoneManager.state.value || !phoneRegex.test(phoneManager.state.value)) {\n    showToast('请输入正确的手机号', 'warning')\n    return\n  }\n  \n  if (!phoneManager.state.code || phoneManager.state.code.length !== 6) {\n    showToast('请输入6位验证码', 'warning')\n    return\n  }\n\n  try {\n    phoneManager.state.loading = true\n    const response = await account.changePhone({\n      phone: phoneManager.state.value.trim(),\n      code: phoneManager.state.code.trim()\n    })\n\n    if (response?.data?.code === 200 || response?.status === 200) {\n      showToast(response.data?.message || '手机号修改成功', 'success')\n      closePhoneModal()\n      await userStore.getUserInfo()\n    }\n  } catch (error) {\n    console.error('手机号更新失败:', error)\n    let errorMsg = '手机号更新失败'\n    \n    if (error.response?.data) {\n      const errorData = error.response.data\n      if (typeof errorData.detail === 'object') {\n        errorMsg = Object.values(errorData.detail)[0]\n      } else if (typeof errorData.detail === 'string') {\n        errorMsg = errorData.detail\n      } else if (errorData.message) {\n        errorMsg = errorData.message\n      }\n    }\n    \n    showToast(errorMsg, 'error')\n  } finally {\n    phoneManager.state.loading = false\n  }\n}\n\n// 倒计时管理\nlet phoneTimer = null\n\nconst startPhoneCountdown = () => {\n  if (phoneTimer) {\n    clearInterval(phoneTimer)\n  }\n  phoneManager.state.countdown = 60\n  phoneTimer = setInterval(() => {\n    if (phoneManager.state.countdown > 0) {\n      phoneManager.state.countdown--\n    } else {\n      clearInterval(phoneTimer)\n      phoneTimer = null\n    }\n  }, 1000)\n}\n\n// 在组件卸载时清理定时器\nonUnmounted(() => {\n  if (phoneTimer) {\n    clearInterval(phoneTimer)\n    phoneTimer = null\n  }\n})\n\n// 邮箱相关方法\nconst openEmailModal = () => {\n  emailManager.state.value = ''\n  emailManager.state.code = ''\n  emailManager.state.password = ''\n  showPassword.value = false\n  showEmailModal.value = true\n}\n\nconst closeEmailModal = () => {\n  showEmailModal.value = false\n  emailManager.state.value = ''\n  emailManager.state.code = ''\n  emailManager.state.password = ''\n  emailManager.state.loading = false\n  showPassword.value = false\n}\n\n// 邮箱验证码按钮禁用状态\nconst isEmailCodeButtonDisabled = computed(() => {\n  const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/\n  return emailManager.state.loading || \n         emailManager.state.countdown > 0 || \n         !emailManager.state.value ||\n         !emailRegex.test(emailManager.state.value) ||\n         !emailManager.state.password\n})\n\n// 邮箱表单验证\nconst isEmailFormValid = computed(() => {\n  const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/\n  const isValidEmail = emailRegex.test(emailManager.state.value)\n\n  return emailManager.state.value && \n         emailManager.state.code && \n         emailManager.state.password &&\n         isValidEmail && \n         emailManager.state.code.length === 6\n})\n\n// 发送邮箱验证码\nconst handleEmailSendCode = async () => {\n  if (!emailManager.state.value) {\n    showToast('请输入邮箱地址', 'warning')\n    return\n  }\n  \n  if (!emailManager.state.password) {\n    showToast('请输入登录密码', 'warning')\n    return\n  }\n  \n  const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/\n  if (!emailRegex.test(emailManager.state.value)) {\n    showToast('请输入正确的邮箱格式', 'warning')\n    return\n  }\n  \n  try {\n    emailManager.state.loading = true\n    const response = await account.sendEmailCode({\n      email: emailManager.state.value,\n      password: emailManager.state.password\n    })\n    \n    if (response?.data?.message) {\n      showToast(response.data.message, 'success')\n      emailManager.state.countdown = 60\n      startEmailCountdown()\n    }\n  } catch (error) {\n    const errorMsg = error.response?.data?.detail || \n                    error.message || \n                    '发送验证码失败'\n    showToast(errorMsg, 'error')\n  } finally {\n    emailManager.state.loading = false\n  }\n}\n\n// 处理邮箱更新\nconst handleEmailUpdate = async () => {\n  if (!isEmailFormValid.value) {\n    showToast('请填写完整信息', 'warning')\n    return\n  }\n\n  try {\n    emailManager.state.loading = true\n    const response = await account.bindEmail({\n      email: emailManager.state.value,\n      code: emailManager.state.code,\n      password: emailManager.state.password\n    })\n\n    if (response?.data?.message) {\n      showToast(response.data.message, 'success')\n      closeEmailModal()\n      await userStore.getUserInfo()\n    }\n  } catch (error) {\n    console.error('邮箱更新失败:', error)\n    const errorMsg = error.response?.data?.detail || \n                    error.message || \n                    '邮箱更新失败'\n    showToast(errorMsg, 'error')\n  } finally {\n    emailManager.state.loading = false\n  }\n}\n\n// 邮箱倒计时管理\nlet emailTimer = null\n\nconst startEmailCountdown = () => {\n  if (emailTimer) {\n    clearInterval(emailTimer)\n  }\n  emailManager.state.countdown = 60\n  emailTimer = setInterval(() => {\n    if (emailManager.state.countdown > 0) {\n      emailManager.state.countdown--\n    } else {\n      clearInterval(emailTimer)\n      emailTimer = null\n    }\n  }, 1000)\n}\n\n// 在组件卸载时清理定时器\nonUnmounted(() => {\n  if (emailTimer) {\n    clearInterval(emailTimer)\n  }\n  if (phoneTimer) {\n    clearInterval(phoneTimer)\n  }\n})\n\n// 注销账号相关状态\nconst deleteFormState = ref({\n  password: '',\n  loading: false\n})\n\n// 注销账号相关方法\nconst openDeleteConfirm = () => {\n  deleteFormState.value.password = ''\n  showDeleteConfirm.value = true\n}\n\nconst closeDeleteConfirm = () => {\n  showDeleteConfirm.value = false\n  deleteFormState.value.password = ''\n}\n\n// 处理确认注销\nconst handleConfirmDelete = async () => {\n  if (!deleteFormState.value.password) {\n    showToast('请输入密码', 'warning')\n    return\n  }\n  \n  try {\n    deleteFormState.value.loading = true\n    const response = await account.deleteAccount({\n      password: deleteFormState.value.password\n    })\n    \n    if (response?.data?.code === 200) {\n      showToast('账号已注销', 'success')\n      // 使用 auth store 的 logout 方法清除所有状态\n      await authStore.logout()\n      // 清除 user store 的状态\n      userStore.clearUserInfo()\n      // 清除其他可能的状态\n      localStorage.removeItem('isLoggedIn')\n      // 强制刷新页面以确保所有状态都被清除\n      window.location.href = '/login'\n    }\n  } catch (error) {\n    console.error('注销失败:', error)\n    const errorMsg = error.response?.data?.detail || \n                    error.response?.data?.message || \n                    error.message || \n                    '注销失败'\n    showToast(errorMsg, 'error')\n  } finally {\n    deleteFormState.value.loading = false\n  }\n}\n\n</script>\n\n<style scoped>\n.modal-overlay {\n  position: fixed;\n  inset: 0;\n  background-color: rgba(0, 0, 0, 0.3);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 50;\n}\n\n.modal-content {\n  position: relative;\n  width: 91.666667%;\n  max-width: 28rem;\n  background-color: white;\n  border-radius: 0.5rem;\n  box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);\n}\n\n.modal-header {\n  padding: 1rem 1.5rem;\n  background-color: #f9fafb;\n  border-bottom: 1px solid #e5e7eb;\n  border-top-left-radius: 0.5rem;\n  border-top-right-radius: 0.5rem;\n}\n\n.modal-header h3 {\n  margin: 0;\n  color: #111827;\n  font-size: 1.125rem;\n  font-weight: 500;\n}\n\n.modal-body {\n  padding: 1.5rem;\n}\n\n.modal-footer {\n  padding: 1rem 1.5rem;\n  background-color: #f9fafb;\n  border-top: 1px solid #e5e7eb;\n  border-bottom-left-radius: 0.5rem;\n  border-bottom-right-radius: 0.5rem;\n  display: flex;\n  justify-content: flex-end;\n  gap: 0.75rem;\n}\n\n.form-group {\n  margin-bottom: 1rem;\n}\n\n.form-group input {\n  width: 100%;\n  padding: 0.5rem 0.75rem;\n  border: 1px solid #d1d5db;\n  border-radius: 0.375rem;\n  font-size: 0.875rem;\n  line-height: 1.25rem;\n  color: #111827;\n  background-color: white;\n  transition: border-color 0.15s ease-in-out;\n}\n\n.form-group input:focus {\n  outline: none;\n  border-color: #6366f1;\n  box-shadow: 0 0 0 1px #6366f1;\n}\n\n.form-group input:disabled {\n  background-color: #f3f4f6;\n  cursor: not-allowed;\n}\n\n.code-input {\n  display: flex;\n  gap: 0.75rem;\n}\n\n.code-input input {\n  flex: 1;\n}\n\n.code-btn {\n  padding: 0.5rem 1rem;\n  font-size: 0.875rem;\n  font-weight: 500;\n  color: white;\n  background-color: #6366f1;\n  border-radius: 0.375rem;\n  transition: background-color 0.15s ease-in-out;\n}\n\n.code-btn:not(:disabled):hover {\n  background-color: #4f46e5;\n}\n\n.code-btn:disabled {\n  background-color: #9ca3af;\n  cursor: not-allowed;\n}\n\n.btn {\n  padding: 0.5rem 1rem;\n  font-size: 0.875rem;\n  font-weight: 500;\n  border-radius: 0.375rem;\n  transition: all 0.15s ease-in-out;\n}\n\n.btn-default {\n  color: #374151;\n  background-color: white;\n  border: 1px solid #d1d5db;\n}\n\n.btn-default:not(:disabled):hover {\n  background-color: #f9fafb;\n}\n\n.btn-primary {\n  color: white;\n  background-color: #6366f1;\n  border: 1px solid transparent;\n}\n\n.btn-primary:not(:disabled):hover {\n  background-color: #4f46e5;\n}\n\n.btn-danger {\n  color: white;\n  background-color: #ef4444;\n  border: 1px solid transparent;\n}\n\n.btn-danger:not(:disabled):hover {\n  background-color: #dc2626;\n}\n\n.btn:disabled {\n  opacity: 0.5;\n  cursor: not-allowed;\n}\n\n/* 关闭按钮样式 */\n.close-btn {\n  position: absolute;\n  top: 1rem;\n  right: 1rem;\n  padding: 0.25rem;\n  color: #6b7280;\n  background: transparent;\n  border: none;\n  cursor: pointer;\n  transition: color 0.15s ease-in-out;\n}\n\n.close-btn:hover {\n  color: #374151;\n}\n\n/* 注销弹窗特殊样式 */\n.bg-red-50 {\n  background-color: #fef2f2;\n}\n\n.border-red-100 {\n  border-color: #fee2e2;\n}\n\n.text-red-400 {\n  color: #f87171;\n}\n\n.text-red-600 {\n  color: #dc2626;\n}\n\n.text-red-700 {\n  color: #b91c1c;\n}\n\n.text-red-800 {\n  color: #991b1b;\n}\n\n/* 注销弹窗的输入框特殊样式 */\n.form-group input.border-red-300 {\n  border-color: #fca5a5;\n}\n\n.form-group input.focus\\:border-red-500:focus {\n  border-color: #ef4444;\n}\n\n.form-group input.focus\\:ring-red-500:focus {\n  box-shadow: 0 0 0 1px #ef4444;\n}\n\n.input-tips {\n  background-color: #f9fafb;\n  border-radius: 0.5rem;\n  padding: 0.75rem;\n  border: 1px solid #e5e7eb;\n}\n\n.input-tips ul li {\n  color: #6b7280;\n  font-size: 0.875rem;\n  line-height: 1.25rem;\n}\n\n.input-tips ul li span:first-child {\n  min-width: 1rem;\n  background-color: white;\n}\n\n.form-group input.error {\n  border-color: #ef4444;\n}\n\n.form-group input.error:focus {\n  border-color: #ef4444;\n  box-shadow: 0 0 0 1px #ef4444;\n}\n\n/* 添加密码强度指示器样式 */\n.password-strength {\n  margin-top: 0.5rem;\n}\n\n.strength-text {\n  font-size: 0.875rem;\n  margin-bottom: 0.25rem;\n}\n\n.strength-bar {\n  height: 4px;\n  background-color: #e5e7eb;\n  border-radius: 2px;\n  overflow: hidden;\n}\n\n.strength-progress {\n  height: 100%;\n  transition: width 0.3s ease;\n}\n</style>"],"mappings":";AA+oBA,SAASA,GAAG,EAAEC,QAAQ,EAAEC,SAAS,EAAEC,WAAW,EAAEC,KAAK,QAAQ,KAAI;AACjE,SAASC,SAAS,QAAQ,YAAW;AACrC,SAASC,SAAS,QAAQ,2BAA0B;AACpD,SAASC,gBAAgB,QAAQ,gCAA+B;AAChE,SAASC,QAAQ,QAAQ,wBAAuB;AAChD,SAASC,QAAQ,QAAQ,wBAAuB;AAChD,SAASC,iBAAiB,QAAQ,iCAAgC;AAClE,SAASC,OAAO,QAAQ,eAAc;AACtC,SAASC,YAAY,QAAQ,eAAc;AAC3C,SAASC,YAAY,QAAQ,eAAc;AAC3C,SAASC,eAAe,QAAQ,kBAAiB;;;;;;;IAEjD,MAAMC,MAAM,GAAGV,SAAS,CAAC;IACzB,MAAMW,SAAS,GAAGJ,YAAY,CAAC;IAC/B,MAAMK,SAAS,GAAGJ,YAAY,CAAC;IAC/B,MAAMK,YAAY,GAAGJ,eAAe,CAAC;;IAErC;IACA,MAAMK,SAAS,GAAIC,KAAK,IAAK;MAC3B,IAAI,CAACA,KAAK,EAAE,OAAO,KAAI;MACvB,OAAOA,KAAK,CAACC,OAAO,CAAC,qBAAqB,EAAE,UAAU;IACxD;;IAEA;IACA,MAAMD,KAAK,GAAGnB,QAAQ,CAAC,MAAMiB,YAAY,CAACI,QAAQ,EAAEF,KAAK;IACzD,MAAMG,KAAK,GAAGtB,QAAQ,CAAC,MAAMiB,YAAY,CAACI,QAAQ,EAAEC,KAAK;;IAEzD;IACA,MAAMC,cAAc,GAAGxB,GAAG,CAAC,KAAK;IAChC,MAAMyB,oBAAoB,GAAGzB,GAAG,CAAC,KAAK;IACtC,MAAM0B,cAAc,GAAG1B,GAAG,CAAC,KAAK;IAChC,MAAM2B,iBAAiB,GAAG3B,GAAG,CAAC,KAAK;IACnC,MAAM4B,iBAAiB,GAAG5B,GAAG,CAAC,KAAK;IACnC,MAAM6B,YAAY,GAAG7B,GAAG,CAAC,KAAK;;IAE9B;IACA,MAAM8B,iBAAiB,GAAG9B,GAAG,CAAC;MAC5B+B,WAAW,EAAE,EAAE;MACfC,WAAW,EAAE,EAAE;MACfC,eAAe,EAAE,EAAE;MACnBC,OAAO,EAAE,KAAK;MACdC,QAAQ,EAAE;IACZ,CAAC;;IAED;IACA,MAAMC,kBAAkB,GAAGpC,GAAG,CAAC,KAAK;IACpC,MAAMqC,eAAe,GAAGrC,GAAG,CAAC;MAC1BsC,QAAQ,EAAE;IACZ,CAAC;;IAED;IACA,MAAMC,qBAAqB,GAAGA,CAAA,KAAM;MAClCd,oBAAoB,CAACe,KAAK,GAAG,KAAI;MACjCH,eAAe,CAACG,KAAK,CAACF,QAAQ,GAAG,EAAC;IACpC;IAEA,MAAMG,iBAAiB,GAAGA,CAAA,KAAM;MAC9BhB,oBAAoB,CAACe,KAAK,GAAG,IAAG;IAClC;IAEA,MAAME,kBAAkB,GAAG,MAAAA,CAAA,KAAY;MACrC,IAAI;QACFN,kBAAkB,CAACI,KAAK,GAAG,IAAG;QAC9B,MAAMG,QAAQ,GAAG,MAAMhC,OAAO,CAACiC,WAAW,CAAC;UACzCN,QAAQ,EAAED,eAAe,CAACG,KAAK,CAACF;QAClC,CAAC;QAED,IAAIK,QAAQ,EAAEE,IAAI,EAAEC,OAAO,EAAE;UAC3BP,qBAAqB,CAAC;UACtB,MAAMtB,SAAS,CAAC8B,WAAW,CAAC;UAC5BzC,SAAS,CAACqC,QAAQ,CAACE,IAAI,CAACC,OAAO,IAAI,QAAQ,EAAE,SAAS;QACxD;MACF,CAAC,CAAC,OAAOE,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,SAAS,EAAEA,KAAK;QAC9B,MAAME,QAAQ,GAAGF,KAAK,CAACL,QAAQ,EAAEE,IAAI,EAAEM,MAAM,IAC7BH,KAAK,CAACL,QAAQ,EAAEE,IAAI,EAAEC,OAAO,IAC7BE,KAAK,CAACF,OAAO,IACb,QAAO;QACvBxC,SAAS,CAAC4C,QAAQ,EAAE,OAAO;MAC7B,CAAC,SAAS;QACRd,kBAAkB,CAACI,KAAK,GAAG,KAAI;MACjC;IACF;;IAEA;IACA,MAAMY,eAAe,GAAGpD,GAAG,CAAC,KAAK;IACjC,MAAMqD,eAAe,GAAGrD,GAAG,CAAC,KAAK;IACjC,MAAMsD,mBAAmB,GAAGtD,GAAG,CAAC,KAAK;;IAErC;IACA,MAAMuD,iBAAiB,GAAGA,CAAA,KAAM;MAC9B;MACAzB,iBAAiB,CAACU,KAAK,GAAG;QACxBT,WAAW,EAAE,EAAE;QACfC,WAAW,EAAE,EAAE;QACfC,eAAe,EAAE,EAAE;QACnBC,OAAO,EAAE,KAAK;QACdC,QAAQ,EAAE;MACZ;MACA;MACAiB,eAAe,CAACZ,KAAK,GAAG,KAAI;MAC5Ba,eAAe,CAACb,KAAK,GAAG,KAAI;MAC5Bc,mBAAmB,CAACd,KAAK,GAAG,KAAI;MAChCb,iBAAiB,CAACa,KAAK,GAAG,IAAG;MAC7BS,OAAO,CAACO,GAAG,CAAC,wBAAwB,EAAE7B,iBAAiB,CAACa,KAAK;IAC/D;;IAEA;IACA,MAAMiB,kBAAkB,GAAGA,CAAA,KAAM;MAC/B9B,iBAAiB,CAACa,KAAK,GAAG,KAAI;MAC9B;MACAV,iBAAiB,CAACU,KAAK,GAAG;QACxBT,WAAW,EAAE,EAAE;QACfC,WAAW,EAAE,EAAE;QACfC,eAAe,EAAE,EAAE;QACnBC,OAAO,EAAE,KAAK;QACdC,QAAQ,EAAE;MACZ;MACA;MACAiB,eAAe,CAACZ,KAAK,GAAG,KAAI;MAC5Ba,eAAe,CAACb,KAAK,GAAG,KAAI;MAC5Bc,mBAAmB,CAACd,KAAK,GAAG,KAAI;IAClC;;IAEA;IACA,MAAMkB,YAAY,GAAGjD,QAAQ,CAAC;IAC9B,MAAMkD,YAAY,GAAGnD,QAAQ,CAAC;IAC9B,MAAM;MAAEoD;IAAiB,CAAC,GAAGlD,iBAAiB,CAAC;IAC/C,MAAM;MAAEwB;IAAQ,CAAC,GAAG3B,gBAAgB,CAAC;;IAErC;IACA,MAAMsD,mBAAmB,GAAGA,CAAA,KAAM;MAChC,MAAM1B,QAAQ,GAAGyB,gBAAgB,CAAC9B,iBAAiB,CAACU,KAAK,CAACR,WAAW;MACrEiB,OAAO,CAACO,GAAG,CAAC,4BAA4B,EAAErB,QAAQ;MAClDL,iBAAiB,CAACU,KAAK,CAACL,QAAQ,GAAGA,QAAO;IAC5C;;IAEA;IACA,MAAM2B,mBAAmB,GAAG7D,QAAQ,CAAC,MAAM;MACzC;MACAgD,OAAO,CAACO,GAAG,CAAC,sBAAsB,EAAE;QAClCzB,WAAW,EAAE,CAAC,CAACD,iBAAiB,CAACU,KAAK,CAACT,WAAW;QAClDC,WAAW,EAAE,CAAC,CAACF,iBAAiB,CAACU,KAAK,CAACR,WAAW;QAClDC,eAAe,EAAE,CAAC,CAACH,iBAAiB,CAACU,KAAK,CAACP,eAAe;QAC1D8B,cAAc,EAAEjC,iBAAiB,CAACU,KAAK,CAACR,WAAW,KAAKF,iBAAiB,CAACU,KAAK,CAACP,eAAe;QAC/FE,QAAQ,EAAEL,iBAAiB,CAACU,KAAK,CAACL,QAAQ;QAC1CD,OAAO,EAAEJ,iBAAiB,CAACU,KAAK,CAACN;MACnC,CAAC;MAED,OAAOJ,iBAAiB,CAACU,KAAK,CAACT,WAAW,IACnCD,iBAAiB,CAACU,KAAK,CAACR,WAAW,IACnCF,iBAAiB,CAACU,KAAK,CAACP,eAAe,IACvCH,iBAAiB,CAACU,KAAK,CAACR,WAAW,KAAKF,iBAAiB,CAACU,KAAK,CAACP,eAAe,IAC/EH,iBAAiB,CAACU,KAAK,CAACL,QAAQ,IAAI,CAAC,IACrC,CAACL,iBAAiB,CAACU,KAAK,CAACN,OAAM;IACxC,CAAC;;IAED;IACA,MAAM8B,oBAAoB,GAAG,MAAAA,CAAA,KAAY;MACvC,IAAI;QACFlC,iBAAiB,CAACU,KAAK,CAACN,OAAO,GAAG,IAAG;QACrC,MAAMS,QAAQ,GAAG,MAAMhC,OAAO,CAACsD,cAAc,CAAC;UAC5ClC,WAAW,EAAED,iBAAiB,CAACU,KAAK,CAACT,WAAW;UAChDC,WAAW,EAAEF,iBAAiB,CAACU,KAAK,CAACR,WAAW;UAChDC,eAAe,EAAEH,iBAAiB,CAACU,KAAK,CAACP;QAC3C,CAAC;QAED,IAAIU,QAAQ,EAAEE,IAAI,EAAEC,OAAO,EAAE;UAC3BW,kBAAkB,CAAC;UACnBnD,SAAS,CAACqC,QAAQ,CAACE,IAAI,CAACC,OAAO,IAAI,QAAQ,EAAE,SAAS;QACxD;MACF,CAAC,CAAC,OAAOE,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,SAAS,EAAEA,KAAK;QAC9BC,OAAO,CAACO,GAAG,CAAC,iBAAiB,EAAER,KAAK,CAACL,QAAQ;QAC7CM,OAAO,CAACO,GAAG,CAAC,YAAY,EAAE1B,iBAAiB,CAACU,KAAK;QAEjD,MAAMU,QAAQ,GAAGF,KAAK,CAACL,QAAQ,EAAEE,IAAI,EAAEM,MAAM,IAC7BH,KAAK,CAACL,QAAQ,EAAEE,IAAI,EAAEC,OAAO,IAC7BE,KAAK,CAACF,OAAO,IACb,QAAO;QACvBxC,SAAS,CAAC4C,QAAQ,EAAE,OAAO;MAC7B,CAAC,SAAS;QACRpB,iBAAiB,CAACU,KAAK,CAACN,OAAO,GAAG,KAAI;MACxC;IACF;;IAEA;IACA,MAAMgC,YAAY,GAAGjE,QAAQ,CAAC,MAAM;MAClC,MAAMkC,QAAQ,GAAGL,iBAAiB,CAACU,KAAK,CAACL,QAAO;MAChD,IAAIA,QAAQ,IAAI,CAAC,EAAE,OAAO,GAAE;MAC5B,IAAIA,QAAQ,IAAI,CAAC,EAAE,OAAO,GAAE;MAC5B,OAAO,GAAE;IACX,CAAC;IAED,MAAMgC,iBAAiB,GAAGlE,QAAQ,CAAC,MAAM;MACvC,MAAMkC,QAAQ,GAAGL,iBAAiB,CAACU,KAAK,CAACL,QAAO;MAChD,IAAIA,QAAQ,IAAI,CAAC,EAAE,OAAO,cAAa;MACvC,IAAIA,QAAQ,IAAI,CAAC,EAAE,OAAO,iBAAgB;MAC1C,OAAO,gBAAe;IACxB,CAAC;IAED,MAAMiC,kBAAkB,GAAGnE,QAAQ,CAAC,MAAM;MACxC,MAAMkC,QAAQ,GAAGL,iBAAiB,CAACU,KAAK,CAACL,QAAO;MAChD,IAAIA,QAAQ,IAAI,CAAC,EAAE,OAAO,YAAW;MACrC,IAAIA,QAAQ,IAAI,CAAC,EAAE,OAAO,eAAc;MACxC,OAAO,cAAa;IACtB,CAAC;;IAED;IACAjC,SAAS,CAAC,MAAM;MACdE,KAAK,CAACuB,iBAAiB,EAAG0C,MAAM,IAAK;QACnCpB,OAAO,CAACO,GAAG,CAAC,+BAA+B,EAAEa,MAAM;MACrD,CAAC;IACH,CAAC;;IAED;IACA,MAAM/C,QAAQ,GAAGtB,GAAG,CAAC,IAAI;;IAEzB;IACA,MAAMsE,eAAe,GAAGtE,GAAG,CAAC,KAAK;;IAEjC;IACA,MAAMuE,aAAa,GAAG,MAAAA,CAAA,KAAY;MAChC,IAAI;QACFD,eAAe,CAAC9B,KAAK,GAAG,IAAG;QAC3B,MAAMtB,YAAY,CAACqD,aAAa,CAAC;MACnC,CAAC,CAAC,OAAOvB,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,WAAW,EAAEA,KAAK;QAChC1C,SAAS,CAAC,UAAU,EAAE,OAAO;MAC/B,CAAC,SAAS;QACRgE,eAAe,CAAC9B,KAAK,GAAG,KAAI;MAC9B;IACF;;IAEA;IACAtC,SAAS,CAAC,MAAM;MACdqE,aAAa,CAAC;MACdnE,KAAK,CAACuB,iBAAiB,EAAG0C,MAAM,IAAK;QACnCpB,OAAO,CAACO,GAAG,CAAC,+BAA+B,EAAEa,MAAM;MACrD,CAAC;IACH,CAAC;;IAED;IACAjE,KAAK,CACH,CAAC,MAAMc,YAAY,CAACI,QAAQ,EAAE,MAAMN,SAAS,CAACwD,UAAU,CAAC,EACzD,CAAC,CAACC,WAAW,EAAED,UAAU,CAAC,KAAK;MAC7B,IAAIC,WAAW,IAAID,UAAU,EAAE;QAC7BlD,QAAQ,CAACkB,KAAK,GAAAkC,aAAA,KACTD,WAAU,CACf;MACF,CAAC,MAAM;QACLnD,QAAQ,CAACkB,KAAK,GAAG,IAAG;MACtB;IACF,CAAC,EACD;MAAEmC,SAAS,EAAE,IAAI;MAAEC,IAAI,EAAE;IAAK,CAChC;;IAEA;IACA,MAAMC,cAAc,GAAGA,CAAA,KAAM;MAC3BlB,YAAY,CAACmB,KAAK,CAACtC,KAAK,GAAG,EAAC;MAC5BmB,YAAY,CAACmB,KAAK,CAACC,IAAI,GAAG,EAAC;MAC3BpB,YAAY,CAACmB,KAAK,CAAC5C,OAAO,GAAG,KAAI;MACjCyB,YAAY,CAACmB,KAAK,CAACE,SAAS,GAAG;MAC/BtD,cAAc,CAACc,KAAK,GAAG,IAAG;MAC1BS,OAAO,CAACO,GAAG,CAAC,qBAAqB,EAAE9B,cAAc,CAACc,KAAK,CAAC,EAAC;IAC3D;IAEA,MAAMyC,eAAe,GAAGA,CAAA,KAAM;MAC5BvD,cAAc,CAACc,KAAK,GAAG,KAAI;MAC3BmB,YAAY,CAACmB,KAAK,CAACtC,KAAK,GAAG,EAAC;MAC5BmB,YAAY,CAACmB,KAAK,CAACC,IAAI,GAAG,EAAC;MAC3BpB,YAAY,CAACmB,KAAK,CAAC5C,OAAO,GAAG,KAAI;MACjCyB,YAAY,CAACmB,KAAK,CAACE,SAAS,GAAG;IACjC;;IAEA;IACA,MAAME,yBAAyB,GAAGjF,QAAQ,CAAC,MAAM;MAC/C,MAAMkF,UAAU,GAAG,eAAc;MACjC,OAAOxB,YAAY,CAACmB,KAAK,CAAC5C,OAAO,IAC1ByB,YAAY,CAACmB,KAAK,CAACE,SAAS,GAAG,CAAC,IAChC,CAACrB,YAAY,CAACmB,KAAK,CAACtC,KAAK,IACzB,CAAC2C,UAAU,CAACC,IAAI,CAACzB,YAAY,CAACmB,KAAK,CAACtC,KAAK;IAClD,CAAC;;IAED;IACA,MAAM6C,gBAAgB,GAAGpF,QAAQ,CAAC,MAAM;MACtC,MAAMkF,UAAU,GAAG,eAAc;MACjC,MAAMG,YAAY,GAAGH,UAAU,CAACC,IAAI,CAACzB,YAAY,CAACmB,KAAK,CAACtC,KAAK;MAC7D,MAAM+C,WAAW,GAAG5B,YAAY,CAACmB,KAAK,CAACC,IAAI,EAAES,MAAM,KAAK;MAExD,OAAO7B,YAAY,CAACmB,KAAK,CAACtC,KAAK,IACxBmB,YAAY,CAACmB,KAAK,CAACC,IAAI,IACvBO,YAAY,IACZC,WAAW,IACX,CAAC5B,YAAY,CAACmB,KAAK,CAAC5C,OAAM;IACnC,CAAC;;IAED;IACA,MAAMuD,mBAAmB,GAAG,MAAAA,CAAA,KAAY;MACtC,MAAMN,UAAU,GAAG,eAAc;MACjC,IAAI,CAACxB,YAAY,CAACmB,KAAK,CAACtC,KAAK,EAAE;QAC7BlC,SAAS,CAAC,SAAS,EAAE,SAAS;QAC9B;MACF;MAEA,IAAI,CAAC6E,UAAU,CAACC,IAAI,CAACzB,YAAY,CAACmB,KAAK,CAACtC,KAAK,CAAC,EAAE;QAC9ClC,SAAS,CAAC,aAAa,EAAE,SAAS;QAClC;MACF;MAEA,IAAI;QACFqD,YAAY,CAACmB,KAAK,CAAC5C,OAAO,GAAG,IAAG;QAChC,MAAMS,QAAQ,GAAG,MAAMhC,OAAO,CAAC+E,cAAc,CAAC;UAC5CtE,KAAK,EAAEuC,YAAY,CAACmB,KAAK,CAACtC,KAAK,CAACmD,IAAI,CAAC,CAAC;UACtCC,KAAK,EAAE,cAAc,CAAE;QACzB,CAAC;QAED,IAAIjD,QAAQ,EAAEE,IAAI,EAAEkC,IAAI,KAAK,GAAG,EAAE;UAChCzE,SAAS,CAACqC,QAAQ,CAACE,IAAI,CAACC,OAAO,IAAI,QAAQ,EAAE,SAAS;UACtDa,YAAY,CAACmB,KAAK,CAACE,SAAS,GAAG,EAAC;UAChCa,mBAAmB,CAAC;QACtB;MACF,CAAC,CAAC,OAAO7C,KAAK,EAAE;QACd,MAAME,QAAQ,GAAGF,KAAK,CAACL,QAAQ,EAAEE,IAAI,EAAEM,MAAM,IAC7BH,KAAK,CAACL,QAAQ,EAAEE,IAAI,EAAEC,OAAO,IAC7BE,KAAK,CAACF,OAAO,IACb,SAAQ;QACxBxC,SAAS,CAAC4C,QAAQ,EAAE,OAAO;MAC7B,CAAC,SAAS;QACRS,YAAY,CAACmB,KAAK,CAAC5C,OAAO,GAAG,KAAI;MACnC;IACF;;IAEA;IACA,MAAM4D,iBAAiB,GAAG,MAAAA,CAAA,KAAY;MACpC,MAAMX,UAAU,GAAG,eAAc;MACjC,IAAI,CAACxB,YAAY,CAACmB,KAAK,CAACtC,KAAK,IAAI,CAAC2C,UAAU,CAACC,IAAI,CAACzB,YAAY,CAACmB,KAAK,CAACtC,KAAK,CAAC,EAAE;QAC3ElC,SAAS,CAAC,WAAW,EAAE,SAAS;QAChC;MACF;MAEA,IAAI,CAACqD,YAAY,CAACmB,KAAK,CAACC,IAAI,IAAIpB,YAAY,CAACmB,KAAK,CAACC,IAAI,CAACS,MAAM,KAAK,CAAC,EAAE;QACpElF,SAAS,CAAC,UAAU,EAAE,SAAS;QAC/B;MACF;MAEA,IAAI;QACFqD,YAAY,CAACmB,KAAK,CAAC5C,OAAO,GAAG,IAAG;QAChC,MAAMS,QAAQ,GAAG,MAAMhC,OAAO,CAACoF,WAAW,CAAC;UACzC3E,KAAK,EAAEuC,YAAY,CAACmB,KAAK,CAACtC,KAAK,CAACmD,IAAI,CAAC,CAAC;UACtCZ,IAAI,EAAEpB,YAAY,CAACmB,KAAK,CAACC,IAAI,CAACY,IAAI,CAAC;QACrC,CAAC;QAED,IAAIhD,QAAQ,EAAEE,IAAI,EAAEkC,IAAI,KAAK,GAAG,IAAIpC,QAAQ,EAAEqD,MAAM,KAAK,GAAG,EAAE;UAC5D1F,SAAS,CAACqC,QAAQ,CAACE,IAAI,EAAEC,OAAO,IAAI,SAAS,EAAE,SAAS;UACxDmC,eAAe,CAAC;UAChB,MAAMhE,SAAS,CAAC8B,WAAW,CAAC;QAC9B;MACF,CAAC,CAAC,OAAOC,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,UAAU,EAAEA,KAAK;QAC/B,IAAIE,QAAQ,GAAG,SAAQ;QAEvB,IAAIF,KAAK,CAACL,QAAQ,EAAEE,IAAI,EAAE;UACxB,MAAMoD,SAAS,GAAGjD,KAAK,CAACL,QAAQ,CAACE,IAAG;UACpC,IAAI,OAAOoD,SAAS,CAAC9C,MAAM,KAAK,QAAQ,EAAE;YACxCD,QAAQ,GAAGgD,MAAM,CAACC,MAAM,CAACF,SAAS,CAAC9C,MAAM,CAAC,CAAC,CAAC;UAC9C,CAAC,MAAM,IAAI,OAAO8C,SAAS,CAAC9C,MAAM,KAAK,QAAQ,EAAE;YAC/CD,QAAQ,GAAG+C,SAAS,CAAC9C,MAAK;UAC5B,CAAC,MAAM,IAAI8C,SAAS,CAACnD,OAAO,EAAE;YAC5BI,QAAQ,GAAG+C,SAAS,CAACnD,OAAM;UAC7B;QACF;QAEAxC,SAAS,CAAC4C,QAAQ,EAAE,OAAO;MAC7B,CAAC,SAAS;QACRS,YAAY,CAACmB,KAAK,CAAC5C,OAAO,GAAG,KAAI;MACnC;IACF;;IAEA;IACA,IAAIkE,UAAU,GAAG,IAAG;IAEpB,MAAMP,mBAAmB,GAAGA,CAAA,KAAM;MAChC,IAAIO,UAAU,EAAE;QACdC,aAAa,CAACD,UAAU;MAC1B;MACAzC,YAAY,CAACmB,KAAK,CAACE,SAAS,GAAG,EAAC;MAChCoB,UAAU,GAAGE,WAAW,CAAC,MAAM;QAC7B,IAAI3C,YAAY,CAACmB,KAAK,CAACE,SAAS,GAAG,CAAC,EAAE;UACpCrB,YAAY,CAACmB,KAAK,CAACE,SAAS,EAAC;QAC/B,CAAC,MAAM;UACLqB,aAAa,CAACD,UAAU;UACxBA,UAAU,GAAG,IAAG;QAClB;MACF,CAAC,EAAE,IAAI;IACT;;IAEA;IACAjG,WAAW,CAAC,MAAM;MAChB,IAAIiG,UAAU,EAAE;QACdC,aAAa,CAACD,UAAU;QACxBA,UAAU,GAAG,IAAG;MAClB;IACF,CAAC;;IAED;IACA,MAAMG,cAAc,GAAGA,CAAA,KAAM;MAC3B7C,YAAY,CAACoB,KAAK,CAACtC,KAAK,GAAG,EAAC;MAC5BkB,YAAY,CAACoB,KAAK,CAACC,IAAI,GAAG,EAAC;MAC3BrB,YAAY,CAACoB,KAAK,CAACxC,QAAQ,GAAG,EAAC;MAC/BT,YAAY,CAACW,KAAK,GAAG,KAAI;MACzBhB,cAAc,CAACgB,KAAK,GAAG,IAAG;IAC5B;IAEA,MAAMgE,eAAe,GAAGA,CAAA,KAAM;MAC5BhF,cAAc,CAACgB,KAAK,GAAG,KAAI;MAC3BkB,YAAY,CAACoB,KAAK,CAACtC,KAAK,GAAG,EAAC;MAC5BkB,YAAY,CAACoB,KAAK,CAACC,IAAI,GAAG,EAAC;MAC3BrB,YAAY,CAACoB,KAAK,CAACxC,QAAQ,GAAG,EAAC;MAC/BoB,YAAY,CAACoB,KAAK,CAAC5C,OAAO,GAAG,KAAI;MACjCL,YAAY,CAACW,KAAK,GAAG,KAAI;IAC3B;;IAEA;IACA,MAAMiE,yBAAyB,GAAGxG,QAAQ,CAAC,MAAM;MAC/C,MAAMyG,UAAU,GAAG,4BAA2B;MAC9C,OAAOhD,YAAY,CAACoB,KAAK,CAAC5C,OAAO,IAC1BwB,YAAY,CAACoB,KAAK,CAACE,SAAS,GAAG,CAAC,IAChC,CAACtB,YAAY,CAACoB,KAAK,CAACtC,KAAK,IACzB,CAACkE,UAAU,CAACtB,IAAI,CAAC1B,YAAY,CAACoB,KAAK,CAACtC,KAAK,CAAC,IAC1C,CAACkB,YAAY,CAACoB,KAAK,CAACxC,QAAO;IACpC,CAAC;;IAED;IACA,MAAMqE,gBAAgB,GAAG1G,QAAQ,CAAC,MAAM;MACtC,MAAMyG,UAAU,GAAG,4BAA2B;MAC9C,MAAME,YAAY,GAAGF,UAAU,CAACtB,IAAI,CAAC1B,YAAY,CAACoB,KAAK,CAACtC,KAAK;MAE7D,OAAOkB,YAAY,CAACoB,KAAK,CAACtC,KAAK,IACxBkB,YAAY,CAACoB,KAAK,CAACC,IAAI,IACvBrB,YAAY,CAACoB,KAAK,CAACxC,QAAQ,IAC3BsE,YAAY,IACZlD,YAAY,CAACoB,KAAK,CAACC,IAAI,CAACS,MAAM,KAAK;IAC5C,CAAC;;IAED;IACA,MAAMqB,mBAAmB,GAAG,MAAAA,CAAA,KAAY;MACtC,IAAI,CAACnD,YAAY,CAACoB,KAAK,CAACtC,KAAK,EAAE;QAC7BlC,SAAS,CAAC,SAAS,EAAE,SAAS;QAC9B;MACF;MAEA,IAAI,CAACoD,YAAY,CAACoB,KAAK,CAACxC,QAAQ,EAAE;QAChChC,SAAS,CAAC,SAAS,EAAE,SAAS;QAC9B;MACF;MAEA,MAAMoG,UAAU,GAAG,4BAA2B;MAC9C,IAAI,CAACA,UAAU,CAACtB,IAAI,CAAC1B,YAAY,CAACoB,KAAK,CAACtC,KAAK,CAAC,EAAE;QAC9ClC,SAAS,CAAC,YAAY,EAAE,SAAS;QACjC;MACF;MAEA,IAAI;QACFoD,YAAY,CAACoB,KAAK,CAAC5C,OAAO,GAAG,IAAG;QAChC,MAAMS,QAAQ,GAAG,MAAMhC,OAAO,CAACmG,aAAa,CAAC;UAC3CvF,KAAK,EAAEmC,YAAY,CAACoB,KAAK,CAACtC,KAAK;UAC/BF,QAAQ,EAAEoB,YAAY,CAACoB,KAAK,CAACxC;QAC/B,CAAC;QAED,IAAIK,QAAQ,EAAEE,IAAI,EAAEC,OAAO,EAAE;UAC3BxC,SAAS,CAACqC,QAAQ,CAACE,IAAI,CAACC,OAAO,EAAE,SAAS;UAC1CY,YAAY,CAACoB,KAAK,CAACE,SAAS,GAAG,EAAC;UAChC+B,mBAAmB,CAAC;QACtB;MACF,CAAC,CAAC,OAAO/D,KAAK,EAAE;QACd,MAAME,QAAQ,GAAGF,KAAK,CAACL,QAAQ,EAAEE,IAAI,EAAEM,MAAM,IAC7BH,KAAK,CAACF,OAAO,IACb,SAAQ;QACxBxC,SAAS,CAAC4C,QAAQ,EAAE,OAAO;MAC7B,CAAC,SAAS;QACRQ,YAAY,CAACoB,KAAK,CAAC5C,OAAO,GAAG,KAAI;MACnC;IACF;;IAEA;IACA,MAAM8E,iBAAiB,GAAG,MAAAA,CAAA,KAAY;MACpC,IAAI,CAACL,gBAAgB,CAACnE,KAAK,EAAE;QAC3BlC,SAAS,CAAC,SAAS,EAAE,SAAS;QAC9B;MACF;MAEA,IAAI;QACFoD,YAAY,CAACoB,KAAK,CAAC5C,OAAO,GAAG,IAAG;QAChC,MAAMS,QAAQ,GAAG,MAAMhC,OAAO,CAACsG,SAAS,CAAC;UACvC1F,KAAK,EAAEmC,YAAY,CAACoB,KAAK,CAACtC,KAAK;UAC/BuC,IAAI,EAAErB,YAAY,CAACoB,KAAK,CAACC,IAAI;UAC7BzC,QAAQ,EAAEoB,YAAY,CAACoB,KAAK,CAACxC;QAC/B,CAAC;QAED,IAAIK,QAAQ,EAAEE,IAAI,EAAEC,OAAO,EAAE;UAC3BxC,SAAS,CAACqC,QAAQ,CAACE,IAAI,CAACC,OAAO,EAAE,SAAS;UAC1C0D,eAAe,CAAC;UAChB,MAAMvF,SAAS,CAAC8B,WAAW,CAAC;QAC9B;MACF,CAAC,CAAC,OAAOC,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,SAAS,EAAEA,KAAK;QAC9B,MAAME,QAAQ,GAAGF,KAAK,CAACL,QAAQ,EAAEE,IAAI,EAAEM,MAAM,IAC7BH,KAAK,CAACF,OAAO,IACb,QAAO;QACvBxC,SAAS,CAAC4C,QAAQ,EAAE,OAAO;MAC7B,CAAC,SAAS;QACRQ,YAAY,CAACoB,KAAK,CAAC5C,OAAO,GAAG,KAAI;MACnC;IACF;;IAEA;IACA,IAAIgF,UAAU,GAAG,IAAG;IAEpB,MAAMH,mBAAmB,GAAGA,CAAA,KAAM;MAChC,IAAIG,UAAU,EAAE;QACdb,aAAa,CAACa,UAAU;MAC1B;MACAxD,YAAY,CAACoB,KAAK,CAACE,SAAS,GAAG,EAAC;MAChCkC,UAAU,GAAGZ,WAAW,CAAC,MAAM;QAC7B,IAAI5C,YAAY,CAACoB,KAAK,CAACE,SAAS,GAAG,CAAC,EAAE;UACpCtB,YAAY,CAACoB,KAAK,CAACE,SAAS,EAAC;QAC/B,CAAC,MAAM;UACLqB,aAAa,CAACa,UAAU;UACxBA,UAAU,GAAG,IAAG;QAClB;MACF,CAAC,EAAE,IAAI;IACT;;IAEA;IACA/G,WAAW,CAAC,MAAM;MAChB,IAAI+G,UAAU,EAAE;QACdb,aAAa,CAACa,UAAU;MAC1B;MACA,IAAId,UAAU,EAAE;QACdC,aAAa,CAACD,UAAU;MAC1B;IACF,CAAC;;IAED;IACA,MAAMe,eAAe,GAAGnH,GAAG,CAAC;MAC1BsC,QAAQ,EAAE,EAAE;MACZJ,OAAO,EAAE;IACX,CAAC;;IAED;IACA,MAAMkF,iBAAiB,GAAGA,CAAA,KAAM;MAC9BD,eAAe,CAAC3E,KAAK,CAACF,QAAQ,GAAG,EAAC;MAClCV,iBAAiB,CAACY,KAAK,GAAG,IAAG;IAC/B;IAEA,MAAM6E,kBAAkB,GAAGA,CAAA,KAAM;MAC/BzF,iBAAiB,CAACY,KAAK,GAAG,KAAI;MAC9B2E,eAAe,CAAC3E,KAAK,CAACF,QAAQ,GAAG,EAAC;IACpC;;IAEA;IACA,MAAMgF,mBAAmB,GAAG,MAAAA,CAAA,KAAY;MACtC,IAAI,CAACH,eAAe,CAAC3E,KAAK,CAACF,QAAQ,EAAE;QACnChC,SAAS,CAAC,OAAO,EAAE,SAAS;QAC5B;MACF;MAEA,IAAI;QACF6G,eAAe,CAAC3E,KAAK,CAACN,OAAO,GAAG,IAAG;QACnC,MAAMS,QAAQ,GAAG,MAAMhC,OAAO,CAAC4G,aAAa,CAAC;UAC3CjF,QAAQ,EAAE6E,eAAe,CAAC3E,KAAK,CAACF;QAClC,CAAC;QAED,IAAIK,QAAQ,EAAEE,IAAI,EAAEkC,IAAI,KAAK,GAAG,EAAE;UAChCzE,SAAS,CAAC,OAAO,EAAE,SAAS;UAC5B;UACA,MAAMU,SAAS,CAACwG,MAAM,CAAC;UACvB;UACAvG,SAAS,CAACwG,aAAa,CAAC;UACxB;UACAC,YAAY,CAACC,UAAU,CAAC,YAAY;UACpC;UACAC,MAAM,CAACC,QAAQ,CAACC,IAAI,GAAG,QAAO;QAChC;MACF,CAAC,CAAC,OAAO9E,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,OAAO,EAAEA,KAAK;QAC5B,MAAME,QAAQ,GAAGF,KAAK,CAACL,QAAQ,EAAEE,IAAI,EAAEM,MAAM,IAC7BH,KAAK,CAACL,QAAQ,EAAEE,IAAI,EAAEC,OAAO,IAC7BE,KAAK,CAACF,OAAO,IACb,MAAK;QACrBxC,SAAS,CAAC4C,QAAQ,EAAE,OAAO;MAC7B,CAAC,SAAS;QACRiE,eAAe,CAAC3E,KAAK,CAACN,OAAO,GAAG,KAAI;MACtC;IACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}