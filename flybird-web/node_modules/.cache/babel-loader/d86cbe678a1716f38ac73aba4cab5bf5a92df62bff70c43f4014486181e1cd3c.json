{"ast":null,"code":"import { ref, onMounted } from 'vue';\nimport { useApi } from '@/composables/useApi';\nexport function useWorks(type) {\n  const works = ref([]);\n  const loading = ref(false);\n  const error = ref(null);\n  const api = useApi();\n  const fetchWorks = async () => {\n    loading.value = true;\n    try {\n      const response = await api.get(`/works/${type}`);\n      works.value = response.data;\n    } catch (err) {\n      error.value = err;\n    } finally {\n      loading.value = false;\n    }\n  };\n  onMounted(fetchWorks);\n  return {\n    works,\n    loading,\n    error,\n    fetchWorks\n  };\n}","map":{"version":3,"names":["ref","onMounted","useApi","useWorks","type","works","loading","error","api","fetchWorks","value","response","get","data","err"],"sources":["/Users/liuzhao/Documents/Projects/flybird/flybird-web/src/composables/useWorks.js"],"sourcesContent":["import { ref, onMounted } from 'vue'\nimport { useApi } from '@/composables/useApi'\n\nexport function useWorks(type) {\n  const works = ref([])\n  const loading = ref(false)\n  const error = ref(null)\n  const api = useApi()\n\n  const fetchWorks = async () => {\n    loading.value = true\n    try {\n      const response = await api.get(`/works/${type}`)\n      works.value = response.data\n    } catch (err) {\n      error.value = err\n    } finally {\n      loading.value = false\n    }\n  }\n\n  onMounted(fetchWorks)\n\n  return {\n    works,\n    loading,\n    error,\n    fetchWorks\n  }\n} "],"mappings":"AAAA,SAASA,GAAG,EAAEC,SAAS,QAAQ,KAAK;AACpC,SAASC,MAAM,QAAQ,sBAAsB;AAE7C,OAAO,SAASC,QAAQA,CAACC,IAAI,EAAE;EAC7B,MAAMC,KAAK,GAAGL,GAAG,CAAC,EAAE,CAAC;EACrB,MAAMM,OAAO,GAAGN,GAAG,CAAC,KAAK,CAAC;EAC1B,MAAMO,KAAK,GAAGP,GAAG,CAAC,IAAI,CAAC;EACvB,MAAMQ,GAAG,GAAGN,MAAM,CAAC,CAAC;EAEpB,MAAMO,UAAU,GAAG,MAAAA,CAAA,KAAY;IAC7BH,OAAO,CAACI,KAAK,GAAG,IAAI;IACpB,IAAI;MACF,MAAMC,QAAQ,GAAG,MAAMH,GAAG,CAACI,GAAG,CAAC,UAAUR,IAAI,EAAE,CAAC;MAChDC,KAAK,CAACK,KAAK,GAAGC,QAAQ,CAACE,IAAI;IAC7B,CAAC,CAAC,OAAOC,GAAG,EAAE;MACZP,KAAK,CAACG,KAAK,GAAGI,GAAG;IACnB,CAAC,SAAS;MACRR,OAAO,CAACI,KAAK,GAAG,KAAK;IACvB;EACF,CAAC;EAEDT,SAAS,CAACQ,UAAU,CAAC;EAErB,OAAO;IACLJ,KAAK;IACLC,OAAO;IACPC,KAAK;IACLE;EACF,CAAC;AACH","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}