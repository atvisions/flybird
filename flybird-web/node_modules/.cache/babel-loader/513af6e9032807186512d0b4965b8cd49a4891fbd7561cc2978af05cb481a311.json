{"ast":null,"code":"import { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, resolveDynamicComponent as _resolveDynamicComponent, normalizeClass as _normalizeClass, createBlock as _createBlock, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, createCommentVNode as _createCommentVNode, createVNode as _createVNode, withModifiers as _withModifiers, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx } from \"vue\";\nconst _hoisted_1 = {\n  class: \"fixed bottom-0 left-0 right-0 bg-white border-t lg:hidden safe-area-inset-bottom z-50\"\n};\nconst _hoisted_2 = {\n  class: \"grid grid-cols-5 gap-1\"\n};\nconst _hoisted_3 = [\"onClick\"];\nconst _hoisted_4 = {\n  class: \"text-xs mt-1 truncate\"\n};\nconst _hoisted_5 = [\"onClick\"];\nconst _hoisted_6 = {\n  class: \"h-full flex flex-col\"\n};\nconst _hoisted_7 = {\n  class: \"p-4 border-b border-gray-200\"\n};\nconst _hoisted_8 = {\n  class: \"flex items-center justify-between\"\n};\nconst _hoisted_9 = {\n  class: \"flex-1 overflow-y-auto\"\n};\nconst _hoisted_10 = {\n  class: \"px-3 py-4\"\n};\nconst _hoisted_11 = {\n  class: \"px-3 text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2\"\n};\nconst _hoisted_12 = {\n  class: \"space-y-1\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_router_link = _resolveComponent(\"router-link\");\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createElementVNode(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [(_openBlock(), _createElementBlock(_Fragment, null, _renderList($setup.mobileActions, action => {\n    return _createElementVNode(\"button\", {\n      key: action.key,\n      onClick: action.handler,\n      class: _normalizeClass([\"flex flex-col items-center py-2 px-1 relative\", [$setup.isActiveAction(action.key) ? 'text-blue-600' : 'text-gray-500']])\n    }, [(_openBlock(), _createBlock(_resolveDynamicComponent(action.icon), {\n      class: _normalizeClass([\"w-6 h-6\", $setup.isActiveAction(action.key) ? 'text-blue-600' : 'text-gray-500'])\n    }, null, 8 /* PROPS */, [\"class\"])), _createElementVNode(\"span\", _hoisted_4, _toDisplayString(action.label), 1 /* TEXT */)], 10 /* CLASS, PROPS */, _hoisted_3);\n  }), 64 /* STABLE_FRAGMENT */))]), _createCommentVNode(\" 浮动发布按钮 \"), $setup.showCreateButton(_ctx.action.key) && $setup.isActiveAction(_ctx.action.key) ? (_openBlock(), _createElementBlock(_Fragment, {\n    key: 0\n  }, _renderList($setup.mobileActions, action => {\n    return _createElementVNode(\"button\", {\n      key: action.key,\n      onClick: _withModifiers($event => $setup.handleCreate(action.key), [\"stop\"]),\n      class: \"fixed right-4 bottom-20 w-12 h-12 bg-blue-600 rounded-full flex items-center justify-center shadow-xl hover:bg-blue-700 transition-colors z-50\"\n    }, [_createVNode($setup[\"PlusIcon\"], {\n      class: \"w-6 h-6 text-white\"\n    })], 8 /* PROPS */, _hoisted_5);\n  }), 64 /* STABLE_FRAGMENT */)) : _createCommentVNode(\"v-if\", true)]), _createCommentVNode(\" 移动端更多菜单抽屉的遮罩层 \"), $setup.isMobileMenuOpen ? (_openBlock(), _createElementBlock(\"div\", {\n    key: 0,\n    class: \"fixed inset-0 bg-black bg-opacity-25 z-[60] lg:hidden\",\n    onClick: $setup.closeMenu\n  })) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" 移动端更多菜单抽屉 \"), _createElementVNode(\"div\", {\n    class: _normalizeClass(['fixed inset-y-0 left-0 w-64 bg-white shadow-xl z-[70] transform transition-transform duration-300 ease-in-out lg:hidden', $setup.isMobileMenuOpen ? 'translate-x-0' : '-translate-x-full'])\n  }, [_createElementVNode(\"div\", _hoisted_6, [_createElementVNode(\"div\", _hoisted_7, [_createElementVNode(\"div\", _hoisted_8, [_cache[0] || (_cache[0] = _createElementVNode(\"h2\", {\n    class: \"text-lg font-medium text-gray-900\"\n  }, \"更多功能\", -1 /* HOISTED */)), _createElementVNode(\"button\", {\n    onClick: $setup.closeMenu,\n    class: \"text-gray-500\"\n  }, [_createVNode($setup[\"XMarkIcon\"], {\n    class: \"w-6 h-6\"\n  })])])]), _createElementVNode(\"div\", _hoisted_9, [_createElementVNode(\"div\", _hoisted_10, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.currentMenuGroups, group => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      key: group.title,\n      class: \"mb-6\"\n    }, [_createElementVNode(\"h3\", _hoisted_11, _toDisplayString(group.title), 1 /* TEXT */), _createElementVNode(\"div\", _hoisted_12, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(group.items, item => {\n      return _openBlock(), _createBlock(_component_router_link, {\n        key: item.path,\n        to: item.path,\n        class: _normalizeClass([\"group flex items-center w-full px-3 py-2 text-sm font-medium rounded-md\", [$setup.route.path === item.path ? 'bg-blue-50 text-blue-600' : 'text-gray-600 hover:bg-gray-50 hover:text-gray-900']]),\n        onClick: $setup.closeMenu\n      }, {\n        default: _withCtx(() => [(_openBlock(), _createBlock(_resolveDynamicComponent(item.icon), {\n          class: _normalizeClass([\"mr-3 h-6 w-6\", $setup.route.path === item.path ? 'text-blue-600' : 'text-gray-400'])\n        }, null, 8 /* PROPS */, [\"class\"])), _createTextVNode(\" \" + _toDisplayString(item.name), 1 /* TEXT */)]),\n        _: 2 /* DYNAMIC */\n      }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"to\", \"class\"]);\n    }), 128 /* KEYED_FRAGMENT */))])]);\n  }), 128 /* KEYED_FRAGMENT */))])])])], 2 /* CLASS */)], 64 /* STABLE_FRAGMENT */);\n}","map":{"version":3,"names":["class","_createElementBlock","_Fragment","_createElementVNode","_hoisted_1","_hoisted_2","_renderList","$setup","mobileActions","action","key","onClick","handler","_normalizeClass","isActiveAction","_createBlock","_resolveDynamicComponent","icon","_hoisted_4","_toDisplayString","label","_hoisted_3","_createCommentVNode","showCreateButton","_ctx","_withModifiers","$event","handleCreate","_createVNode","_hoisted_5","isMobileMenuOpen","closeMenu","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","currentMenuGroups","group","title","_hoisted_11","_hoisted_12","items","item","_component_router_link","path","to","route","default","_withCtx","_createTextVNode","name","_"],"sources":["/Users/liuzhao/Documents/Projects/flybird/flybird-web/src/components/MobileTabBar.vue"],"sourcesContent":["<template>\n  <div class=\"fixed bottom-0 left-0 right-0 bg-white border-t lg:hidden safe-area-inset-bottom z-50\">\n    <div class=\"grid grid-cols-5 gap-1\">\n      <button\n        v-for=\"action in mobileActions\"\n        :key=\"action.key\"\n        @click=\"action.handler\"\n        class=\"flex flex-col items-center py-2 px-1 relative\"\n        :class=\"[\n          isActiveAction(action.key)\n            ? 'text-blue-600'\n            : 'text-gray-500'\n        ]\"\n      >\n        <component \n          :is=\"action.icon\" \n          class=\"w-6 h-6\"\n          :class=\"isActiveAction(action.key) ? 'text-blue-600' : 'text-gray-500'\"\n        />\n        <span class=\"text-xs mt-1 truncate\">{{ action.label }}</span>\n      </button>\n    </div>\n    <!-- 浮动发布按钮 -->\n    <button\n      v-for=\"action in mobileActions\"\n      :key=\"action.key\"\n      v-if=\"showCreateButton(action.key) && isActiveAction(action.key)\"\n      @click.stop=\"handleCreate(action.key)\"\n      class=\"fixed right-4 bottom-20 w-12 h-12 bg-blue-600 rounded-full flex items-center justify-center shadow-xl hover:bg-blue-700 transition-colors z-50\"\n    >\n      <PlusIcon class=\"w-6 h-6 text-white\" />\n    </button>\n  </div>\n\n  <!-- 移动端更多菜单抽屉的遮罩层 -->\n  <div \n    v-if=\"isMobileMenuOpen\" \n    class=\"fixed inset-0 bg-black bg-opacity-25 z-[60] lg:hidden\"\n    @click=\"closeMenu\"\n  />\n  \n  <!-- 移动端更多菜单抽屉 -->\n  <div \n    :class=\"[\n      'fixed inset-y-0 left-0 w-64 bg-white shadow-xl z-[70] transform transition-transform duration-300 ease-in-out lg:hidden',\n      isMobileMenuOpen ? 'translate-x-0' : '-translate-x-full'\n    ]\"\n  >\n    <div class=\"h-full flex flex-col\">\n      <div class=\"p-4 border-b border-gray-200\">\n        <div class=\"flex items-center justify-between\">\n          <h2 class=\"text-lg font-medium text-gray-900\">更多功能</h2>\n          <button \n            @click=\"closeMenu\"\n            class=\"text-gray-500\"\n          >\n            <XMarkIcon class=\"w-6 h-6\" />\n          </button>\n        </div>\n      </div>\n      \n      <div class=\"flex-1 overflow-y-auto\">\n        <div class=\"px-3 py-4\">\n          <div v-for=\"group in currentMenuGroups\" :key=\"group.title\" class=\"mb-6\">\n            <h3 class=\"px-3 text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2\">\n              {{ group.title }}\n            </h3>\n            <div class=\"space-y-1\">\n              <router-link\n                v-for=\"item in group.items\"\n                :key=\"item.path\"\n                :to=\"item.path\"\n                class=\"group flex items-center w-full px-3 py-2 text-sm font-medium rounded-md\"\n                :class=\"[\n                  route.path === item.path\n                    ? 'bg-blue-50 text-blue-600'\n                    : 'text-gray-600 hover:bg-gray-50 hover:text-gray-900'\n                ]\"\n                @click=\"closeMenu\"\n              >\n                <component\n                  :is=\"item.icon\"\n                  class=\"mr-3 h-6 w-6\"\n                  :class=\"route.path === item.path ? 'text-blue-600' : 'text-gray-400'\"\n                />\n                {{ item.name }}\n              </router-link>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { ref, computed } from 'vue'\nimport { useRoute, useRouter } from 'vue-router'\nimport {\n  Bars3Icon,\n  XMarkIcon,\n  UsersIcon,\n  UserCircleIcon,\n  PhotoIcon,\n  Cog6ToothIcon,\n  DocumentTextIcon,\n  QuestionMarkCircleIcon,\n  ScaleIcon,\n  PaintBrushIcon,\n  VideoCameraIcon,\n  CameraIcon,\n  FilmIcon,\n  DocumentIcon,\n  StarIcon,\n  GlobeAltIcon,\n  UserIcon,\n  HomeIcon,\n  EnvelopeIcon,\n  ShieldCheckIcon,\n  BriefcaseIcon,\n  AcademicCapIcon,\n  BookOpenIcon,\n  LanguageIcon,\n  PlusIcon\n} from '@heroicons/vue/24/outline'\n\nconst props = defineProps({\n  menuGroups: {\n    type: Array,\n    required: true,\n    default: () => []\n  },\n  unreadMessages: {\n    type: Number,\n    default: 0\n  }\n})\n\nconst route = useRoute()\nconst router = useRouter()\nconst isMobileMenuOpen = ref(false)\n\n// 底部导航按钮\nconst mobileActions = [\n  {\n    key: 'more',\n    label: '分类',\n    icon: Bars3Icon,\n    handler: () => { \n      isMobileMenuOpen.value = true \n    }\n  },\n  {\n    key: 'templates',\n    label: '模版',\n    icon: DocumentTextIcon,\n    handler: () => router.push('/templates')\n  },\n  {\n    key: 'community',\n    label: '社区',\n    icon: UsersIcon,\n    handler: () => router.push('/community')\n  },\n  {\n    key: 'portfolio',\n    label: '作品集',\n    icon: PhotoIcon,\n    handler: () => router.push('/portfolio')\n  },\n  {\n    key: 'profile',\n    label: '我的',\n    icon: UserCircleIcon,\n    handler: () => router.push('/user?tab=home')\n  }\n]\n\nconst isActiveAction = (key) => {\n  if (key === 'more') return false\n  if (key === 'templates') return route.path.startsWith('/templates')\n  if (key === 'community') return route.path.startsWith('/community')\n  if (key === 'portfolio') return route.path.startsWith('/portfolio')\n  if (key === 'profile') {\n    return route.path.includes('/user') && \n           !['account', 'privacy'].includes(route.query.tab || '')\n  }\n  if (key === 'settings') {\n    return route.path.includes('/user') && \n           ['account', 'privacy'].includes(route.query.tab || '')\n  }\n  return false\n}\n\nconst closeMenu = () => {\n  isMobileMenuOpen.value = false\n}\n\n// 定义不同场景下的菜单组\nconst communityMenuGroups = [\n  {\n    title: '社区功能',\n    items: [\n      {\n        name: '首页',\n        path: '/community',\n        icon: HomeIcon\n      },\n      { \n        name: '文章', \n        path: '/community/articles', \n        icon: DocumentTextIcon \n      },\n      { \n        name: '问答', \n        path: '/community/questions', \n        icon: QuestionMarkCircleIcon \n      },\n      { \n        name: '话题', \n        path: '/community/topics', \n        icon: ScaleIcon \n      }\n    ]\n  }\n]\n\nconst portfolioMenuGroups = [\n  {\n    title: '创作功能',\n    items: [\n      {\n        name: '发现',\n        path: '/portfolio',\n        icon: HomeIcon\n      },\n      {\n        name: '设计',\n        path: '/portfolio/design',\n        icon: PaintBrushIcon\n      },\n      {\n        name: '视频',\n        path: '/portfolio/video',\n        icon: VideoCameraIcon\n      },\n      {\n        name: '摄影',\n        path: '/portfolio/photo',\n        icon: CameraIcon\n      },\n      {\n        name: '动画',\n        path: '/portfolio/animation',\n        icon: FilmIcon\n      }\n    ]\n  }\n]\n\n\n\n// 修改模版菜单组\nconst templateMenuGroups = [\n  {\n    title: '简历模板',\n    items: [\n      { \n        name: '简历', \n        path: '/templates/resume', \n        icon: DocumentIcon \n      },\n      { \n        name: '求职信', \n        path: '/templates/cover-letter', \n        icon: AcademicCapIcon \n      }\n    ]\n  }\n]\n\n// 添加 profileMenuGroups 定义\nconst profileMenuGroups = [\n  {\n    title: '内容管理',\n    items: [\n      {\n        name: '用户中心',\n        path: '/user?tab=home',\n        icon: HomeIcon\n      },\n      {\n        name: '我的档案',\n        path: '/user?tab=profile',\n        icon: UserIcon\n      },\n      {\n        name: '我的简历',\n        path: '/user?tab=resumes',\n        icon: DocumentIcon\n      }\n    ]\n  },\n  {\n    title: '账号管理',\n    items: [\n      {\n        name: '会员中心',\n        path: '/user?tab=membership',\n        icon: StarIcon\n      },\n      {\n        name: '消息中心',\n        path: '/user?tab=messages',\n        icon: EnvelopeIcon\n      },\n      {\n        name: '账号设置',\n        path: '/user?tab=account',\n        icon: Cog6ToothIcon\n      }\n    ]\n  }\n]\n\n\n// 根据当前路由计算要显示的菜单组\nconst currentMenuGroups = computed(() => {\n  if (route.path.startsWith('/templates')) {\n    return templateMenuGroups\n  }\n  if (route.path.startsWith('/community')) {\n    return communityMenuGroups\n  }\n  if (route.path.startsWith('/portfolio')) {\n    return portfolioMenuGroups\n  }\n  if (route.path.includes('/user')) {\n    return profileMenuGroups\n  }\n  return communityMenuGroups\n})\n\n// 判断是否显示创建按钮\nconst showCreateButton = (key) => {\n  return ['templates', 'community', 'portfolio'].includes(key)\n}\n\n// 处理创建按钮点击\nconst handleCreate = (key) => {\n  switch (key) {\n    case 'community':\n      router.push('/community/create?type=article')\n      break\n    case 'templates':\n      // 暂时留空\n      break\n    case 'portfolio':\n      // 暂时留空\n      break\n  }\n}\n</script>\n\n<style scoped>\n.safe-area-inset-bottom {\n  padding-bottom: env(safe-area-inset-bottom);\n}\n\n/* 修改发布按钮动画 */\n@keyframes pulse {\n  0% { transform: scale(1); }\n  50% { transform: scale(1.05); }\n  100% { transform: scale(1); }\n}\n\nbutton.fixed {\n  animation: pulse 2s infinite;\n  transition: transform 0.2s;\n}\n\n/* 添加按压效果 */\nbutton.fixed:active {\n  transform: scale(0.95);\n}\n</style> "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}