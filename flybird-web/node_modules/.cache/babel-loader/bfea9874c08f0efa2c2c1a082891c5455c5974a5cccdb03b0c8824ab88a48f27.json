{"ast":null,"code":"import { ref, watch } from 'vue';\nexport default {\n  __name: 'PropertyPanel',\n  props: {\n    modelValue: {\n      type: Object,\n      default: null\n    }\n  },\n  emits: ['update:modelValue'],\n  setup(__props, {\n    expose: __expose,\n    emit: __emit\n  }) {\n    __expose();\n    const props = __props;\n    const emit = __emit;\n\n    // 创建本地数据的副本\n    const localValue = ref(null);\n\n    // 监听 props 变化，更新本地数据\n    watch(() => props.modelValue, newValue => {\n      if (newValue) {\n        localValue.value = JSON.parse(JSON.stringify(newValue));\n      }\n    }, {\n      immediate: true,\n      deep: true\n    });\n\n    // 更新组件字段\n    const updateComponentField = (component, key, value) => {\n      component.config.fields[key] = value;\n      emitUpdate();\n    };\n\n    // 更新组件布局\n    const updateComponentLayout = (component, key, value) => {\n      component.config.layout[key] = value;\n      emitUpdate();\n    };\n\n    // 更新组件样式\n    const updateComponentStyle = (component, key, value) => {\n      component.config.styles[key] = value;\n      emitUpdate();\n    };\n\n    // 更新布局配置\n    const updateLayout = (key, value) => {\n      localValue.value.layout[key] = value;\n      emitUpdate();\n    };\n\n    // 更新布局区域\n    const updateArea = (index, key, value) => {\n      localValue.value.layout.areas[index][key] = value;\n      emitUpdate();\n    };\n\n    // 更新主题颜色\n    const updateThemeColor = (key, value) => {\n      localValue.value.theme.colors[key] = value;\n      emitUpdate();\n    };\n\n    // 更新主题间距\n    const updateThemeSpacing = (key, value) => {\n      localValue.value.theme.spacing[key] = value;\n      emitUpdate();\n    };\n\n    // 更新字体配置\n    const updateTypography = (type, key, value) => {\n      localValue.value.theme.typography[type][key] = value;\n      emitUpdate();\n    };\n\n    // 发送更新事件\n    const emitUpdate = () => {\n      emit('update:modelValue', localValue.value);\n    };\n    const __returned__ = {\n      props,\n      emit,\n      localValue,\n      updateComponentField,\n      updateComponentLayout,\n      updateComponentStyle,\n      updateLayout,\n      updateArea,\n      updateThemeColor,\n      updateThemeSpacing,\n      updateTypography,\n      emitUpdate,\n      ref,\n      watch\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","watch","props","__props","emit","__emit","localValue","modelValue","newValue","value","JSON","parse","stringify","immediate","deep","updateComponentField","component","key","config","fields","emitUpdate","updateComponentLayout","layout","updateComponentStyle","styles","updateLayout","updateArea","index","areas","updateThemeColor","theme","colors","updateThemeSpacing","spacing","updateTypography","type","typography"],"sources":["/Users/liuzhao/Documents/Projects/flybird/flybird-web/src/views/resume-editor/components/PropertyPanel.vue"],"sourcesContent":["<template>\n  <v-card class=\"h-100\">\n    <v-card-title class=\"text-body-1 py-2\">属性设置</v-card-title>\n    <v-divider></v-divider>\n    <v-card-text class=\"flex-grow-1 overflow-y-auto pa-2\">\n      <template v-if=\"localValue\">\n        <!-- 组件配置 -->\n        <div v-if=\"localValue.components\" class=\"setting-section\">\n          <div class=\"setting-title\">组件配置</div>\n          <v-expansion-panels>\n            <v-expansion-panel\n              v-for=\"component in localValue.components\"\n              :key=\"component.id\"\n            >\n              <v-expansion-panel-title>\n                {{ component.type }}\n              </v-expansion-panel-title>\n              <v-expansion-panel-text>\n                <!-- 组件字段配置 -->\n                <v-row dense v-if=\"component.config.fields\">\n                  <v-col cols=\"12\" v-for=\"(value, key) in component.config.fields\" :key=\"key\">\n                    <v-text-field\n                      :model-value=\"value\"\n                      @update:model-value=\"val => updateComponentField(component, key, val)\"\n                      :label=\"key\"\n                      density=\"compact\"\n                      hide-details\n                      class=\"mb-2\"\n                    ></v-text-field>\n                  </v-col>\n                </v-row>\n                <!-- 组件布局配置 -->\n                <v-row dense v-if=\"component.config.layout\">\n                  <v-col cols=\"6\">\n                    <v-text-field\n                      :model-value=\"component.config.layout.x\"\n                      @update:model-value=\"val => updateComponentLayout(component, 'x', val)\"\n                      label=\"X坐标\"\n                      type=\"number\"\n                      density=\"compact\"\n                      hide-details\n                      class=\"mb-2\"\n                    ></v-text-field>\n                  </v-col>\n                  <v-col cols=\"6\">\n                    <v-text-field\n                      :model-value=\"component.config.layout.y\"\n                      @update:model-value=\"val => updateComponentLayout(component, 'y', val)\"\n                      label=\"Y坐标\"\n                      type=\"number\"\n                      density=\"compact\"\n                      hide-details\n                      class=\"mb-2\"\n                    ></v-text-field>\n                  </v-col>\n                  <v-col cols=\"6\">\n                    <v-text-field\n                      :model-value=\"component.config.layout.w\"\n                      @update:model-value=\"val => updateComponentLayout(component, 'w', val)\"\n                      label=\"宽度\"\n                      type=\"number\"\n                      density=\"compact\"\n                      hide-details\n                      class=\"mb-2\"\n                    ></v-text-field>\n                  </v-col>\n                  <v-col cols=\"6\">\n                    <v-text-field\n                      :model-value=\"component.config.layout.h\"\n                      @update:model-value=\"val => updateComponentLayout(component, 'h', val)\"\n                      label=\"高度\"\n                      type=\"number\"\n                      density=\"compact\"\n                      hide-details\n                      class=\"mb-2\"\n                    ></v-text-field>\n                  </v-col>\n                </v-row>\n                <!-- 组件样式配置 -->\n                <v-row dense v-if=\"component.config.styles\">\n                  <v-col cols=\"12\">\n                    <v-text-field\n                      :model-value=\"component.config.styles.padding\"\n                      @update:model-value=\"val => updateComponentStyle(component, 'padding', val)\"\n                      label=\"内边距\"\n                      density=\"compact\"\n                      hide-details\n                      class=\"mb-2\"\n                    ></v-text-field>\n                  </v-col>\n                  <v-col cols=\"12\">\n                    <v-text-field\n                      :model-value=\"component.config.styles.background\"\n                      @update:model-value=\"val => updateComponentStyle(component, 'background', val)\"\n                      label=\"背景色\"\n                      density=\"compact\"\n                      hide-details\n                      class=\"mb-2\"\n                    ></v-text-field>\n                  </v-col>\n                  <v-col cols=\"12\">\n                    <v-text-field\n                      :model-value=\"component.config.styles.borderRadius\"\n                      @update:model-value=\"val => updateComponentStyle(component, 'borderRadius', val)\"\n                      label=\"圆角\"\n                      density=\"compact\"\n                      hide-details\n                      class=\"mb-2\"\n                    ></v-text-field>\n                  </v-col>\n                </v-row>\n              </v-expansion-panel-text>\n            </v-expansion-panel>\n          </v-expansion-panels>\n        </div>\n\n        <!-- 布局配置 -->\n        <div v-if=\"localValue.layout\" class=\"setting-section\">\n          <div class=\"setting-title\">布局配置</div>\n          <v-row dense>\n            <v-col cols=\"12\">\n              <v-text-field\n                :model-value=\"localValue.layout.gap\"\n                @update:model-value=\"val => updateLayout('gap', val)\"\n                label=\"间距\"\n                type=\"text\"\n                density=\"compact\"\n                hide-details\n                class=\"mb-2\"\n              ></v-text-field>\n            </v-col>\n            <v-col cols=\"12\">\n              <v-text-field\n                :model-value=\"localValue.layout.columns\"\n                @update:model-value=\"val => updateLayout('columns', val)\"\n                label=\"列数\"\n                type=\"number\"\n                density=\"compact\"\n                hide-details\n                class=\"mb-2\"\n              ></v-text-field>\n            </v-col>\n          </v-row>\n          <!-- 布局区域配置 -->\n          <div v-if=\"localValue.layout.areas\" class=\"mt-4\">\n            <div class=\"subtitle-2 mb-2\">布局区域</div>\n            <v-expansion-panels>\n              <v-expansion-panel\n                v-for=\"(area, index) in localValue.layout.areas\"\n                :key=\"index\"\n              >\n                <v-expansion-panel-title>\n                  {{ area.name }}\n                </v-expansion-panel-title>\n                <v-expansion-panel-text>\n                  <v-row dense>\n                    <v-col cols=\"6\">\n                      <v-text-field\n                        :model-value=\"area.x\"\n                        @update:model-value=\"val => updateArea(index, 'x', val)\"\n                        label=\"X坐标\"\n                        type=\"number\"\n                        density=\"compact\"\n                        hide-details\n                        class=\"mb-2\"\n                      ></v-text-field>\n                    </v-col>\n                    <v-col cols=\"6\">\n                      <v-text-field\n                        :model-value=\"area.y\"\n                        @update:model-value=\"val => updateArea(index, 'y', val)\"\n                        label=\"Y坐标\"\n                        type=\"number\"\n                        density=\"compact\"\n                        hide-details\n                        class=\"mb-2\"\n                      ></v-text-field>\n                    </v-col>\n                    <v-col cols=\"6\">\n                      <v-text-field\n                        :model-value=\"area.w\"\n                        @update:model-value=\"val => updateArea(index, 'w', val)\"\n                        label=\"宽度\"\n                        type=\"number\"\n                        density=\"compact\"\n                        hide-details\n                        class=\"mb-2\"\n                      ></v-text-field>\n                    </v-col>\n                    <v-col cols=\"6\">\n                      <v-text-field\n                        :model-value=\"area.h\"\n                        @update:model-value=\"val => updateArea(index, 'h', val)\"\n                        label=\"高度\"\n                        type=\"number\"\n                        density=\"compact\"\n                        hide-details\n                        class=\"mb-2\"\n                      ></v-text-field>\n                    </v-col>\n                  </v-row>\n                </v-expansion-panel-text>\n              </v-expansion-panel>\n            </v-expansion-panels>\n          </div>\n        </div>\n\n        <!-- 主题配置 -->\n        <div v-if=\"localValue.theme\" class=\"setting-section\">\n          <div class=\"setting-title\">主题配置</div>\n          <!-- 颜色配置 -->\n          <div v-if=\"localValue.theme.colors\">\n            <div class=\"subtitle-2 mb-2\">颜色</div>\n            <v-row dense>\n              <v-col cols=\"6\" v-for=\"(value, key) in localValue.theme.colors\" :key=\"key\">\n                <v-color-picker\n                  :model-value=\"value\"\n                  @update:model-value=\"val => updateThemeColor(key, val)\"\n                  :label=\"key\"\n                  hide-inputs\n                  mode=\"hex\"\n                  class=\"mb-2\"\n                ></v-color-picker>\n              </v-col>\n            </v-row>\n          </div>\n          <!-- 间距配置 -->\n          <div v-if=\"localValue.theme.spacing\" class=\"mt-4\">\n            <div class=\"subtitle-2 mb-2\">间距</div>\n            <v-row dense>\n              <v-col cols=\"6\" v-for=\"(value, key) in localValue.theme.spacing\" :key=\"key\">\n                <v-text-field\n                  :model-value=\"value\"\n                  @update:model-value=\"val => updateThemeSpacing(key, val)\"\n                  :label=\"key\"\n                  density=\"compact\"\n                  hide-details\n                  class=\"mb-2\"\n                ></v-text-field>\n              </v-col>\n            </v-row>\n          </div>\n          <!-- 字体配置 -->\n          <div v-if=\"localValue.theme.typography\" class=\"mt-4\">\n            <div class=\"subtitle-2 mb-2\">字体</div>\n            <v-expansion-panels>\n              <v-expansion-panel\n                v-for=\"(config, type) in localValue.theme.typography\"\n                :key=\"type\"\n              >\n                <v-expansion-panel-title>\n                  {{ type }}字体\n                </v-expansion-panel-title>\n                <v-expansion-panel-text>\n                  <v-row dense>\n                    <v-col cols=\"12\">\n                      <v-select\n                        :model-value=\"config.font\"\n                        @update:model-value=\"val => updateTypography(type, 'font', val)\"\n                        label=\"字体\"\n                        :items=\"['Arial', 'Helvetica', 'Times New Roman']\"\n                        density=\"compact\"\n                        hide-details\n                        class=\"mb-2\"\n                      ></v-select>\n                    </v-col>\n                    <v-col cols=\"6\">\n                      <v-text-field\n                        :model-value=\"config.size\"\n                        @update:model-value=\"val => updateTypography(type, 'size', val)\"\n                        label=\"大小\"\n                        density=\"compact\"\n                        hide-details\n                        class=\"mb-2\"\n                      ></v-text-field>\n                    </v-col>\n                    <v-col cols=\"6\">\n                      <v-select\n                        :model-value=\"config.weight\"\n                        @update:model-value=\"val => updateTypography(type, 'weight', val)\"\n                        label=\"粗细\"\n                        :items=\"['normal', 'bold']\"\n                        density=\"compact\"\n                        hide-details\n                        class=\"mb-2\"\n                      ></v-select>\n                    </v-col>\n                  </v-row>\n                </v-expansion-panel-text>\n              </v-expansion-panel>\n            </v-expansion-panels>\n          </div>\n        </div>\n      </template>\n      <div v-else class=\"text-center text-medium-emphasis pa-4\">\n        请选择一个模板或布局组件\n      </div>\n    </v-card-text>\n  </v-card>\n</template>\n\n<script setup>\nimport { ref, watch } from 'vue'\n\nconst props = defineProps({\n  modelValue: {\n    type: Object,\n    default: null\n  }\n})\n\nconst emit = defineEmits(['update:modelValue'])\n\n// 创建本地数据的副本\nconst localValue = ref(null)\n\n// 监听 props 变化，更新本地数据\nwatch(() => props.modelValue, (newValue) => {\n  if (newValue) {\n    localValue.value = JSON.parse(JSON.stringify(newValue))\n  }\n}, { immediate: true, deep: true })\n\n// 更新组件字段\nconst updateComponentField = (component, key, value) => {\n  component.config.fields[key] = value\n  emitUpdate()\n}\n\n// 更新组件布局\nconst updateComponentLayout = (component, key, value) => {\n  component.config.layout[key] = value\n  emitUpdate()\n}\n\n// 更新组件样式\nconst updateComponentStyle = (component, key, value) => {\n  component.config.styles[key] = value\n  emitUpdate()\n}\n\n// 更新布局配置\nconst updateLayout = (key, value) => {\n  localValue.value.layout[key] = value\n  emitUpdate()\n}\n\n// 更新布局区域\nconst updateArea = (index, key, value) => {\n  localValue.value.layout.areas[index][key] = value\n  emitUpdate()\n}\n\n// 更新主题颜色\nconst updateThemeColor = (key, value) => {\n  localValue.value.theme.colors[key] = value\n  emitUpdate()\n}\n\n// 更新主题间距\nconst updateThemeSpacing = (key, value) => {\n  localValue.value.theme.spacing[key] = value\n  emitUpdate()\n}\n\n// 更新字体配置\nconst updateTypography = (type, key, value) => {\n  localValue.value.theme.typography[type][key] = value\n  emitUpdate()\n}\n\n// 发送更新事件\nconst emitUpdate = () => {\n  emit('update:modelValue', localValue.value)\n}\n</script>\n\n<style scoped>\n.setting-section {\n  padding: 16px;\n  border-bottom: 1px solid rgba(0, 0, 0, 0.12);\n}\n\n.setting-section:last-child {\n  border-bottom: none;\n}\n\n.setting-title {\n  font-size: 14px;\n  font-weight: 500;\n  color: rgba(0, 0, 0, 0.87);\n  margin-bottom: 12px;\n}\n\n.subtitle-2 {\n  font-size: 13px;\n  font-weight: 500;\n  color: rgba(0, 0, 0, 0.6);\n}\n\n:deep(.v-color-picker) {\n  max-width: 100%;\n  border: 1px solid rgba(0, 0, 0, 0.12);\n  border-radius: 4px;\n}\n\n:deep(.v-color-picker .v-color-picker-preview) {\n  height: 24px;\n}\n\n:deep(.v-color-picker .v-color-picker-canvas) {\n  display: none;\n}\n</style> "],"mappings":"AA8SA,SAASA,GAAG,EAAEC,KAAK,QAAQ,KAAI;;;;;;;;;;;;;;;IAE/B,MAAMC,KAAK,GAAGC,OAAA;IAOd,MAAMC,IAAI,GAAGC,MAAA;;IAEb;IACA,MAAMC,UAAU,GAAGN,GAAG,CAAC,IAAI;;IAE3B;IACAC,KAAK,CAAC,MAAMC,KAAK,CAACK,UAAU,EAAGC,QAAQ,IAAK;MAC1C,IAAIA,QAAQ,EAAE;QACZF,UAAU,CAACG,KAAK,GAAGC,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,SAAS,CAACJ,QAAQ,CAAC;MACxD;IACF,CAAC,EAAE;MAAEK,SAAS,EAAE,IAAI;MAAEC,IAAI,EAAE;IAAK,CAAC;;IAElC;IACA,MAAMC,oBAAoB,GAAGA,CAACC,SAAS,EAAEC,GAAG,EAAER,KAAK,KAAK;MACtDO,SAAS,CAACE,MAAM,CAACC,MAAM,CAACF,GAAG,CAAC,GAAGR,KAAI;MACnCW,UAAU,CAAC;IACb;;IAEA;IACA,MAAMC,qBAAqB,GAAGA,CAACL,SAAS,EAAEC,GAAG,EAAER,KAAK,KAAK;MACvDO,SAAS,CAACE,MAAM,CAACI,MAAM,CAACL,GAAG,CAAC,GAAGR,KAAI;MACnCW,UAAU,CAAC;IACb;;IAEA;IACA,MAAMG,oBAAoB,GAAGA,CAACP,SAAS,EAAEC,GAAG,EAAER,KAAK,KAAK;MACtDO,SAAS,CAACE,MAAM,CAACM,MAAM,CAACP,GAAG,CAAC,GAAGR,KAAI;MACnCW,UAAU,CAAC;IACb;;IAEA;IACA,MAAMK,YAAY,GAAGA,CAACR,GAAG,EAAER,KAAK,KAAK;MACnCH,UAAU,CAACG,KAAK,CAACa,MAAM,CAACL,GAAG,CAAC,GAAGR,KAAI;MACnCW,UAAU,CAAC;IACb;;IAEA;IACA,MAAMM,UAAU,GAAGA,CAACC,KAAK,EAAEV,GAAG,EAAER,KAAK,KAAK;MACxCH,UAAU,CAACG,KAAK,CAACa,MAAM,CAACM,KAAK,CAACD,KAAK,CAAC,CAACV,GAAG,CAAC,GAAGR,KAAI;MAChDW,UAAU,CAAC;IACb;;IAEA;IACA,MAAMS,gBAAgB,GAAGA,CAACZ,GAAG,EAAER,KAAK,KAAK;MACvCH,UAAU,CAACG,KAAK,CAACqB,KAAK,CAACC,MAAM,CAACd,GAAG,CAAC,GAAGR,KAAI;MACzCW,UAAU,CAAC;IACb;;IAEA;IACA,MAAMY,kBAAkB,GAAGA,CAACf,GAAG,EAAER,KAAK,KAAK;MACzCH,UAAU,CAACG,KAAK,CAACqB,KAAK,CAACG,OAAO,CAAChB,GAAG,CAAC,GAAGR,KAAI;MAC1CW,UAAU,CAAC;IACb;;IAEA;IACA,MAAMc,gBAAgB,GAAGA,CAACC,IAAI,EAAElB,GAAG,EAAER,KAAK,KAAK;MAC7CH,UAAU,CAACG,KAAK,CAACqB,KAAK,CAACM,UAAU,CAACD,IAAI,CAAC,CAAClB,GAAG,CAAC,GAAGR,KAAI;MACnDW,UAAU,CAAC;IACb;;IAEA;IACA,MAAMA,UAAU,GAAGA,CAAA,KAAM;MACvBhB,IAAI,CAAC,mBAAmB,EAAEE,UAAU,CAACG,KAAK;IAC5C","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}