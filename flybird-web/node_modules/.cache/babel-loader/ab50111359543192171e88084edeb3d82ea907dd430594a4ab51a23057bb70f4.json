{"ast":null,"code":"import { defineStore } from 'pinia';\nimport { useAuthStore } from '@/stores/auth';\nexport const usePointsStore = defineStore('points', {\n  state: () => ({\n    points: 0,\n    lastCheckInTime: null\n    // ... 其他状态\n  }),\n  actions: {\n    async getPointsInfo() {\n      // 检查认证状态\n      const authStore = useAuthStore();\n      if (!authStore.isAuthenticated) {\n        return null;\n      }\n      try {\n        const response = await points.getPointsInfo();\n        if (response?.data?.code === 200) {\n          this.points = response.data.data.points;\n          this.lastCheckInTime = response.data.data.last_check_in_time;\n          return response.data.data;\n        }\n        return null;\n      } catch (error) {\n        console.warn('获取积分信息失败:', error);\n        // 非致命错误，返回 null\n        return null;\n      }\n    }\n\n    // ... 其他 actions\n  }\n});","map":{"version":3,"names":["defineStore","useAuthStore","usePointsStore","state","points","lastCheckInTime","actions","getPointsInfo","authStore","isAuthenticated","response","data","code","last_check_in_time","error","console","warn"],"sources":["/Users/liuzhao/Documents/Projects/flybird/flybird-web/src/stores/points.js"],"sourcesContent":["import { defineStore } from 'pinia'\nimport { useAuthStore } from '@/stores/auth'\n\nexport const usePointsStore = defineStore('points', {\n  state: () => ({\n    points: 0,\n    lastCheckInTime: null,\n    // ... 其他状态\n  }),\n\n  actions: {\n    async getPointsInfo() {\n      // 检查认证状态\n      const authStore = useAuthStore()\n      if (!authStore.isAuthenticated) {\n        return null\n      }\n\n      try {\n        const response = await points.getPointsInfo()\n        if (response?.data?.code === 200) {\n          this.points = response.data.data.points\n          this.lastCheckInTime = response.data.data.last_check_in_time\n          return response.data.data\n        }\n        return null\n      } catch (error) {\n        console.warn('获取积分信息失败:', error)\n        // 非致命错误，返回 null\n        return null\n      }\n    },\n\n    // ... 其他 actions\n  }\n}) "],"mappings":"AAAA,SAASA,WAAW,QAAQ,OAAO;AACnC,SAASC,YAAY,QAAQ,eAAe;AAE5C,OAAO,MAAMC,cAAc,GAAGF,WAAW,CAAC,QAAQ,EAAE;EAClDG,KAAK,EAAEA,CAAA,MAAO;IACZC,MAAM,EAAE,CAAC;IACTC,eAAe,EAAE;IACjB;EACF,CAAC,CAAC;EAEFC,OAAO,EAAE;IACP,MAAMC,aAAaA,CAAA,EAAG;MACpB;MACA,MAAMC,SAAS,GAAGP,YAAY,CAAC,CAAC;MAChC,IAAI,CAACO,SAAS,CAACC,eAAe,EAAE;QAC9B,OAAO,IAAI;MACb;MAEA,IAAI;QACF,MAAMC,QAAQ,GAAG,MAAMN,MAAM,CAACG,aAAa,CAAC,CAAC;QAC7C,IAAIG,QAAQ,EAAEC,IAAI,EAAEC,IAAI,KAAK,GAAG,EAAE;UAChC,IAAI,CAACR,MAAM,GAAGM,QAAQ,CAACC,IAAI,CAACA,IAAI,CAACP,MAAM;UACvC,IAAI,CAACC,eAAe,GAAGK,QAAQ,CAACC,IAAI,CAACA,IAAI,CAACE,kBAAkB;UAC5D,OAAOH,QAAQ,CAACC,IAAI,CAACA,IAAI;QAC3B;QACA,OAAO,IAAI;MACb,CAAC,CAAC,OAAOG,KAAK,EAAE;QACdC,OAAO,CAACC,IAAI,CAAC,WAAW,EAAEF,KAAK,CAAC;QAChC;QACA,OAAO,IAAI;MACb;IACF;;IAEA;EACF;AACF,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}