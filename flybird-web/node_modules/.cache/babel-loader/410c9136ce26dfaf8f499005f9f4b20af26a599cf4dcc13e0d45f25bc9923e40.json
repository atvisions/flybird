{"ast":null,"code":"import _objectSpread from \"/Users/liuzhao/Documents/Projects/flybird/flybird-web/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport { ref } from 'vue';\nimport ToolbarPanel from './components/ToolbarPanel.vue';\nimport Canvas from './components/Canvas.vue';\nimport PropertyPanel from './components/PropertyPanel.vue';\nimport SaveTemplateDialog from './components/SaveTemplateDialog.vue';\n\n// 画布缩放\n\nexport default {\n  __name: 'index',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const scale = ref(1);\n    const canvasRef = ref(null);\n\n    // 保存模板对话框\n    const showSaveDialog = ref(false);\n\n    // 选中元素\n    const selectedElement = ref(null);\n\n    // 处理元素选择\n    const handleElementSelect = element => {\n      selectedElement.value = element;\n    };\n\n    // 处理元素更新\n    const handleElementUpdate = updatedElement => {\n      if (canvasRef.value) {\n        canvasRef.value.handleElementUpdate(updatedElement);\n      }\n    };\n\n    // 处理模板保存\n    const handleSaveTemplate = async templateData => {\n      try {\n        const layoutData = canvasRef.value.exportLayoutData();\n        // TODO: 调用API保存模板\n        console.log('保存模板:', _objectSpread(_objectSpread({}, templateData), {}, {\n          layout: layoutData\n        }));\n      } catch (error) {\n        console.error('保存模板失败:', error);\n      }\n    };\n\n    // 处理缩放\n    const handleZoomIn = () => {\n      if (scale.value < 2) {\n        scale.value += 0.1;\n      }\n    };\n    const handleZoomOut = () => {\n      if (scale.value > 0.5) {\n        scale.value -= 0.1;\n      }\n    };\n    const handleZoomReset = () => {\n      scale.value = 1;\n    };\n    const dataFields = ref([]);\n\n    // 处理数据字段更新\n    const handleDataFieldsUpdate = fields => {\n      dataFields.value = fields;\n    };\n    const __returned__ = {\n      scale,\n      canvasRef,\n      showSaveDialog,\n      selectedElement,\n      handleElementSelect,\n      handleElementUpdate,\n      handleSaveTemplate,\n      handleZoomIn,\n      handleZoomOut,\n      handleZoomReset,\n      dataFields,\n      handleDataFieldsUpdate,\n      ref,\n      ToolbarPanel,\n      Canvas,\n      PropertyPanel,\n      SaveTemplateDialog\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","ToolbarPanel","Canvas","PropertyPanel","SaveTemplateDialog","scale","canvasRef","showSaveDialog","selectedElement","handleElementSelect","element","value","handleElementUpdate","updatedElement","handleSaveTemplate","templateData","layoutData","exportLayoutData","console","log","_objectSpread","layout","error","handleZoomIn","handleZoomOut","handleZoomReset","dataFields","handleDataFieldsUpdate","fields"],"sources":["/Users/liuzhao/Documents/Projects/flybird/flybird-web/src/views/resume-editor/index.vue"],"sourcesContent":["<template>\n  <div class=\"resume-editor\">\n    <div class=\"editor-header\">\n      <div class=\"left-actions\">\n        <v-btn-group>\n          <v-btn\n            icon=\"mdi-minus\"\n            @click=\"handleZoomOut\"\n            :disabled=\"scale <= 0.5\"\n          ></v-btn>\n          <v-btn\n            icon=\"mdi-plus\"\n            @click=\"handleZoomIn\"\n            :disabled=\"scale >= 2\"\n          ></v-btn>\n          <v-btn icon=\"mdi-refresh\" @click=\"handleZoomReset\"></v-btn>\n        </v-btn-group>\n        <span class=\"scale-text\">{{ Math.round(scale * 100) }}%</span>\n      </div>\n      <div class=\"right-actions\">\n        <v-btn\n          color=\"primary\"\n          prepend-icon=\"mdi-content-save\"\n          @click=\"showSaveDialog = true\"\n        >\n          保存为模板\n        </v-btn>\n      </div>\n    </div>\n    \n    <div class=\"editor-main\">\n      <ToolbarPanel />\n      <Canvas \n        ref=\"canvasRef\" \n        :scale=\"scale\"\n        @element-select=\"handleElementSelect\"\n        @data-fields-update=\"handleDataFieldsUpdate\"\n      />\n      <PropertyPanel \n        :selected-element=\"selectedElement\"\n        :data-fields=\"dataFields\"\n        @update=\"handleElementUpdate\"\n      />\n    </div>\n\n    <SaveTemplateDialog\n      v-model=\"showSaveDialog\"\n      @save=\"handleSaveTemplate\"\n    />\n  </div>\n</template>\n\n<script setup>\nimport { ref } from 'vue'\nimport ToolbarPanel from './components/ToolbarPanel.vue'\nimport Canvas from './components/Canvas.vue'\nimport PropertyPanel from './components/PropertyPanel.vue'\nimport SaveTemplateDialog from './components/SaveTemplateDialog.vue'\n\n// 画布缩放\nconst scale = ref(1)\nconst canvasRef = ref(null)\n\n// 保存模板对话框\nconst showSaveDialog = ref(false)\n\n// 选中元素\nconst selectedElement = ref(null)\n\n// 处理元素选择\nconst handleElementSelect = (element) => {\n  selectedElement.value = element\n}\n\n// 处理元素更新\nconst handleElementUpdate = (updatedElement) => {\n  if (canvasRef.value) {\n    canvasRef.value.handleElementUpdate(updatedElement)\n  }\n}\n\n// 处理模板保存\nconst handleSaveTemplate = async (templateData) => {\n  try {\n    const layoutData = canvasRef.value.exportLayoutData()\n    // TODO: 调用API保存模板\n    console.log('保存模板:', {\n      ...templateData,\n      layout: layoutData\n    })\n  } catch (error) {\n    console.error('保存模板失败:', error)\n  }\n}\n\n// 处理缩放\nconst handleZoomIn = () => {\n  if (scale.value < 2) {\n    scale.value += 0.1\n  }\n}\n\nconst handleZoomOut = () => {\n  if (scale.value > 0.5) {\n    scale.value -= 0.1\n  }\n}\n\nconst handleZoomReset = () => {\n  scale.value = 1\n}\n\nconst dataFields = ref([])\n\n// 处理数据字段更新\nconst handleDataFieldsUpdate = (fields) => {\n  dataFields.value = fields\n}\n</script>\n\n<style scoped>\n.resume-editor {\n  height: 100vh;\n  display: flex;\n  flex-direction: column;\n}\n\n.editor-header {\n  height: 64px;\n  padding: 0 20px;\n  border-bottom: 1px solid #e0e0e0;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  background: #ffffff;\n}\n\n.left-actions,\n.right-actions {\n  display: flex;\n  align-items: center;\n  gap: 12px;\n}\n\n.scale-text {\n  font-size: 14px;\n  color: #666;\n  min-width: 48px;\n}\n\n.editor-main {\n  flex: 1;\n  display: flex;\n  overflow: hidden;\n}\n</style> "],"mappings":";AAqDA,SAASA,GAAG,QAAQ,KAAI;AACxB,OAAOC,YAAY,MAAM,+BAA8B;AACvD,OAAOC,MAAM,MAAM,yBAAwB;AAC3C,OAAOC,aAAa,MAAM,gCAA+B;AACzD,OAAOC,kBAAkB,MAAM,qCAAoC;;AAEnE;;;;;;;;IACA,MAAMC,KAAK,GAAGL,GAAG,CAAC,CAAC;IACnB,MAAMM,SAAS,GAAGN,GAAG,CAAC,IAAI;;IAE1B;IACA,MAAMO,cAAc,GAAGP,GAAG,CAAC,KAAK;;IAEhC;IACA,MAAMQ,eAAe,GAAGR,GAAG,CAAC,IAAI;;IAEhC;IACA,MAAMS,mBAAmB,GAAIC,OAAO,IAAK;MACvCF,eAAe,CAACG,KAAK,GAAGD,OAAM;IAChC;;IAEA;IACA,MAAME,mBAAmB,GAAIC,cAAc,IAAK;MAC9C,IAAIP,SAAS,CAACK,KAAK,EAAE;QACnBL,SAAS,CAACK,KAAK,CAACC,mBAAmB,CAACC,cAAc;MACpD;IACF;;IAEA;IACA,MAAMC,kBAAkB,GAAG,MAAOC,YAAY,IAAK;MACjD,IAAI;QACF,MAAMC,UAAU,GAAGV,SAAS,CAACK,KAAK,CAACM,gBAAgB,CAAC;QACpD;QACAC,OAAO,CAACC,GAAG,CAAC,OAAO,EAAAC,aAAA,CAAAA,aAAA,KACdL,YAAY;UACfM,MAAM,EAAEL;QAAS,EAClB;MACH,CAAC,CAAC,OAAOM,KAAK,EAAE;QACdJ,OAAO,CAACI,KAAK,CAAC,SAAS,EAAEA,KAAK;MAChC;IACF;;IAEA;IACA,MAAMC,YAAY,GAAGA,CAAA,KAAM;MACzB,IAAIlB,KAAK,CAACM,KAAK,GAAG,CAAC,EAAE;QACnBN,KAAK,CAACM,KAAK,IAAI,GAAE;MACnB;IACF;IAEA,MAAMa,aAAa,GAAGA,CAAA,KAAM;MAC1B,IAAInB,KAAK,CAACM,KAAK,GAAG,GAAG,EAAE;QACrBN,KAAK,CAACM,KAAK,IAAI,GAAE;MACnB;IACF;IAEA,MAAMc,eAAe,GAAGA,CAAA,KAAM;MAC5BpB,KAAK,CAACM,KAAK,GAAG;IAChB;IAEA,MAAMe,UAAU,GAAG1B,GAAG,CAAC,EAAE;;IAEzB;IACA,MAAM2B,sBAAsB,GAAIC,MAAM,IAAK;MACzCF,UAAU,CAACf,KAAK,GAAGiB,MAAK;IAC1B","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}