{"ast":null,"code":"import { ref } from 'vue';\nexport default {\n  __name: 'DoubleLayout',\n  props: {\n    config: {\n      type: Object,\n      default: () => ({\n        layout: 'double',\n        columns: 2,\n        columnWidth: ['50%', '50%']\n      })\n    }\n  },\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const props = __props;\n    const leftComponents = ref([]);\n    const rightComponents = ref([]);\n    const handleDragEnter = event => {\n      event.preventDefault();\n      event.target.classList.add('drag-over');\n    };\n    const handleDragLeave = event => {\n      event.preventDefault();\n      event.target.classList.remove('drag-over');\n    };\n    const handleDragOver = event => {\n      event.preventDefault();\n    };\n    const handleDrop = (event, column) => {\n      event.preventDefault();\n      event.target.classList.remove('drag-over');\n      const componentData = event.dataTransfer.getData('application/json');\n      if (componentData) {\n        try {\n          const component = JSON.parse(componentData);\n          if (column === 'left') {\n            leftComponents.value.push(component);\n          } else {\n            rightComponents.value.push(component);\n          }\n        } catch (error) {\n          console.error('解析组件数据失败:', error);\n        }\n      }\n    };\n    const __returned__ = {\n      props,\n      leftComponents,\n      rightComponents,\n      handleDragEnter,\n      handleDragLeave,\n      handleDragOver,\n      handleDrop,\n      ref\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","props","__props","leftComponents","rightComponents","handleDragEnter","event","preventDefault","target","classList","add","handleDragLeave","remove","handleDragOver","handleDrop","column","componentData","dataTransfer","getData","component","JSON","parse","value","push","error","console"],"sources":["/Users/liuzhao/Documents/Projects/flybird/flybird-web/src/views/resume-editor/layouts/DoubleLayout.vue"],"sourcesContent":["<template>\n  <div class=\"double-layout\">\n    <div class=\"layout-columns\">\n      <!-- 左列 -->\n      <div class=\"layout-column\"\n        @dragenter=\"handleDragEnter\"\n        @dragleave=\"handleDragLeave\"\n        @dragover=\"handleDragOver\"\n        @drop=\"e => handleDrop(e, 'left')\">\n        <div v-if=\"!leftComponents.length\" class=\"column-placeholder\">\n          <v-icon size=\"24\" color=\"rgba(0,0,0,0.2)\">mdi-plus</v-icon>\n          <div class=\"text-caption text-medium-emphasis\">拖拽组件到此处</div>\n        </div>\n        <template v-else>\n          <div v-for=\"component in leftComponents\" \n            :key=\"component.id\"\n            class=\"component-item\">\n            <!-- 这里将根据组件类型渲染不同的组件 -->\n            {{ component.name }}\n          </div>\n        </template>\n      </div>\n\n      <!-- 右列 -->\n      <div class=\"layout-column\"\n        @dragenter=\"handleDragEnter\"\n        @dragleave=\"handleDragLeave\"\n        @dragover=\"handleDragOver\"\n        @drop=\"e => handleDrop(e, 'right')\">\n        <div v-if=\"!rightComponents.length\" class=\"column-placeholder\">\n          <v-icon size=\"24\" color=\"rgba(0,0,0,0.2)\">mdi-plus</v-icon>\n          <div class=\"text-caption text-medium-emphasis\">拖拽组件到此处</div>\n        </div>\n        <template v-else>\n          <div v-for=\"component in rightComponents\" \n            :key=\"component.id\"\n            class=\"component-item\">\n            <!-- 这里将根据组件类型渲染不同的组件 -->\n            {{ component.name }}\n          </div>\n        </template>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { ref } from 'vue'\n\nconst props = defineProps({\n  config: {\n    type: Object,\n    default: () => ({\n      layout: 'double',\n      columns: 2,\n      columnWidth: ['50%', '50%']\n    })\n  }\n})\n\nconst leftComponents = ref([])\nconst rightComponents = ref([])\n\nconst handleDragEnter = (event) => {\n  event.preventDefault()\n  event.target.classList.add('drag-over')\n}\n\nconst handleDragLeave = (event) => {\n  event.preventDefault()\n  event.target.classList.remove('drag-over')\n}\n\nconst handleDragOver = (event) => {\n  event.preventDefault()\n}\n\nconst handleDrop = (event, column) => {\n  event.preventDefault()\n  event.target.classList.remove('drag-over')\n  \n  const componentData = event.dataTransfer.getData('application/json')\n  if (componentData) {\n    try {\n      const component = JSON.parse(componentData)\n      if (column === 'left') {\n        leftComponents.value.push(component)\n      } else {\n        rightComponents.value.push(component)\n      }\n    } catch (error) {\n      console.error('解析组件数据失败:', error)\n    }\n  }\n}\n</script>\n\n<style scoped>\n.double-layout {\n  width: 100%;\n  height: 100%;\n  padding: 1rem;\n}\n\n.layout-columns {\n  display: flex;\n  gap: 1rem;\n  height: 100%;\n}\n\n.layout-column {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  min-height: 100%;\n  background-color: rgba(0, 0, 0, 0.02);\n  border: 2px dashed rgba(0, 0, 0, 0.1);\n  border-radius: 8px;\n  padding: 1rem;\n  transition: all 0.3s;\n  gap: 1rem;\n}\n\n.layout-column.drag-over {\n  background-color: rgba(24, 103, 192, 0.05);\n  border-color: rgba(24, 103, 192, 0.3);\n}\n\n.column-placeholder {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  min-height: 100px;\n  color: rgba(0, 0, 0, 0.4);\n}\n\n.component-item {\n  padding: 1rem;\n  background-color: white;\n  border: 1px solid rgba(0, 0, 0, 0.12);\n  border-radius: 4px;\n}\n</style> "],"mappings":"AA+CA,SAASA,GAAG,QAAQ,KAAI;;;;;;;;;;;;;;;;;IAExB,MAAMC,KAAK,GAAGC,OAAA;IAWd,MAAMC,cAAc,GAAGH,GAAG,CAAC,EAAE;IAC7B,MAAMI,eAAe,GAAGJ,GAAG,CAAC,EAAE;IAE9B,MAAMK,eAAe,GAAIC,KAAK,IAAK;MACjCA,KAAK,CAACC,cAAc,CAAC;MACrBD,KAAK,CAACE,MAAM,CAACC,SAAS,CAACC,GAAG,CAAC,WAAW;IACxC;IAEA,MAAMC,eAAe,GAAIL,KAAK,IAAK;MACjCA,KAAK,CAACC,cAAc,CAAC;MACrBD,KAAK,CAACE,MAAM,CAACC,SAAS,CAACG,MAAM,CAAC,WAAW;IAC3C;IAEA,MAAMC,cAAc,GAAIP,KAAK,IAAK;MAChCA,KAAK,CAACC,cAAc,CAAC;IACvB;IAEA,MAAMO,UAAU,GAAGA,CAACR,KAAK,EAAES,MAAM,KAAK;MACpCT,KAAK,CAACC,cAAc,CAAC;MACrBD,KAAK,CAACE,MAAM,CAACC,SAAS,CAACG,MAAM,CAAC,WAAW;MAEzC,MAAMI,aAAa,GAAGV,KAAK,CAACW,YAAY,CAACC,OAAO,CAAC,kBAAkB;MACnE,IAAIF,aAAa,EAAE;QACjB,IAAI;UACF,MAAMG,SAAS,GAAGC,IAAI,CAACC,KAAK,CAACL,aAAa;UAC1C,IAAID,MAAM,KAAK,MAAM,EAAE;YACrBZ,cAAc,CAACmB,KAAK,CAACC,IAAI,CAACJ,SAAS;UACrC,CAAC,MAAM;YACLf,eAAe,CAACkB,KAAK,CAACC,IAAI,CAACJ,SAAS;UACtC;QACF,CAAC,CAAC,OAAOK,KAAK,EAAE;UACdC,OAAO,CAACD,KAAK,CAAC,WAAW,EAAEA,KAAK;QAClC;MACF;IACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}