{"ast":null,"code":"import { createVNode as _createVNode, createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, normalizeClass as _normalizeClass, vModelDynamic as _vModelDynamic, createTextVNode as _createTextVNode, withModifiers as _withModifiers, resolveComponent as _resolveComponent, withCtx as _withCtx, createStaticVNode as _createStaticVNode } from \"vue\";\nconst _hoisted_1 = {\n  class: \"flex flex-col min-h-screen\"\n};\nconst _hoisted_2 = {\n  class: \"flex-1 pt-14 relative z-[1] bg-gray-50\"\n};\nconst _hoisted_3 = {\n  class: \"mt-10 sm:mx-auto sm:w-full sm:max-w-[480px]\"\n};\nconst _hoisted_4 = {\n  class: \"mt-10 sm:mx-auto sm:w-full sm:max-w-[480px]\"\n};\nconst _hoisted_5 = {\n  class: \"bg-white px-6 py-12 shadow sm:rounded-lg sm:px-12\"\n};\nconst _hoisted_6 = {\n  class: \"mt-2\"\n};\nconst _hoisted_7 = {\n  class: \"mt-2 flex\"\n};\nconst _hoisted_8 = {\n  class: \"flex-grow\"\n};\nconst _hoisted_9 = [\"disabled\"];\nconst _hoisted_10 = {\n  key: 0,\n  class: \"animate-spin -ml-1 mr-2 h-4 w-4\",\n  fill: \"none\",\n  viewBox: \"0 0 24 24\"\n};\nconst _hoisted_11 = {\n  class: \"w-full text-center\"\n};\nconst _hoisted_12 = {\n  class: \"mt-2 relative\"\n};\nconst _hoisted_13 = [\"type\"];\nconst _hoisted_14 = {\n  key: 0,\n  class: \"h-5 w-5 text-gray-500\",\n  fill: \"none\",\n  viewBox: \"0 0 24 24\",\n  stroke: \"currentColor\"\n};\nconst _hoisted_15 = {\n  key: 1,\n  class: \"h-5 w-5 text-gray-500\",\n  fill: \"none\",\n  viewBox: \"0 0 24 24\",\n  stroke: \"currentColor\"\n};\nconst _hoisted_16 = {\n  class: \"mt-2\"\n};\nconst _hoisted_17 = [\"disabled\"];\nconst _hoisted_18 = {\n  key: 0,\n  class: \"animate-spin -ml-1 mr-3 h-5 w-5 text-white\",\n  fill: \"none\",\n  viewBox: \"0 0 24 24\"\n};\nconst _hoisted_19 = {\n  class: \"mt-6\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_router_link = _resolveComponent(\"router-link\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createVNode($setup[\"HeadView\"]), _createElementVNode(\"main\", _hoisted_2, [_createCommentVNode(\" Logo 部分 \"), _cache[14] || (_cache[14] = _createElementVNode(\"div\", {\n    class: \"sm:mx-auto sm:w-full sm:max-w-md pt-8\"\n  }, [_createElementVNode(\"h2\", {\n    class: \"mt-6 text-center text-2xl font-bold leading-9 tracking-tight text-gray-900\"\n  }, \"重置密码\")], -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"div\", _hoisted_5, [_createElementVNode(\"form\", {\n    class: \"space-y-6\",\n    onSubmit: _withModifiers($setup.handleResetPassword, [\"prevent\"])\n  }, [_createCommentVNode(\" 手机号输入 \"), _createElementVNode(\"div\", null, [_cache[4] || (_cache[4] = _createElementVNode(\"label\", {\n    for: \"phone\",\n    class: \"block text-sm font-medium leading-6 text-gray-900\"\n  }, \"手机号\", -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_6, [_withDirectives(_createElementVNode(\"input\", {\n    id: \"phone\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $setup.form.phone = $event),\n    type: \"text\",\n    required: \"\",\n    placeholder: \"请输入手机号\",\n    class: \"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.form.phone]])])]), _createCommentVNode(\" 验证码输入 \"), _createElementVNode(\"div\", null, [_cache[6] || (_cache[6] = _createElementVNode(\"label\", {\n    for: \"code\",\n    class: \"block text-sm font-medium leading-6 text-gray-900\"\n  }, \"验证码\", -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_7, [_createElementVNode(\"div\", _hoisted_8, [_withDirectives(_createElementVNode(\"input\", {\n    id: \"code\",\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $setup.form.code = $event),\n    type: \"text\",\n    required: \"\",\n    placeholder: \"请输入验证码\",\n    class: \"block w-full rounded-l-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.form.code]])]), _createElementVNode(\"button\", {\n    type: \"button\",\n    onClick: $setup.handleSendCode,\n    disabled: $setup.countdown > 0 || $setup.loading,\n    class: _normalizeClass([\"relative -ml-px whitespace-nowrap inline-flex items-center rounded-r-md px-6 py-2 text-sm font-semibold ring-1 ring-inset ring-gray-300 hover:bg-gray-50 focus:z-10 w-[140px]\", $setup.countdown > 0 || $setup.loading ? 'text-gray-400 bg-gray-50' : 'text-indigo-600'])\n  }, [$setup.loading ? (_openBlock(), _createElementBlock(\"svg\", _hoisted_10, _cache[5] || (_cache[5] = [_createElementVNode(\"circle\", {\n    class: \"opacity-25\",\n    cx: \"12\",\n    cy: \"12\",\n    r: \"10\",\n    stroke: \"currentColor\",\n    \"stroke-width\": \"4\"\n  }, null, -1 /* HOISTED */), _createElementVNode(\"path\", {\n    class: \"opacity-75\",\n    fill: \"currentColor\",\n    d: \"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"\n  }, null, -1 /* HOISTED */)]))) : _createCommentVNode(\"v-if\", true), _createElementVNode(\"span\", _hoisted_11, _toDisplayString($setup.loading ? '发送中...' : $setup.countdown > 0 ? `${$setup.countdown}s` : '获取验证码'), 1 /* TEXT */)], 10 /* CLASS, PROPS */, _hoisted_9)])]), _createCommentVNode(\" 新密码输入 \"), _createElementVNode(\"div\", null, [_cache[9] || (_cache[9] = _createElementVNode(\"label\", {\n    for: \"password\",\n    class: \"block text-sm font-medium leading-6 text-gray-900\"\n  }, \"新密码\", -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_12, [_withDirectives(_createElementVNode(\"input\", {\n    id: \"password\",\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $setup.form.password = $event),\n    type: $setup.showPassword ? 'text' : 'password',\n    required: \"\",\n    placeholder: \"请输入新密码\",\n    class: \"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6\"\n  }, null, 8 /* PROPS */, _hoisted_13), [[_vModelDynamic, $setup.form.password]]), _createElementVNode(\"button\", {\n    type: \"button\",\n    onClick: $setup.togglePassword,\n    class: \"absolute inset-y-0 right-0 pr-3 flex items-center\"\n  }, [$setup.showPassword ? (_openBlock(), _createElementBlock(\"svg\", _hoisted_14, _cache[7] || (_cache[7] = [_createElementVNode(\"path\", {\n    \"stroke-linecap\": \"round\",\n    \"stroke-linejoin\": \"round\",\n    \"stroke-width\": \"2\",\n    d: \"M15 12a3 3 0 11-6 0 3 3 0 016 0z\"\n  }, null, -1 /* HOISTED */), _createElementVNode(\"path\", {\n    \"stroke-linecap\": \"round\",\n    \"stroke-linejoin\": \"round\",\n    \"stroke-width\": \"2\",\n    d: \"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z\"\n  }, null, -1 /* HOISTED */)]))) : (_openBlock(), _createElementBlock(\"svg\", _hoisted_15, _cache[8] || (_cache[8] = [_createElementVNode(\"path\", {\n    \"stroke-linecap\": \"round\",\n    \"stroke-linejoin\": \"round\",\n    \"stroke-width\": \"2\",\n    d: \"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21\"\n  }, null, -1 /* HOISTED */)])))])])]), _createCommentVNode(\" 确认密码输入 \"), _createElementVNode(\"div\", null, [_cache[10] || (_cache[10] = _createElementVNode(\"label\", {\n    for: \"confirm-password\",\n    class: \"block text-sm font-medium leading-6 text-gray-900\"\n  }, \"确认密码\", -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_16, [_withDirectives(_createElementVNode(\"input\", {\n    id: \"confirm-password\",\n    \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $setup.form.confirm_password = $event),\n    type: \"password\",\n    required: \"\",\n    placeholder: \"请再次输入密码\",\n    class: \"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.form.confirm_password]])])]), _createCommentVNode(\" 重置密码按钮 \"), _createElementVNode(\"div\", null, [_createElementVNode(\"button\", {\n    type: \"submit\",\n    disabled: !$setup.isFormValid || $setup.loading,\n    class: \"flex w-full justify-center rounded-md bg-indigo-600 px-3 py-1.5 text-sm font-semibold leading-6 text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600 disabled:opacity-50 disabled:cursor-not-allowed\"\n  }, [$setup.loading ? (_openBlock(), _createElementBlock(\"svg\", _hoisted_18, _cache[11] || (_cache[11] = [_createElementVNode(\"circle\", {\n    class: \"opacity-25\",\n    cx: \"12\",\n    cy: \"12\",\n    r: \"10\",\n    stroke: \"currentColor\",\n    \"stroke-width\": \"4\"\n  }, null, -1 /* HOISTED */), _createElementVNode(\"path\", {\n    class: \"opacity-75\",\n    fill: \"currentColor\",\n    d: \"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"\n  }, null, -1 /* HOISTED */)]))) : _createCommentVNode(\"v-if\", true), _createTextVNode(\" \" + _toDisplayString($setup.loading ? '重置中...' : '重置密码'), 1 /* TEXT */)], 8 /* PROPS */, _hoisted_17)])], 32 /* NEED_HYDRATION */), _createCommentVNode(\" 登录链接 \"), _createElementVNode(\"div\", null, [_cache[13] || (_cache[13] = _createStaticVNode(\"<div class=\\\"relative mt-10\\\"><div class=\\\"absolute inset-0 flex items-center\\\" aria-hidden=\\\"true\\\"><div class=\\\"w-full border-t border-gray-200\\\"></div></div><div class=\\\"relative flex justify-center text-sm font-medium leading-6\\\"><span class=\\\"bg-white px-6 text-gray-900\\\">记起密码?</span></div></div>\", 1)), _createElementVNode(\"div\", _hoisted_19, [_createVNode(_component_router_link, {\n    to: \"/login\",\n    class: \"flex w-full justify-center rounded-md bg-white px-3 py-1.5 text-sm font-semibold leading-6 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600\"\n  }, {\n    default: _withCtx(() => _cache[12] || (_cache[12] = [_createTextVNode(\" 返回登录 \")])),\n    _: 1 /* STABLE */\n  })])])])])])])]);\n}","map":{"version":3,"names":["class","key","fill","viewBox","stroke","_createElementBlock","_hoisted_1","_createVNode","$setup","_createElementVNode","_hoisted_2","_createCommentVNode","_hoisted_3","_hoisted_4","_hoisted_5","onSubmit","_withModifiers","handleResetPassword","for","_hoisted_6","id","_cache","$event","form","phone","type","required","placeholder","_hoisted_7","_hoisted_8","code","onClick","handleSendCode","disabled","countdown","loading","_normalizeClass","_hoisted_10","cx","cy","r","d","_hoisted_11","_toDisplayString","_hoisted_9","_hoisted_12","password","showPassword","_hoisted_13","togglePassword","_hoisted_14","_hoisted_15","_hoisted_16","confirm_password","isFormValid","_hoisted_18","_createTextVNode","_hoisted_17","_createStaticVNode","_hoisted_19","_component_router_link","to","default","_withCtx","_"],"sources":["/Users/liuzhao/Documents/Projects/flybird/flybird-web/src/views/ResetPasswordView.vue"],"sourcesContent":["<template>\n  <div class=\"flex flex-col min-h-screen\">\n  <HeadView />\n  <main class=\"flex-1 pt-14 relative z-[1] bg-gray-50\">\n     <!-- Logo 部分 -->\n    <div class=\"sm:mx-auto sm:w-full sm:max-w-md pt-8\">\n      <h2 class=\"mt-6 text-center text-2xl font-bold leading-9 tracking-tight text-gray-900\">重置密码</h2>\n    </div>\n    <div class=\"mt-10 sm:mx-auto sm:w-full sm:max-w-[480px]\">\n      <div class=\"mt-10 sm:mx-auto sm:w-full sm:max-w-[480px]\">\n        <div class=\"bg-white px-6 py-12 shadow sm:rounded-lg sm:px-12\">\n          <form class=\"space-y-6\" @submit.prevent=\"handleResetPassword\">\n            <!-- 手机号输入 -->\n            <div>\n              <label for=\"phone\" class=\"block text-sm font-medium leading-6 text-gray-900\">手机号</label>\n              <div class=\"mt-2\">\n                <input \n                  id=\"phone\" \n                  v-model=\"form.phone\" \n                  type=\"text\" \n                  required\n                  placeholder=\"请输入手机号\"\n                  class=\"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6\" \n                />\n              </div>\n            </div>\n\n            <!-- 验证码输入 -->\n            <div>\n              <label for=\"code\" class=\"block text-sm font-medium leading-6 text-gray-900\">验证码</label>\n              <div class=\"mt-2 flex\">\n                <div class=\"flex-grow\">\n                  <input \n                    id=\"code\" \n                    v-model=\"form.code\" \n                    type=\"text\" \n                    required\n                    placeholder=\"请输入验证码\"\n                    class=\"block w-full rounded-l-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6\" \n                  />\n                </div>\n                <button \n                  type=\"button\"\n                  @click=\"handleSendCode\"\n                  :disabled=\"countdown > 0 || loading\"\n                  class=\"relative -ml-px whitespace-nowrap inline-flex items-center rounded-r-md px-6 py-2 text-sm font-semibold ring-1 ring-inset ring-gray-300 hover:bg-gray-50 focus:z-10 w-[140px]\"\n                  :class=\"countdown > 0 || loading ? 'text-gray-400 bg-gray-50' : 'text-indigo-600'\"\n                >\n                  <svg v-if=\"loading\" class=\"animate-spin -ml-1 mr-2 h-4 w-4\" fill=\"none\" viewBox=\"0 0 24 24\">\n                    <circle class=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" stroke-width=\"4\"></circle>\n                    <path class=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n                  </svg>\n                  <span class=\"w-full text-center\">\n                  {{ loading ? '发送中...' : countdown > 0 ? `${countdown}s` : '获取验证码' }}\n                </span>\n                </button>\n              </div>\n            </div>\n\n            <!-- 新密码输入 -->\n            <div>\n              <label for=\"password\" class=\"block text-sm font-medium leading-6 text-gray-900\">新密码</label>\n              <div class=\"mt-2 relative\">\n                <input \n                  id=\"password\" \n                  v-model=\"form.password\" \n                  :type=\"showPassword ? 'text' : 'password'\" \n                  required\n                  placeholder=\"请输入新密码\"\n                  class=\"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6\" \n                />\n                <button \n                  type=\"button\" \n                  @click=\"togglePassword\"\n                  class=\"absolute inset-y-0 right-0 pr-3 flex items-center\"\n                >\n                  <svg v-if=\"showPassword\" class=\"h-5 w-5 text-gray-500\" fill=\"none\" viewBox=\"0 0 24 24\"\n                    stroke=\"currentColor\">\n                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\"\n                      d=\"M15 12a3 3 0 11-6 0 3 3 0 016 0z\" />\n                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\"\n                      d=\"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z\" />\n                  </svg>\n                  <svg v-else class=\"h-5 w-5 text-gray-500\" fill=\"none\" viewBox=\"0 0 24 24\"\n                    stroke=\"currentColor\">\n                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\"\n                      d=\"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21\" />\n                  </svg>\n                </button>\n              </div>\n            </div>\n\n            <!-- 确认密码输入 -->\n            <div>\n              <label for=\"confirm-password\" class=\"block text-sm font-medium leading-6 text-gray-900\">确认密码</label>\n              <div class=\"mt-2\">\n                <input \n                  id=\"confirm-password\" \n                  v-model=\"form.confirm_password\"\n                  type=\"password\" \n                  required\n                  placeholder=\"请再次输入密码\"\n                  class=\"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6\" \n                />\n              </div>\n            </div>\n\n            <!-- 重置密码按钮 -->\n            <div>\n              <button \n                type=\"submit\" \n                :disabled=\"!isFormValid || loading\"\n                class=\"flex w-full justify-center rounded-md bg-indigo-600 px-3 py-1.5 text-sm font-semibold leading-6 text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600 disabled:opacity-50 disabled:cursor-not-allowed\"\n              >\n                <svg v-if=\"loading\" class=\"animate-spin -ml-1 mr-3 h-5 w-5 text-white\" fill=\"none\"\n                  viewBox=\"0 0 24 24\">\n                  <circle class=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\"\n                    stroke-width=\"4\"></circle>\n                  <path class=\"opacity-75\" fill=\"currentColor\"\n                    d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\">\n                  </path>\n                </svg>\n                {{ loading ? '重置中...' : '重置密码' }}\n              </button>\n            </div>\n          </form>\n\n          <!-- 登录链接 -->\n          <div>\n            <div class=\"relative mt-10\">\n              <div class=\"absolute inset-0 flex items-center\" aria-hidden=\"true\">\n                <div class=\"w-full border-t border-gray-200\"></div>\n              </div>\n              <div class=\"relative flex justify-center text-sm font-medium leading-6\">\n                <span class=\"bg-white px-6 text-gray-900\">记起密码?</span>\n              </div>\n            </div>\n\n            <div class=\"mt-6\">\n              <router-link \n                to=\"/login\"\n                class=\"flex w-full justify-center rounded-md bg-white px-3 py-1.5 text-sm font-semibold leading-6 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600\"\n              >\n                返回登录\n              </router-link>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </main>\n</div>\n</template>\n\n<script setup>\nimport { ref, computed } from 'vue'\nimport { useRouter } from 'vue-router'\nimport HeadView from '@/components/HeadView.vue'\nimport { auth } from '@/api/auth'\nimport { showToast } from '@/components/ToastMessage'\n\nconst router = useRouter()\nconst loading = ref(false)\nconst countdown = ref(0)\nconst form = ref({\n  phone: '',\n  code: '',\n  password: '',\n  confirm_password: ''\n})\n\nconst showPassword = ref(false)\n\n// 表单验证\nconst isFormValid = computed(() => {\n  const phoneRegex = /^1[3-9]\\d{9}$/\n  const passwordRegex = /^(?=.*[A-Za-z])(?=.*\\d)[A-Za-z\\d]{8,}$/\n  \n  return phoneRegex.test(form.value.phone) && \n         form.value.code?.length === 6 && \n         form.value.password &&\n         form.value.confirm_password &&\n         form.value.password === form.value.confirm_password &&\n         passwordRegex.test(form.value.password)\n})\n\n// 发送验证码\nconst handleSendCode = async () => {\n  if (!form.value.phone) {\n    showToast('请输入手机号', 'error')\n    return\n  }\n  \n  try {\n    loading.value = true\n    await auth.sendVerifyCode({\n      phone: form.value.phone,\n      scene: 'reset_password'\n    })\n    \n    // 开始倒计时\n    countdown.value = 60\n    const timer = setInterval(() => {\n      countdown.value--\n      if (countdown.value <= 0) {\n        clearInterval(timer)\n      }\n    }, 1000)\n    \n    showToast('验证码已发送', 'success')\n  } catch (error) {\n    console.error('发送验证码失败:', error)\n    showToast(error.response?.data?.message || '发送验证码失败', 'error')\n  } finally {\n    loading.value = false\n  }\n}\n\n// 重置密码\nconst handleResetPassword = async () => {\n  if (!form.value.phone) {\n    showToast('请输入手机号', 'error')\n    return\n  }\n  \n  if (!form.value.code) {\n    showToast('请输入验证码', 'error')\n    return\n  }\n  \n  if (!form.value.password) {\n    showToast('请输入新密码', 'error')\n    return\n  }\n  \n  if (!form.value.confirm_password) {\n    showToast('请确认新密码', 'error')\n    return\n  }\n  \n  if (form.value.password !== form.value.confirm_password) {\n    showToast('两次输入的密码不一致', 'error')\n    return\n  }\n  \n  // 验证密码复杂度\n  const passwordRegex = /^(?=.*[A-Za-z])(?=.*\\d)[A-Za-z\\d]{8,}$/\n  if (!passwordRegex.test(form.value.password)) {\n    showToast('密码必须至少8位，包含字母和数字', 'error')\n    return\n  }\n  \n  try {\n    loading.value = true\n    const response = await auth.resetPassword({\n      phone: form.value.phone,\n      code: form.value.code,\n      new_password: form.value.password,\n      confirm_password: form.value.confirm_password\n    })\n    \n    console.log('Reset password response:', response.data)\n    \n    if (response?.data?.code === 200) {\n      showToast('密码重置成功', 'success')\n      router.push('/login')\n    } else {\n      // 处理其他状态码\n      const message = response.data?.message || '重置密码失败'\n      throw new Error(message)\n    }\n  } catch (error) {\n    console.error('重置密码失败:', error)\n    // 更详细的错误处理\n    let errorMessage = '重置密码失败，请稍后重试'\n    \n    if (error.response?.data) {\n      const errorData = error.response.data\n      // 处理数组形式的错误\n      if (Array.isArray(errorData.code)) {\n        errorMessage = errorData.code[0]\n      }\n      // 处理对象形式的错误\n      else if (typeof errorData === 'object') {\n        const firstError = Object.values(errorData)[0]\n        if (Array.isArray(firstError)) {\n          errorMessage = firstError[0]\n        } else if (errorData.message) {\n          errorMessage = errorData.message\n        }\n      }\n    } else if (error.message) {\n      errorMessage = error.message\n    }\n    \n    showToast(errorMessage, 'error')\n  } finally {\n    loading.value = false\n  }\n}\n\n// 切换密码显示\nconst togglePassword = () => {\n  showPassword.value = !showPassword.value\n}\n</script>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}