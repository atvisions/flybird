{"ast":null,"code":"import { createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, openBlock as _openBlock, createBlock as _createBlock } from \"vue\";\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_v_card_title = _resolveComponent(\"v-card-title\");\n  const _component_v_text_field = _resolveComponent(\"v-text-field\");\n  const _component_v_select = _resolveComponent(\"v-select\");\n  const _component_v_file_input = _resolveComponent(\"v-file-input\");\n  const _component_v_textarea = _resolveComponent(\"v-textarea\");\n  const _component_v_switch = _resolveComponent(\"v-switch\");\n  const _component_v_form = _resolveComponent(\"v-form\");\n  const _component_v_card_text = _resolveComponent(\"v-card-text\");\n  const _component_v_spacer = _resolveComponent(\"v-spacer\");\n  const _component_v_btn = _resolveComponent(\"v-btn\");\n  const _component_v_card_actions = _resolveComponent(\"v-card-actions\");\n  const _component_v_card = _resolveComponent(\"v-card\");\n  const _component_v_dialog = _resolveComponent(\"v-dialog\");\n  return _openBlock(), _createBlock(_component_v_dialog, {\n    modelValue: $setup.dialog,\n    \"onUpdate:modelValue\": _cache[7] || (_cache[7] = $event => $setup.dialog = $event),\n    \"max-width\": \"600\"\n  }, {\n    default: _withCtx(() => [_createVNode(_component_v_card, null, {\n      default: _withCtx(() => [_createVNode(_component_v_card_title, {\n        class: \"text-h5\"\n      }, {\n        default: _withCtx(() => _cache[8] || (_cache[8] = [_createTextVNode(\"保存为模板\")])),\n        _: 1 /* STABLE */\n      }), _createVNode(_component_v_card_text, null, {\n        default: _withCtx(() => [_createVNode(_component_v_form, {\n          ref: \"form\",\n          modelValue: $setup.valid,\n          \"onUpdate:modelValue\": _cache[5] || (_cache[5] = $event => $setup.valid = $event)\n        }, {\n          default: _withCtx(() => [_createVNode(_component_v_text_field, {\n            modelValue: $setup.formData.name,\n            \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $setup.formData.name = $event),\n            label: \"模板名称\",\n            rules: [v => !!v || '请输入模板名称'],\n            required: \"\"\n          }, null, 8 /* PROPS */, [\"modelValue\", \"rules\"]), _createVNode(_component_v_select, {\n            modelValue: $setup.formData.category,\n            \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $setup.formData.category = $event),\n            items: $setup.categories,\n            \"item-title\": \"name\",\n            \"item-value\": \"id\",\n            label: \"选择分类\",\n            rules: [v => !!v || '请选择分类'],\n            required: \"\"\n          }, null, 8 /* PROPS */, [\"modelValue\", \"items\", \"rules\"]), _createVNode(_component_v_file_input, {\n            modelValue: $setup.formData.thumbnail,\n            \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $setup.formData.thumbnail = $event),\n            label: \"缩略图\",\n            accept: \"image/*\",\n            rules: [v => !!v || '请上传缩略图'],\n            required: \"\"\n          }, null, 8 /* PROPS */, [\"modelValue\", \"rules\"]), _createVNode(_component_v_textarea, {\n            modelValue: $setup.formData.description,\n            \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $setup.formData.description = $event),\n            label: \"模板描述\",\n            rules: [v => !!v || '请输入模板描述'],\n            required: \"\"\n          }, null, 8 /* PROPS */, [\"modelValue\", \"rules\"]), _createVNode(_component_v_switch, {\n            modelValue: $setup.formData.is_vip,\n            \"onUpdate:modelValue\": _cache[4] || (_cache[4] = $event => $setup.formData.is_vip = $event),\n            label: \"VIP模板\",\n            color: \"primary\"\n          }, null, 8 /* PROPS */, [\"modelValue\"])]),\n          _: 1 /* STABLE */\n        }, 8 /* PROPS */, [\"modelValue\"])]),\n        _: 1 /* STABLE */\n      }), _createVNode(_component_v_card_actions, null, {\n        default: _withCtx(() => [_createVNode(_component_v_spacer), _createVNode(_component_v_btn, {\n          color: \"grey-darken-1\",\n          variant: \"text\",\n          onClick: _cache[6] || (_cache[6] = $event => $setup.dialog = false)\n        }, {\n          default: _withCtx(() => _cache[9] || (_cache[9] = [_createTextVNode(\" 取消 \")])),\n          _: 1 /* STABLE */\n        }), _createVNode(_component_v_btn, {\n          color: \"primary\",\n          variant: \"text\",\n          loading: $setup.loading,\n          disabled: !$setup.valid,\n          onClick: $setup.handleSave\n        }, {\n          default: _withCtx(() => _cache[10] || (_cache[10] = [_createTextVNode(\" 保存 \")])),\n          _: 1 /* STABLE */\n        }, 8 /* PROPS */, [\"loading\", \"disabled\"])]),\n        _: 1 /* STABLE */\n      })]),\n      _: 1 /* STABLE */\n    })]),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"modelValue\"]);\n}","map":{"version":3,"names":["_createBlock","_component_v_dialog","modelValue","$setup","dialog","_cache","$event","default","_withCtx","_createVNode","_component_v_card","_component_v_card_title","class","_createTextVNode","_","_component_v_card_text","_component_v_form","ref","valid","_component_v_text_field","formData","name","label","rules","v","required","_component_v_select","category","items","categories","_component_v_file_input","thumbnail","accept","_component_v_textarea","description","_component_v_switch","is_vip","color","_component_v_card_actions","_component_v_spacer","_component_v_btn","variant","onClick","loading","disabled","handleSave"],"sources":["/Users/liuzhao/Documents/Projects/flybird/flybird-web/src/views/resume-editor/components/SaveTemplateDialog.vue"],"sourcesContent":["<template>\n  <v-dialog v-model=\"dialog\" max-width=\"600\">\n    <v-card>\n      <v-card-title class=\"text-h5\">保存为模板</v-card-title>\n      <v-card-text>\n        <v-form ref=\"form\" v-model=\"valid\">\n          <v-text-field\n            v-model=\"formData.name\"\n            label=\"模板名称\"\n            :rules=\"[v => !!v || '请输入模板名称']\"\n            required\n          ></v-text-field>\n\n          <v-select\n            v-model=\"formData.category\"\n            :items=\"categories\"\n            item-title=\"name\"\n            item-value=\"id\"\n            label=\"选择分类\"\n            :rules=\"[v => !!v || '请选择分类']\"\n            required\n          ></v-select>\n\n          <v-file-input\n            v-model=\"formData.thumbnail\"\n            label=\"缩略图\"\n            accept=\"image/*\"\n            :rules=\"[v => !!v || '请上传缩略图']\"\n            required\n          ></v-file-input>\n\n          <v-textarea\n            v-model=\"formData.description\"\n            label=\"模板描述\"\n            :rules=\"[v => !!v || '请输入模板描述']\"\n            required\n          ></v-textarea>\n\n          <v-switch\n            v-model=\"formData.is_vip\"\n            label=\"VIP模板\"\n            color=\"primary\"\n          ></v-switch>\n        </v-form>\n      </v-card-text>\n      <v-card-actions>\n        <v-spacer></v-spacer>\n        <v-btn color=\"grey-darken-1\" variant=\"text\" @click=\"dialog = false\">\n          取消\n        </v-btn>\n        <v-btn\n          color=\"primary\"\n          variant=\"text\"\n          :loading=\"loading\"\n          :disabled=\"!valid\"\n          @click=\"handleSave\"\n        >\n          保存\n        </v-btn>\n      </v-card-actions>\n    </v-card>\n  </v-dialog>\n</template>\n\n<script setup>\nimport { ref, watch } from 'vue'\nimport { useTemplateStore } from '@/stores/template'\n\nconst props = defineProps({\n  modelValue: Boolean\n})\n\nconst emit = defineEmits(['update:modelValue', 'save'])\n\n// 表单数据\nconst form = ref(null)\nconst valid = ref(false)\nconst loading = ref(false)\nconst formData = ref({\n  name: '',\n  category: null,\n  thumbnail: null,\n  description: '',\n  is_vip: false\n})\n\n// 模板分类\nconst templateStore = useTemplateStore()\nconst categories = ref([])\n\n// 获取分类数据\nconst fetchCategories = async () => {\n  try {\n    const data = await templateStore.getCategories()\n    categories.value = data\n  } catch (error) {\n    console.error('获取分类失败:', error)\n  }\n}\n\n// 对话框显示状态\nconst dialog = ref(false)\nwatch(() => props.modelValue, (val) => {\n  dialog.value = val\n})\nwatch(dialog, (val) => {\n  emit('update:modelValue', val)\n  if (!val) {\n    // 重置表单\n    form.value?.reset()\n    formData.value = {\n      name: '',\n      category: null,\n      thumbnail: null,\n      description: '',\n      is_vip: false\n    }\n  }\n})\n\n// 保存模板\nconst handleSave = async () => {\n  if (!form.value?.validate()) return\n\n  loading.value = true\n  try {\n    emit('save', formData.value)\n  } catch (error) {\n    console.error('保存失败:', error)\n  } finally {\n    loading.value = false\n  }\n}\n\n// 初始化时获取分类数据\nfetchCategories()\n</script> "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}