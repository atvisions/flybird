{"ast":null,"code":"import { useCssVars as _useCssVars, unref as _unref } from 'vue';\nimport { useDragDrop } from '../composables/useDragDrop';\nexport default {\n  __name: 'Canvas',\n  props: {\n    scale: {\n      type: Number,\n      required: true\n    }\n  },\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    _useCssVars(_ctx => ({\n      \"6e1f5d36-scale\\ \\>\\=\\ 1\\ \\?\\ \\\"auto\\\"\\ \\:\\ \\\"hidden\\\"\": __props.scale >= 1 ? \"auto\" : \"hidden\",\n      \"6e1f5d36-scale\\ \\>\\=\\ 1\\ \\?\\ \\\"40px\\\"\\ \\:\\ \\\"0\\\"\": __props.scale >= 1 ? \"40px\" : \"0\"\n    }));\n    const props = __props;\n    const {\n      currentLayout,\n      handleDragEnter,\n      handleDragLeave,\n      handleDragOver,\n      handleDrop\n    } = useDragDrop();\n    const __returned__ = {\n      props,\n      currentLayout,\n      handleDragEnter,\n      handleDragLeave,\n      handleDragOver,\n      handleDrop,\n      get useDragDrop() {\n        return useDragDrop;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["useDragDrop","props","__props","currentLayout","handleDragEnter","handleDragLeave","handleDragOver","handleDrop"],"sources":["/Users/liuzhao/Documents/Projects/flybird/flybird-web/src/views/resume-editor/components/Canvas.vue"],"sourcesContent":["<template>\n  <v-card class=\"h-100\">\n    <v-card-text class=\"fill-height d-flex align-center justify-center pa-0\">\n      <div class=\"canvas-container\">\n        <div class=\"canvas-wrapper\">\n          <div class=\"canvas-content\" \n            :style=\"{ transform: `scale(${scale})` }\"\n            @dragenter=\"handleDragEnter\"\n            @dragleave=\"handleDragLeave\"\n            @dragover=\"handleDragOver\"\n            @drop=\"handleDrop\">\n            <template v-if=\"!currentLayout\">\n              <div class=\"canvas-placeholder\">\n                <v-icon size=\"48\" color=\"rgba(0,0,0,0.2)\" class=\"mb-4\">mdi-file-document-outline</v-icon>\n                <div class=\"text-body-1 text-medium-emphasis\">拖拽布局到此处开始设计</div>\n              </div>\n            </template>\n            <template v-else-if=\"currentLayout.config?.layout\">\n              <div class=\"resume-layout\" :class=\"currentLayout.config.layout.type\">\n                <div v-for=\"i in currentLayout.config.layout.columns\" \n                  :key=\"i\" \n                  class=\"layout-column\"\n                  :style=\"{ gap: currentLayout.config.layout.gap }\">\n                  <!-- 列占位符 -->\n                  <div class=\"column-placeholder\">\n                    <v-icon size=\"24\" color=\"rgba(0,0,0,0.2)\">mdi-plus</v-icon>\n                    <div class=\"text-caption text-medium-emphasis\">拖拽组件到此处</div>\n                  </div>\n                </div>\n              </div>\n            </template>\n            <template v-else>\n              <div class=\"canvas-placeholder\">\n                <v-icon size=\"48\" color=\"rgba(0,0,0,0.2)\" class=\"mb-4\">mdi-alert</v-icon>\n                <div class=\"text-body-1 text-medium-emphasis\">布局配置无效</div>\n              </div>\n            </template>\n          </div>\n        </div>\n      </div>\n    </v-card-text>\n  </v-card>\n</template>\n\n<script setup>\nimport { useDragDrop } from '../composables/useDragDrop'\n\nconst props = defineProps({\n  scale: {\n    type: Number,\n    required: true\n  }\n})\n\nconst {\n  currentLayout,\n  handleDragEnter,\n  handleDragLeave,\n  handleDragOver,\n  handleDrop\n} = useDragDrop()\n</script>\n\n<style scoped>\n.canvas-container {\n  width: 100%;\n  height: 100%;\n  overflow: v-bind('scale >= 1 ? \"auto\" : \"hidden\"');\n  background-color: #e0e0e0;\n  border-radius: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  position: relative;\n}\n\n.canvas-wrapper {\n  padding: v-bind('scale >= 1 ? \"40px\" : \"0\"');\n  width: 100%;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n}\n\n.canvas-content {\n  background-color: white;\n  width: 595px; /* A4 纸张宽度 */\n  height: 842px; /* A4 纸张高度 */\n  box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);\n  transform-origin: center center;\n  transition: transform 0.25s cubic-bezier(0.4, 0, 0.2, 1);\n  flex-shrink: 0;\n}\n\n.canvas-placeholder {\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  background-color: rgba(0, 0, 0, 0.02);\n  border: 2px dashed rgba(0, 0, 0, 0.1);\n  border-radius: 8px;\n  transition: all 0.3s;\n}\n\n.drag-over {\n  background-color: rgba(24, 103, 192, 0.05);\n  border-color: rgba(24, 103, 192, 0.3);\n}\n\n.resume-layout {\n  width: 100%;\n  height: 100%;\n  display: flex;\n  gap: 1rem;\n  padding: 1rem;\n\n  &.single {\n    flex-direction: column;\n  }\n\n  &.double {\n    .layout-column {\n      width: 50%;\n    }\n  }\n\n  &.triple {\n    .layout-column {\n      width: 33.33%;\n    }\n  }\n}\n\n.layout-column {\n  display: flex;\n  flex-direction: column;\n  min-height: 100%;\n  background-color: rgba(0, 0, 0, 0.02);\n  border: 2px dashed rgba(0, 0, 0, 0.1);\n  border-radius: 8px;\n  padding: 1rem;\n  transition: all 0.3s;\n\n  &.drag-over {\n    background-color: rgba(24, 103, 192, 0.05);\n    border-color: rgba(24, 103, 192, 0.3);\n  }\n}\n\n.column-placeholder {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  min-height: 100px;\n  color: rgba(0, 0, 0, 0.4);\n}\n</style> "],"mappings":";AA6CA,SAASA,WAAW,QAAQ,4BAA2B;;;;;;;;;;;;;;;;;IAEvD,MAAMC,KAAK,GAAGC,OAAA;IAOd,MAAM;MACJC,aAAa;MACbC,eAAe;MACfC,eAAe;MACfC,cAAc;MACdC;IACF,CAAC,GAAGP,WAAW,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}