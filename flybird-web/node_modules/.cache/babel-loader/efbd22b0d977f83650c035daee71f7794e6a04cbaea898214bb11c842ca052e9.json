{"ast":null,"code":"import { defineStore } from 'pinia';\nimport { ref } from 'vue';\nimport { getTemplate, saveTemplate as apiSaveTemplate, publishTemplate as apiPublishTemplate } from '@/api/resume';\nexport const useTemplateStore = defineStore('template-editor', () => {\n  // 状态\n  const currentTemplate = ref(null);\n  const loading = ref(false);\n  const error = ref(null);\n\n  // actions\n  const getTemplate = async id => {\n    try {\n      loading.value = true;\n      const response = await getTemplate(id);\n      currentTemplate.value = response.data;\n      return response.data;\n    } catch (err) {\n      error.value = err.message;\n      throw err;\n    } finally {\n      loading.value = false;\n    }\n  };\n  const saveTemplate = async templateData => {\n    try {\n      loading.value = true;\n      const response = await apiSaveTemplate(templateData);\n      currentTemplate.value = response.data;\n      return response.data;\n    } catch (err) {\n      error.value = err.message;\n      throw err;\n    } finally {\n      loading.value = false;\n    }\n  };\n  const publishTemplate = async templateId => {\n    try {\n      loading.value = true;\n      const response = await apiPublishTemplate(templateId);\n      currentTemplate.value = response.data;\n      return response.data;\n    } catch (err) {\n      error.value = err.message;\n      throw err;\n    } finally {\n      loading.value = false;\n    }\n  };\n  return {\n    currentTemplate,\n    loading,\n    error,\n    getTemplate,\n    saveTemplate,\n    publishTemplate\n  };\n});","map":{"version":3,"names":["defineStore","ref","getTemplate","saveTemplate","apiSaveTemplate","publishTemplate","apiPublishTemplate","useTemplateStore","currentTemplate","loading","error","id","value","response","data","err","message","templateData","templateId"],"sources":["/Users/liuzhao/Documents/Projects/flybird/flybird-web/src/template-editor/store/template.js"],"sourcesContent":["import { defineStore } from 'pinia'\nimport { ref } from 'vue'\nimport { getTemplate, saveTemplate as apiSaveTemplate, publishTemplate as apiPublishTemplate } from '@/api/resume'\n\nexport const useTemplateStore = defineStore('template-editor', () => {\n  // 状态\n  const currentTemplate = ref(null)\n  const loading = ref(false)\n  const error = ref(null)\n\n  // actions\n  const getTemplate = async (id) => {\n    try {\n      loading.value = true\n      const response = await getTemplate(id)\n      currentTemplate.value = response.data\n      return response.data\n    } catch (err) {\n      error.value = err.message\n      throw err\n    } finally {\n      loading.value = false\n    }\n  }\n\n  const saveTemplate = async (templateData) => {\n    try {\n      loading.value = true\n      const response = await apiSaveTemplate(templateData)\n      currentTemplate.value = response.data\n      return response.data\n    } catch (err) {\n      error.value = err.message\n      throw err\n    } finally {\n      loading.value = false\n    }\n  }\n\n  const publishTemplate = async (templateId) => {\n    try {\n      loading.value = true\n      const response = await apiPublishTemplate(templateId)\n      currentTemplate.value = response.data\n      return response.data\n    } catch (err) {\n      error.value = err.message\n      throw err\n    } finally {\n      loading.value = false\n    }\n  }\n\n  return {\n    currentTemplate,\n    loading,\n    error,\n    getTemplate,\n    saveTemplate,\n    publishTemplate\n  }\n}) "],"mappings":"AAAA,SAASA,WAAW,QAAQ,OAAO;AACnC,SAASC,GAAG,QAAQ,KAAK;AACzB,SAASC,WAAW,EAAEC,YAAY,IAAIC,eAAe,EAAEC,eAAe,IAAIC,kBAAkB,QAAQ,cAAc;AAElH,OAAO,MAAMC,gBAAgB,GAAGP,WAAW,CAAC,iBAAiB,EAAE,MAAM;EACnE;EACA,MAAMQ,eAAe,GAAGP,GAAG,CAAC,IAAI,CAAC;EACjC,MAAMQ,OAAO,GAAGR,GAAG,CAAC,KAAK,CAAC;EAC1B,MAAMS,KAAK,GAAGT,GAAG,CAAC,IAAI,CAAC;;EAEvB;EACA,MAAMC,WAAW,GAAG,MAAOS,EAAE,IAAK;IAChC,IAAI;MACFF,OAAO,CAACG,KAAK,GAAG,IAAI;MACpB,MAAMC,QAAQ,GAAG,MAAMX,WAAW,CAACS,EAAE,CAAC;MACtCH,eAAe,CAACI,KAAK,GAAGC,QAAQ,CAACC,IAAI;MACrC,OAAOD,QAAQ,CAACC,IAAI;IACtB,CAAC,CAAC,OAAOC,GAAG,EAAE;MACZL,KAAK,CAACE,KAAK,GAAGG,GAAG,CAACC,OAAO;MACzB,MAAMD,GAAG;IACX,CAAC,SAAS;MACRN,OAAO,CAACG,KAAK,GAAG,KAAK;IACvB;EACF,CAAC;EAED,MAAMT,YAAY,GAAG,MAAOc,YAAY,IAAK;IAC3C,IAAI;MACFR,OAAO,CAACG,KAAK,GAAG,IAAI;MACpB,MAAMC,QAAQ,GAAG,MAAMT,eAAe,CAACa,YAAY,CAAC;MACpDT,eAAe,CAACI,KAAK,GAAGC,QAAQ,CAACC,IAAI;MACrC,OAAOD,QAAQ,CAACC,IAAI;IACtB,CAAC,CAAC,OAAOC,GAAG,EAAE;MACZL,KAAK,CAACE,KAAK,GAAGG,GAAG,CAACC,OAAO;MACzB,MAAMD,GAAG;IACX,CAAC,SAAS;MACRN,OAAO,CAACG,KAAK,GAAG,KAAK;IACvB;EACF,CAAC;EAED,MAAMP,eAAe,GAAG,MAAOa,UAAU,IAAK;IAC5C,IAAI;MACFT,OAAO,CAACG,KAAK,GAAG,IAAI;MACpB,MAAMC,QAAQ,GAAG,MAAMP,kBAAkB,CAACY,UAAU,CAAC;MACrDV,eAAe,CAACI,KAAK,GAAGC,QAAQ,CAACC,IAAI;MACrC,OAAOD,QAAQ,CAACC,IAAI;IACtB,CAAC,CAAC,OAAOC,GAAG,EAAE;MACZL,KAAK,CAACE,KAAK,GAAGG,GAAG,CAACC,OAAO;MACzB,MAAMD,GAAG;IACX,CAAC,SAAS;MACRN,OAAO,CAACG,KAAK,GAAG,KAAK;IACvB;EACF,CAAC;EAED,OAAO;IACLJ,eAAe;IACfC,OAAO;IACPC,KAAK;IACLR,WAAW;IACXC,YAAY;IACZE;EACF,CAAC;AACH,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}