{"ast":null,"code":"import { createVNode as _createVNode, resolveComponent as _resolveComponent, createCommentVNode as _createCommentVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, resolveDynamicComponent as _resolveDynamicComponent, normalizeClass as _normalizeClass, createBlock as _createBlock, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, withCtx as _withCtx } from \"vue\";\nconst _hoisted_1 = {\n  class: \"min-h-screen bg-gray-50 pb-16 md:pb-0\"\n};\nconst _hoisted_2 = {\n  class: \"fixed bottom-0 left-0 right-0 bg-white border-t lg:hidden safe-area-inset-bottom z-50\"\n};\nconst _hoisted_3 = {\n  class: \"grid grid-cols-5 gap-1\"\n};\nconst _hoisted_4 = [\"onClick\"];\nconst _hoisted_5 = {\n  class: \"text-xs mt-1 truncate\"\n};\nconst _hoisted_6 = {\n  class: \"h-full flex flex-col\"\n};\nconst _hoisted_7 = {\n  class: \"p-4 border-b border-gray-200\"\n};\nconst _hoisted_8 = {\n  class: \"flex items-center justify-between\"\n};\nconst _hoisted_9 = {\n  class: \"flex-1 overflow-y-auto\"\n};\nconst _hoisted_10 = {\n  class: \"px-3 py-4\"\n};\nconst _hoisted_11 = {\n  class: \"space-y-1\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_router_view = _resolveComponent(\"router-view\");\n  const _component_router_link = _resolveComponent(\"router-link\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createVNode($setup[\"HeadView\"]), _createVNode(_component_router_view), _createVNode($setup[\"FooterView\"], {\n    class: \"hidden md:block\"\n  }), _createCommentVNode(\" 移动端底部导航栏 \"), _createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [(_openBlock(), _createElementBlock(_Fragment, null, _renderList($setup.mobileActions, action => {\n    return _createElementVNode(\"button\", {\n      key: action.key,\n      onClick: action.handler,\n      class: _normalizeClass([\"flex flex-col items-center py-2 px-1 relative\", [$setup.isActiveAction(action.key) ? 'text-blue-600' : 'text-gray-500']])\n    }, [(_openBlock(), _createBlock(_resolveDynamicComponent(action.icon), {\n      class: _normalizeClass([\"w-6 h-6\", $setup.isActiveAction(action.key) ? 'text-blue-600' : 'text-gray-500'])\n    }, null, 8 /* PROPS */, [\"class\"])), _createElementVNode(\"span\", _hoisted_5, _toDisplayString(action.label), 1 /* TEXT */)], 10 /* CLASS, PROPS */, _hoisted_4);\n  }), 64 /* STABLE_FRAGMENT */))])]), _createCommentVNode(\" 移动端更多菜单抽屉的遮罩层 \"), $setup.isMobileMenuOpen ? (_openBlock(), _createElementBlock(\"div\", {\n    key: 0,\n    class: \"fixed inset-0 bg-black bg-opacity-25 z-[60] lg:hidden\",\n    onClick: _cache[0] || (_cache[0] = $event => $setup.isMobileMenuOpen = false)\n  })) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" 移动端更多菜单抽屉 \"), _createElementVNode(\"div\", {\n    class: _normalizeClass(['fixed inset-y-0 left-0 w-64 bg-white shadow-xl z-[70] transform transition-transform duration-300 ease-in-out lg:hidden', $setup.isMobileMenuOpen ? 'translate-x-0' : '-translate-x-full'])\n  }, [_createElementVNode(\"div\", _hoisted_6, [_createElementVNode(\"div\", _hoisted_7, [_createElementVNode(\"div\", _hoisted_8, [_cache[3] || (_cache[3] = _createElementVNode(\"h2\", {\n    class: \"text-lg font-medium text-gray-900\"\n  }, \"更多功能\", -1 /* HOISTED */)), _createElementVNode(\"button\", {\n    onClick: _cache[1] || (_cache[1] = $event => $setup.isMobileMenuOpen = false),\n    class: \"text-gray-500\"\n  }, [_createVNode($setup[\"XMarkIcon\"], {\n    class: \"w-6 h-6\"\n  })])])]), _createElementVNode(\"div\", _hoisted_9, [_createElementVNode(\"div\", _hoisted_10, [_createElementVNode(\"div\", _hoisted_11, [(_openBlock(), _createElementBlock(_Fragment, null, _renderList($setup.mainTabs, tab => {\n    return _createVNode(_component_router_link, {\n      key: tab.path,\n      to: tab.path,\n      class: _normalizeClass([\"group flex items-center w-full px-3 py-2 text-sm font-medium rounded-md\", [$setup.route.path === tab.path ? 'bg-blue-50 text-blue-600' : 'text-gray-600 hover:bg-gray-50 hover:text-gray-900']]),\n      onClick: _cache[2] || (_cache[2] = $event => $setup.isMobileMenuOpen = false)\n    }, {\n      default: _withCtx(() => [(_openBlock(), _createBlock(_resolveDynamicComponent(tab.icon), {\n        class: _normalizeClass([\"mr-3 h-6 w-6\", $setup.route.path === tab.path ? 'text-blue-600' : 'text-gray-400'])\n      }, null, 8 /* PROPS */, [\"class\"])), _createTextVNode(\" \" + _toDisplayString(tab.name), 1 /* TEXT */)]),\n      _: 2 /* DYNAMIC */\n    }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"to\", \"class\"]);\n  }), 64 /* STABLE_FRAGMENT */))])])])])], 2 /* CLASS */), _createCommentVNode(\" 移动端浮动发布按钮 \"), _createElementVNode(\"button\", {\n    class: \"fixed right-4 bottom-20 md:hidden bg-blue-500 text-white rounded-full p-3 shadow-lg hover:bg-blue-600 transition-colors z-50\",\n    onClick: $setup.handlePublish\n  }, [_createVNode($setup[\"PlusIcon\"], {\n    class: \"w-6 h-6\"\n  })])]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","_createVNode","$setup","_component_router_view","_createCommentVNode","_createElementVNode","_hoisted_2","_hoisted_3","_Fragment","_renderList","mobileActions","action","key","onClick","handler","_normalizeClass","isActiveAction","_createBlock","_resolveDynamicComponent","icon","_hoisted_5","_toDisplayString","label","_hoisted_4","isMobileMenuOpen","_cache","$event","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","mainTabs","tab","_component_router_link","path","to","route","default","_withCtx","_createTextVNode","name","_","handlePublish"],"sources":["/Users/liuzhao/Documents/Projects/flybird/flybird-web/src/views/community/CommunityView.vue"],"sourcesContent":["<template>\n  <div class=\"min-h-screen bg-gray-50 pb-16 md:pb-0\">\n    <HeadView />\n    <router-view></router-view>\n    <FooterView class=\"hidden md:block\" />\n\n    <!-- 移动端底部导航栏 -->\n    <div class=\"fixed bottom-0 left-0 right-0 bg-white border-t lg:hidden safe-area-inset-bottom z-50\">\n      <div class=\"grid grid-cols-5 gap-1\">\n        <button\n          v-for=\"action in mobileActions\"\n          :key=\"action.key\"\n          @click=\"action.handler\"\n          class=\"flex flex-col items-center py-2 px-1 relative\"\n          :class=\"[\n            isActiveAction(action.key)\n              ? 'text-blue-600'\n              : 'text-gray-500'\n          ]\"\n        >\n          <component \n            :is=\"action.icon\" \n            class=\"w-6 h-6\"\n            :class=\"isActiveAction(action.key) ? 'text-blue-600' : 'text-gray-500'\"\n          />\n          <span class=\"text-xs mt-1 truncate\">{{ action.label }}</span>\n        </button>\n      </div>\n    </div>\n\n    <!-- 移动端更多菜单抽屉的遮罩层 -->\n    <div \n      v-if=\"isMobileMenuOpen\" \n      class=\"fixed inset-0 bg-black bg-opacity-25 z-[60] lg:hidden\"\n      @click=\"isMobileMenuOpen = false\"\n    />\n    \n    <!-- 移动端更多菜单抽屉 -->\n    <div \n      :class=\"[\n        'fixed inset-y-0 left-0 w-64 bg-white shadow-xl z-[70] transform transition-transform duration-300 ease-in-out lg:hidden',\n        isMobileMenuOpen ? 'translate-x-0' : '-translate-x-full'\n      ]\"\n    >\n      <div class=\"h-full flex flex-col\">\n        <div class=\"p-4 border-b border-gray-200\">\n          <div class=\"flex items-center justify-between\">\n            <h2 class=\"text-lg font-medium text-gray-900\">更多功能</h2>\n            <button \n              @click=\"isMobileMenuOpen = false\"\n              class=\"text-gray-500\"\n            >\n              <XMarkIcon class=\"w-6 h-6\" />\n            </button>\n          </div>\n        </div>\n        \n        <div class=\"flex-1 overflow-y-auto\">\n          <div class=\"px-3 py-4\">\n            <div class=\"space-y-1\">\n              <router-link\n                v-for=\"tab in mainTabs\"\n                :key=\"tab.path\"\n                :to=\"tab.path\"\n                class=\"group flex items-center w-full px-3 py-2 text-sm font-medium rounded-md\"\n                :class=\"[\n                  route.path === tab.path\n                    ? 'bg-blue-50 text-blue-600'\n                    : 'text-gray-600 hover:bg-gray-50 hover:text-gray-900'\n                ]\"\n                @click=\"isMobileMenuOpen = false\"\n              >\n                <component\n                  :is=\"tab.icon\"\n                  class=\"mr-3 h-6 w-6\"\n                  :class=\"route.path === tab.path ? 'text-blue-600' : 'text-gray-400'\"\n                />\n                {{ tab.name }}\n              </router-link>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <!-- 移动端浮动发布按钮 -->\n    <button \n      class=\"fixed right-4 bottom-20 md:hidden bg-blue-500 text-white rounded-full p-3 shadow-lg hover:bg-blue-600 transition-colors z-50\"\n      @click=\"handlePublish\"\n    >\n      <PlusIcon class=\"w-6 h-6\" />\n    </button>\n  </div>\n</template>\n\n<script setup>\nimport { ref, computed } from 'vue'\nimport { useRoute, useRouter } from 'vue-router'\nimport HeadView from '@/components/HeadView.vue'\nimport FooterView from '@/components/FooterView.vue'\nimport {\n  DocumentTextIcon,\n  QuestionMarkCircleIcon,\n  ScaleIcon,\n  HomeIcon,\n  UserIcon,\n  Bars3Icon,\n  XMarkIcon,\n  PlusIcon,\n  DocumentIcon,\n  EnvelopeIcon,\n  Cog6ToothIcon\n} from '@heroicons/vue/24/outline'\n\nconst route = useRoute()\nconst router = useRouter()\nconst isMobileMenuOpen = ref(false)\n\n// 主导航标签\nconst mainTabs = [\n  { \n    name: '文章', \n    path: '/community/articles', \n    icon: DocumentTextIcon \n  },\n  { \n    name: '问答', \n    path: '/community/questions', \n    icon: QuestionMarkCircleIcon \n  },\n  { \n    name: '话题', \n    path: '/community/topics', \n    icon: ScaleIcon \n  }\n]\n\n// 移动端底部导航按钮\nconst mobileActions = [\n  {\n    key: 'more',\n    label: '更多',\n    icon: Bars3Icon,\n    handler: () => { \n      isMobileMenuOpen.value = true \n    }\n  },\n  {\n    key: 'profile',\n    label: '档案',\n    icon: UserIcon,\n    handler: () => router.push('/user?tab=profile')\n  },\n  {\n    key: 'resumes',\n    label: '简历',\n    icon: DocumentIcon,\n    handler: () => router.push('/user?tab=resumes')\n  },\n  {\n    key: 'messages',\n    label: '消息',\n    icon: EnvelopeIcon,\n    handler: () => router.push('/user?tab=messages'),\n    badge: messageBadge\n  },\n  {\n    key: 'settings',\n    label: '设置',\n    icon: Cog6ToothIcon,\n    handler: () => router.push('/user?tab=account')\n  }\n]\n\n// 添加消息角标计算属性\nconst messageBadge = computed(() => unreadMessagesCount.value)\nconst unreadMessagesCount = ref(0) // 你需要从store或API获取实际的未读消息数量\n\n// 修改判断当前激活的导航项逻辑\nconst isActiveAction = (key) => {\n  if (key === 'more') return false\n  if (key === 'profile') return route.path.includes('user') && route.query.tab === 'profile'\n  if (key === 'resumes') return route.path.includes('user') && route.query.tab === 'resumes'\n  if (key === 'messages') return route.path.includes('user') && route.query.tab === 'messages'\n  if (key === 'settings') return route.path.includes('user') && route.query.tab === 'account'\n  return false\n}\n\n// 处理发布按钮点击\nconst handlePublish = () => {\n  const path = route.path\n  if (path.includes('articles')) {\n    router.push('/community/articles/publish')\n  } else if (path.includes('questions')) {\n    router.push('/community/questions/publish')\n  } else {\n    router.push('/community/articles/publish')\n  }\n}\n</script>\n\n<style scoped>\n.safe-area-inset-bottom {\n  padding-bottom: env(safe-area-inset-bottom);\n}\n\n@supports (padding-bottom: env(safe-area-inset-bottom)) {\n  .pb-16 {\n    padding-bottom: calc(4rem + env(safe-area-inset-bottom));\n  }\n}\n</style> "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}