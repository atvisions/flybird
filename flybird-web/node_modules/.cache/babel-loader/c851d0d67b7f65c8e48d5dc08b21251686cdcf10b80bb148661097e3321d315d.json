{"ast":null,"code":"import { ref, computed } from 'vue';\n\n// 模拟的存储空间信息\n\nexport default {\n  __name: 'MyPortfolio',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const storageInfo = ref({\n      usedSpace: 256 * 1024 * 1024,\n      // 256MB\n      totalSpace: 1024 * 1024 * 1024,\n      // 1GB\n      portfolios: [{\n        id: 1,\n        name: '产品设计作品',\n        description: '包含个人完成的产品设计案例',\n        cover: 'https://images.unsplash.com/photo-1561070791-2526d30994b5?q=80&w=800',\n        imageCount: 12,\n        updatedAt: new Date('2024-01-15')\n      }, {\n        id: 2,\n        name: 'UI 设计作品',\n        description: '移动端与网页端界面设计',\n        cover: 'https://images.unsplash.com/photo-1581291518857-4e27b48ff24e?q=80&w=800',\n        imageCount: 8,\n        updatedAt: new Date('2024-02-01')\n      }, {\n        id: 3,\n        name: '平面设计作品',\n        description: '品牌视觉与海报设计',\n        cover: 'https://images.unsplash.com/photo-1626785774573-4b799315345d?q=80&w=800',\n        imageCount: 6,\n        updatedAt: new Date('2024-02-20')\n      }]\n    });\n\n    // 计算存储空间使用百分比\n    const spaceUsagePercentage = computed(() => {\n      if (!storageInfo.value) return 0;\n      return Math.round(storageInfo.value.usedSpace / storageInfo.value.totalSpace * 100);\n    });\n\n    // 格式化存储空间\n    const formatStorage = bytes => {\n      const units = ['B', 'KB', 'MB', 'GB'];\n      let size = bytes;\n      let unitIndex = 0;\n      while (size >= 1024 && unitIndex < units.length - 1) {\n        size /= 1024;\n        unitIndex++;\n      }\n      return `${size.toFixed(1)}${units[unitIndex]}`;\n    };\n\n    // 格式化日期\n    const formatDate = date => {\n      const d = new Date(date);\n      return `${d.getMonth() + 1}月${d.getDate()}日`;\n    };\n\n    // 创建新作品集 - 暂时只是添加到本地数据\n    const handleCreatePortfolio = () => {\n      const newPortfolio = {\n        id: storageInfo.value.portfolios.length + 1,\n        name: '新作品集',\n        description: '请添加作品集描述',\n        cover: 'https://images.unsplash.com/photo-1626785774625-ddcddc3445e9?q=80&w=800',\n        imageCount: 0,\n        updatedAt: new Date()\n      };\n      storageInfo.value.portfolios.push(newPortfolio);\n    };\n    const __returned__ = {\n      storageInfo,\n      spaceUsagePercentage,\n      formatStorage,\n      formatDate,\n      handleCreatePortfolio,\n      ref,\n      computed\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","computed","storageInfo","usedSpace","totalSpace","portfolios","id","name","description","cover","imageCount","updatedAt","Date","spaceUsagePercentage","value","Math","round","formatStorage","bytes","units","size","unitIndex","length","toFixed","formatDate","date","d","getMonth","getDate","handleCreatePortfolio","newPortfolio","push"],"sources":["/Users/liuzhao/Documents/Projects/flybird/flybird-web/src/views/user/MyProfile/components/MyPortfolio.vue"],"sourcesContent":["<template>\n  <div class=\"space-y-6\">\n    <!-- 存储空间使用情况 -->\n    <div class=\"bg-slate-50/70 rounded-lg p-4\">\n      <div class=\"flex items-center justify-between mb-3\">\n        <div class=\"flex items-center space-x-2\">\n          <svg class=\"w-5 h-5 text-gray-400\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\">\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\"\n              d=\"M4 7v10c0 2.21 3.582 4 8 4s8-1.79 8-4V7M4 7c0 2.21 3.582 4 8 4s8-1.79 8-4M4 7c0-2.21 3.582-4 8-4s8 1.79 8 4m0 5c0 2.21-3.582 4-8 4s-8-1.79-8-4\" />\n          </svg>\n          <span class=\"text-sm font-medium text-gray-700\">存储空间</span>\n        </div>\n        <span class=\"text-sm text-gray-500\" v-if=\"storageInfo\">\n          {{ formatStorage(storageInfo.usedSpace) }}/{{ formatStorage(storageInfo.totalSpace) }}\n        </span>\n      </div>\n      <div class=\"w-full h-1.5 bg-gray-100 rounded-full overflow-hidden\">\n        <div class=\"h-full bg-gradient-to-r from-indigo-500 to-violet-500 transition-all duration-1000 ease-out\"\n          :style=\"{ width: `${spaceUsagePercentage}%` }\">\n        </div>\n      </div>\n    </div>\n\n    <!-- 作品集列表 -->\n    <div v-if=\"storageInfo?.portfolios\" class=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4\">\n      <div v-for=\"portfolio in storageInfo.portfolios\" :key=\"portfolio.id\"\n        class=\"group relative bg-white rounded-xl shadow-sm hover:shadow-md transition-all duration-300\">\n        <!-- 作品集封面 -->\n        <div class=\"aspect-[4/3] rounded-t-xl overflow-hidden\">\n          <img :src=\"portfolio.cover\" :alt=\"portfolio.name\"\n            class=\"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500\" />\n        </div>\n        \n        <!-- 作品集信息 -->\n        <div class=\"p-4\">\n          <div class=\"flex items-start justify-between\">\n            <div>\n              <h3 class=\"text-base font-medium text-gray-900 group-hover:text-indigo-600 transition-colors\">\n                {{ portfolio.name }}\n              </h3>\n              <p class=\"mt-1 text-sm text-gray-500\">{{ portfolio.description }}</p>\n            </div>\n            <!-- 更多操作按钮 -->\n            <button class=\"p-1 text-gray-400 hover:text-gray-600 transition-colors\">\n              <svg class=\"w-5 h-5\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n                <path d=\"M10 6a2 2 0 110-4 2 2 0 010 4zM10 12a2 2 0 110-4 2 2 0 010 4zM10 18a2 2 0 110-4 2 2 0 010 4z\" />\n              </svg>\n            </button>\n          </div>\n          \n          <!-- 作品集统计 -->\n          <div class=\"mt-3 flex items-center space-x-4 text-sm text-gray-500\">\n            <span class=\"flex items-center\">\n              <svg class=\"w-4 h-4 mr-1\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n                <path d=\"M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z\" />\n              </svg>\n              {{ portfolio.imageCount }} 张图片\n            </span>\n            <span class=\"flex items-center\">\n              <svg class=\"w-4 h-4 mr-1\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n                <path fill-rule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z\" clip-rule=\"evenodd\" />\n              </svg>\n              {{ formatDate(portfolio.updatedAt) }}\n            </span>\n          </div>\n        </div>\n      </div>\n\n      <!-- 创建新作品集按钮 -->\n      <button @click=\"handleCreatePortfolio\"\n        class=\"group relative flex flex-col items-center justify-center h-full min-h-[200px] rounded-xl border-2 border-dashed border-gray-200 hover:border-indigo-200 bg-slate-50/50 hover:bg-white transition-all duration-300\">\n        <div class=\"p-2 rounded-lg bg-indigo-50 group-hover:bg-indigo-100 transition-colors\">\n          <svg class=\"w-6 h-6 text-indigo-500\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\">\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\" d=\"M12 4v16m8-8H4\" />\n          </svg>\n        </div>\n        <span class=\"mt-3 text-sm font-medium text-gray-900\">创建新作品集</span>\n        <span class=\"mt-1 text-sm text-gray-500\">上传并整理您的作品</span>\n      </button>\n    </div>\n\n    <!-- 加载状态 -->\n    <div v-else class=\"py-12 text-center\">\n      <div class=\"inline-block animate-spin rounded-full h-8 w-8 border-4 border-gray-200 border-t-indigo-500\"></div>\n      <p class=\"mt-4 text-sm text-gray-500\">加载中...</p>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { ref, computed } from 'vue'\n\n// 模拟的存储空间信息\nconst storageInfo = ref({\n  usedSpace: 256 * 1024 * 1024, // 256MB\n  totalSpace: 1024 * 1024 * 1024, // 1GB\n  portfolios: [\n    {\n      id: 1,\n      name: '产品设计作品',\n      description: '包含个人完成的产品设计案例',\n      cover: 'https://images.unsplash.com/photo-1561070791-2526d30994b5?q=80&w=800',\n      imageCount: 12,\n      updatedAt: new Date('2024-01-15')\n    },\n    {\n      id: 2,\n      name: 'UI 设计作品',\n      description: '移动端与网页端界面设计',\n      cover: 'https://images.unsplash.com/photo-1581291518857-4e27b48ff24e?q=80&w=800',\n      imageCount: 8,\n      updatedAt: new Date('2024-02-01')\n    },\n    {\n      id: 3,\n      name: '平面设计作品',\n      description: '品牌视觉与海报设计',\n      cover: 'https://images.unsplash.com/photo-1626785774573-4b799315345d?q=80&w=800',\n      imageCount: 6,\n      updatedAt: new Date('2024-02-20')\n    }\n  ]\n})\n\n// 计算存储空间使用百分比\nconst spaceUsagePercentage = computed(() => {\n  if (!storageInfo.value) return 0\n  return Math.round((storageInfo.value.usedSpace / storageInfo.value.totalSpace) * 100)\n})\n\n// 格式化存储空间\nconst formatStorage = (bytes) => {\n  const units = ['B', 'KB', 'MB', 'GB']\n  let size = bytes\n  let unitIndex = 0\n  \n  while (size >= 1024 && unitIndex < units.length - 1) {\n    size /= 1024\n    unitIndex++\n  }\n  \n  return `${size.toFixed(1)}${units[unitIndex]}`\n}\n\n// 格式化日期\nconst formatDate = (date) => {\n  const d = new Date(date)\n  return `${d.getMonth() + 1}月${d.getDate()}日`\n}\n\n// 创建新作品集 - 暂时只是添加到本地数据\nconst handleCreatePortfolio = () => {\n  const newPortfolio = {\n    id: storageInfo.value.portfolios.length + 1,\n    name: '新作品集',\n    description: '请添加作品集描述',\n    cover: 'https://images.unsplash.com/photo-1626785774625-ddcddc3445e9?q=80&w=800',\n    imageCount: 0,\n    updatedAt: new Date()\n  }\n  storageInfo.value.portfolios.push(newPortfolio)\n}\n</script>"],"mappings":"AA0FA,SAASA,GAAG,EAAEC,QAAQ,QAAQ,KAAI;;AAElC;;;;;;;;IACA,MAAMC,WAAW,GAAGF,GAAG,CAAC;MACtBG,SAAS,EAAE,GAAG,GAAG,IAAI,GAAG,IAAI;MAAE;MAC9BC,UAAU,EAAE,IAAI,GAAG,IAAI,GAAG,IAAI;MAAE;MAChCC,UAAU,EAAE,CACV;QACEC,EAAE,EAAE,CAAC;QACLC,IAAI,EAAE,QAAQ;QACdC,WAAW,EAAE,eAAe;QAC5BC,KAAK,EAAE,sEAAsE;QAC7EC,UAAU,EAAE,EAAE;QACdC,SAAS,EAAE,IAAIC,IAAI,CAAC,YAAY;MAClC,CAAC,EACD;QACEN,EAAE,EAAE,CAAC;QACLC,IAAI,EAAE,SAAS;QACfC,WAAW,EAAE,aAAa;QAC1BC,KAAK,EAAE,yEAAyE;QAChFC,UAAU,EAAE,CAAC;QACbC,SAAS,EAAE,IAAIC,IAAI,CAAC,YAAY;MAClC,CAAC,EACD;QACEN,EAAE,EAAE,CAAC;QACLC,IAAI,EAAE,QAAQ;QACdC,WAAW,EAAE,WAAW;QACxBC,KAAK,EAAE,yEAAyE;QAChFC,UAAU,EAAE,CAAC;QACbC,SAAS,EAAE,IAAIC,IAAI,CAAC,YAAY;MAClC;IAEJ,CAAC;;IAED;IACA,MAAMC,oBAAoB,GAAGZ,QAAQ,CAAC,MAAM;MAC1C,IAAI,CAACC,WAAW,CAACY,KAAK,EAAE,OAAO;MAC/B,OAAOC,IAAI,CAACC,KAAK,CAAEd,WAAW,CAACY,KAAK,CAACX,SAAS,GAAGD,WAAW,CAACY,KAAK,CAACV,UAAU,GAAI,GAAG;IACtF,CAAC;;IAED;IACA,MAAMa,aAAa,GAAIC,KAAK,IAAK;MAC/B,MAAMC,KAAK,GAAG,CAAC,GAAG,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI;MACpC,IAAIC,IAAI,GAAGF,KAAI;MACf,IAAIG,SAAS,GAAG;MAEhB,OAAOD,IAAI,IAAI,IAAI,IAAIC,SAAS,GAAGF,KAAK,CAACG,MAAM,GAAG,CAAC,EAAE;QACnDF,IAAI,IAAI,IAAG;QACXC,SAAS,EAAC;MACZ;MAEA,OAAO,GAAGD,IAAI,CAACG,OAAO,CAAC,CAAC,CAAC,GAAGJ,KAAK,CAACE,SAAS,CAAC,EAAC;IAC/C;;IAEA;IACA,MAAMG,UAAU,GAAIC,IAAI,IAAK;MAC3B,MAAMC,CAAC,GAAG,IAAId,IAAI,CAACa,IAAI;MACvB,OAAO,GAAGC,CAAC,CAACC,QAAQ,CAAC,CAAC,GAAG,CAAC,IAAID,CAAC,CAACE,OAAO,CAAC,CAAC,GAAE;IAC7C;;IAEA;IACA,MAAMC,qBAAqB,GAAGA,CAAA,KAAM;MAClC,MAAMC,YAAY,GAAG;QACnBxB,EAAE,EAAEJ,WAAW,CAACY,KAAK,CAACT,UAAU,CAACiB,MAAM,GAAG,CAAC;QAC3Cf,IAAI,EAAE,MAAM;QACZC,WAAW,EAAE,UAAU;QACvBC,KAAK,EAAE,yEAAyE;QAChFC,UAAU,EAAE,CAAC;QACbC,SAAS,EAAE,IAAIC,IAAI,CAAC;MACtB;MACAV,WAAW,CAACY,KAAK,CAACT,UAAU,CAAC0B,IAAI,CAACD,YAAY;IAChD","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}