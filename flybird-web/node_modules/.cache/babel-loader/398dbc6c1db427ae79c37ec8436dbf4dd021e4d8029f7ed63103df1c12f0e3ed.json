{"ast":null,"code":"import \"core-js/modules/esnext.iterator.constructor.js\";\nimport \"core-js/modules/esnext.iterator.find.js\";\nimport { ref, computed } from 'vue';\nimport { useRoute, useRouter } from 'vue-router';\nimport HeadView from '@/components/HeadView.vue';\nimport FooterView from '@/components/FooterView.vue';\nimport { DocumentTextIcon, QuestionMarkCircleIcon, ScaleIcon, HomeIcon, UserIcon, ChevronDownIcon, PlusIcon } from '@heroicons/vue/24/outline';\nexport default {\n  __name: 'CommunityView',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const route = useRoute();\n    const router = useRouter();\n    const showMobileMenu = ref(false);\n\n    // 分离主要导航和\"我的\"标签\n    const mainTabs = [{\n      name: '首页',\n      path: '/community',\n      icon: HomeIcon\n    }, {\n      name: '文章',\n      path: '/community/articles',\n      icon: DocumentTextIcon\n    }, {\n      name: '问答',\n      path: '/community/questions',\n      icon: QuestionMarkCircleIcon\n    }, {\n      name: '话题',\n      path: '/community/topics',\n      icon: ScaleIcon\n    }];\n    const myTab = {\n      name: '我的',\n      path: '/user?tab=creations',\n      icon: UserIcon\n    };\n\n    // 合并所有标签用于移动端菜单\n    const tabs = [...mainTabs, myTab];\n\n    // 获取当前选中的标签\n    const currentTab = computed(() => {\n      return tabs.find(tab => route.path === tab.path) || tabs[0];\n    });\n\n    // 添加发布按钮处理函数\n    const handlePublish = () => {\n      // 根据当前路由决定跳转到发布文章还是发布问题\n      const path = route.path;\n      if (path.includes('articles')) {\n        // 跳转到发布文章页面\n        router.push('/community/articles/publish');\n      } else if (path.includes('questions')) {\n        // 跳转到发布问题页面\n        router.push('/community/questions/publish');\n      } else {\n        // 默认跳转到发布文章页面\n        router.push('/community/articles/publish');\n      }\n    };\n    const __returned__ = {\n      route,\n      router,\n      showMobileMenu,\n      mainTabs,\n      myTab,\n      tabs,\n      currentTab,\n      handlePublish,\n      ref,\n      computed,\n      get useRoute() {\n        return useRoute;\n      },\n      get useRouter() {\n        return useRouter;\n      },\n      HeadView,\n      FooterView,\n      get DocumentTextIcon() {\n        return DocumentTextIcon;\n      },\n      get QuestionMarkCircleIcon() {\n        return QuestionMarkCircleIcon;\n      },\n      get ScaleIcon() {\n        return ScaleIcon;\n      },\n      get HomeIcon() {\n        return HomeIcon;\n      },\n      get UserIcon() {\n        return UserIcon;\n      },\n      get ChevronDownIcon() {\n        return ChevronDownIcon;\n      },\n      get PlusIcon() {\n        return PlusIcon;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","computed","useRoute","useRouter","HeadView","FooterView","DocumentTextIcon","QuestionMarkCircleIcon","ScaleIcon","HomeIcon","UserIcon","ChevronDownIcon","PlusIcon","route","router","showMobileMenu","mainTabs","name","path","icon","myTab","tabs","currentTab","find","tab","handlePublish","includes","push"],"sources":["/Users/liuzhao/Documents/Projects/flybird/flybird-web/src/views/community/CommunityView.vue"],"sourcesContent":["<template>\n  <div class=\"min-h-screen bg-gray-50 pb-16 md:pb-0\">\n    <HeadView />\n\n    <!-- 内容区域 -->\n    <router-view></router-view>\n\n    <FooterView class=\"hidden md:block\" />\n\n    <!-- 移动端底部导航栏 -->\n    <nav class=\"fixed bottom-0 left-0 right-0 bg-white border-t md:hidden\">\n      <div class=\"flex justify-around items-center h-16\">\n        <router-link\n          v-for=\"tab in mainTabs\"\n          :key=\"tab.path\"\n          :to=\"tab.path\"\n          class=\"flex flex-col items-center flex-1 py-1\"\n          :class=\"route.path === tab.path ? 'text-blue-500' : 'text-gray-500'\"\n        >\n          <component :is=\"tab.icon\" class=\"w-6 h-6\" />\n          <span class=\"text-xs mt-1\">{{ tab.name }}</span>\n        </router-link>\n        <router-link\n          :to=\"myTab.path\"\n          class=\"flex flex-col items-center flex-1 py-1\"\n          :class=\"route.path === myTab.path ? 'text-blue-500' : 'text-gray-500'\"\n        >\n          <component :is=\"myTab.icon\" class=\"w-6 h-6\" />\n          <span class=\"text-xs mt-1\">{{ myTab.name }}</span>\n        </router-link>\n      </div>\n    </nav>\n\n    <!-- 移动端浮动发布按钮 -->\n    <button \n      class=\"fixed right-4 bottom-20 md:hidden bg-blue-500 text-white rounded-full p-3 shadow-lg hover:bg-blue-600 transition-colors\"\n      @click=\"handlePublish\"\n    >\n      <PlusIcon class=\"w-6 h-6\" />\n    </button>\n  </div>\n</template>\n\n<script setup>\nimport { ref, computed } from 'vue'\nimport { useRoute, useRouter } from 'vue-router'\nimport HeadView from '@/components/HeadView.vue'\nimport FooterView from '@/components/FooterView.vue'\nimport {\n  DocumentTextIcon,\n  QuestionMarkCircleIcon,\n  ScaleIcon,\n  HomeIcon,\n  UserIcon,\n  ChevronDownIcon,\n  PlusIcon\n} from '@heroicons/vue/24/outline'\n\nconst route = useRoute()\nconst router = useRouter()\nconst showMobileMenu = ref(false)\n\n// 分离主要导航和\"我的\"标签\nconst mainTabs = [\n  { \n    name: '首页', \n    path: '/community', \n    icon: HomeIcon \n  },\n  { \n    name: '文章', \n    path: '/community/articles', \n    icon: DocumentTextIcon \n  },\n  { \n    name: '问答', \n    path: '/community/questions', \n    icon: QuestionMarkCircleIcon \n  },\n  { \n    name: '话题', \n    path: '/community/topics', \n    icon: ScaleIcon \n  }\n]\n\nconst myTab = {\n  name: '我的',\n  path: '/user?tab=creations',\n  icon: UserIcon\n}\n\n// 合并所有标签用于移动端菜单\nconst tabs = [...mainTabs, myTab]\n\n// 获取当前选中的标签\nconst currentTab = computed(() => {\n  return tabs.find(tab => route.path === tab.path) || tabs[0]\n})\n\n// 添加发布按钮处理函数\nconst handlePublish = () => {\n  // 根据当前路由决定跳转到发布文章还是发布问题\n  const path = route.path\n  if (path.includes('articles')) {\n    // 跳转到发布文章页面\n    router.push('/community/articles/publish')\n  } else if (path.includes('questions')) {\n    // 跳转到发布问题页面\n    router.push('/community/questions/publish')\n  } else {\n    // 默认跳转到发布文章页面\n    router.push('/community/articles/publish')\n  }\n}\n</script>\n\n<style scoped>\n/* 添加过渡动画 */\n.rotate-180 {\n  transform: rotate(180deg);\n}\n\n/* 添加底部安全区域的 padding（适配 iPhone） */\n@supports (padding-bottom: env(safe-area-inset-bottom)) {\n  .pb-16 {\n    padding-bottom: calc(4rem + env(safe-area-inset-bottom));\n  }\n  \n  nav {\n    padding-bottom: env(safe-area-inset-bottom);\n  }\n}\n</style> "],"mappings":";;AA4CA,SAASA,GAAG,EAAEC,QAAQ,QAAQ,KAAI;AAClC,SAASC,QAAQ,EAAEC,SAAS,QAAQ,YAAW;AAC/C,OAAOC,QAAQ,MAAM,2BAA0B;AAC/C,OAAOC,UAAU,MAAM,6BAA4B;AACnD,SACEC,gBAAgB,EAChBC,sBAAsB,EACtBC,SAAS,EACTC,QAAQ,EACRC,QAAQ,EACRC,eAAe,EACfC,QAAO,QACF,2BAA0B;;;;;;;IAEjC,MAAMC,KAAK,GAAGX,QAAQ,CAAC;IACvB,MAAMY,MAAM,GAAGX,SAAS,CAAC;IACzB,MAAMY,cAAc,GAAGf,GAAG,CAAC,KAAK;;IAEhC;IACA,MAAMgB,QAAQ,GAAG,CACf;MACEC,IAAI,EAAE,IAAI;MACVC,IAAI,EAAE,YAAY;MAClBC,IAAI,EAAEV;IACR,CAAC,EACD;MACEQ,IAAI,EAAE,IAAI;MACVC,IAAI,EAAE,qBAAqB;MAC3BC,IAAI,EAAEb;IACR,CAAC,EACD;MACEW,IAAI,EAAE,IAAI;MACVC,IAAI,EAAE,sBAAsB;MAC5BC,IAAI,EAAEZ;IACR,CAAC,EACD;MACEU,IAAI,EAAE,IAAI;MACVC,IAAI,EAAE,mBAAmB;MACzBC,IAAI,EAAEX;IACR,EACF;IAEA,MAAMY,KAAK,GAAG;MACZH,IAAI,EAAE,IAAI;MACVC,IAAI,EAAE,qBAAqB;MAC3BC,IAAI,EAAET;IACR;;IAEA;IACA,MAAMW,IAAI,GAAG,CAAC,GAAGL,QAAQ,EAAEI,KAAK;;IAEhC;IACA,MAAME,UAAU,GAAGrB,QAAQ,CAAC,MAAM;MAChC,OAAOoB,IAAI,CAACE,IAAI,CAACC,GAAG,IAAIX,KAAK,CAACK,IAAI,KAAKM,GAAG,CAACN,IAAI,CAAC,IAAIG,IAAI,CAAC,CAAC;IAC5D,CAAC;;IAED;IACA,MAAMI,aAAa,GAAGA,CAAA,KAAM;MAC1B;MACA,MAAMP,IAAI,GAAGL,KAAK,CAACK,IAAG;MACtB,IAAIA,IAAI,CAACQ,QAAQ,CAAC,UAAU,CAAC,EAAE;QAC7B;QACAZ,MAAM,CAACa,IAAI,CAAC,6BAA6B;MAC3C,CAAC,MAAM,IAAIT,IAAI,CAACQ,QAAQ,CAAC,WAAW,CAAC,EAAE;QACrC;QACAZ,MAAM,CAACa,IAAI,CAAC,8BAA8B;MAC5C,CAAC,MAAM;QACL;QACAb,MAAM,CAACa,IAAI,CAAC,6BAA6B;MAC3C;IACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}