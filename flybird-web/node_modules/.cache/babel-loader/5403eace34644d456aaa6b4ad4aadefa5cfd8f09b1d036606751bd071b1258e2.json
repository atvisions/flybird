{"ast":null,"code":"import _objectSpread from \"/Users/liuzhao/Documents/Projects/flybird/flybird-web/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport { ref, watch } from 'vue';\nexport default {\n  __name: 'Projects',\n  props: {\n    config: {\n      type: Object,\n      default: () => ({\n        projects: []\n      })\n    }\n  },\n  emits: ['update:config'],\n  setup(__props, {\n    expose: __expose,\n    emit: __emit\n  }) {\n    __expose();\n    const props = __props;\n    const emit = __emit;\n    const projects = ref(props.config.projects || []);\n    const showTechDialog = ref(false);\n    const newTechnology = ref('');\n    const currentProjectIndex = ref(0);\n\n    // 监听配置变化\n    watch(() => props.config, newConfig => {\n      projects.value = newConfig.projects || [];\n    }, {\n      deep: true\n    });\n\n    // 添加项目\n    const addProject = () => {\n      projects.value.push({\n        name: '',\n        role: '',\n        duration: '',\n        link: '',\n        description: '',\n        responsibilities: '',\n        achievements: '',\n        technologies: []\n      });\n      updateConfig();\n    };\n\n    // 移除项目\n    const removeProject = index => {\n      projects.value.splice(index, 1);\n      updateConfig();\n    };\n\n    // 添加技术\n    const addTechnology = projectIndex => {\n      currentProjectIndex.value = projectIndex;\n      newTechnology.value = '';\n      showTechDialog.value = true;\n    };\n\n    // 确认添加技术\n    const confirmAddTechnology = () => {\n      if (newTechnology.value.trim()) {\n        if (!projects.value[currentProjectIndex.value].technologies) {\n          projects.value[currentProjectIndex.value].technologies = [];\n        }\n        projects.value[currentProjectIndex.value].technologies.push(newTechnology.value.trim());\n        updateConfig();\n      }\n      showTechDialog.value = false;\n    };\n\n    // 移除技术\n    const removeTechnology = (projectIndex, techIndex) => {\n      projects.value[projectIndex].technologies.splice(techIndex, 1);\n      updateConfig();\n    };\n\n    // 更新配置\n    const updateConfig = () => {\n      emit('update:config', _objectSpread(_objectSpread({}, props.config), {}, {\n        projects: projects.value\n      }));\n    };\n    const __returned__ = {\n      props,\n      emit,\n      projects,\n      showTechDialog,\n      newTechnology,\n      currentProjectIndex,\n      addProject,\n      removeProject,\n      addTechnology,\n      confirmAddTechnology,\n      removeTechnology,\n      updateConfig,\n      ref,\n      watch\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","watch","props","__props","emit","__emit","projects","config","showTechDialog","newTechnology","currentProjectIndex","newConfig","value","deep","addProject","push","name","role","duration","link","description","responsibilities","achievements","technologies","updateConfig","removeProject","index","splice","addTechnology","projectIndex","confirmAddTechnology","trim","removeTechnology","techIndex","_objectSpread"],"sources":["/Users/liuzhao/Documents/Projects/flybird/flybird-web/src/views/resume-editor/components/Projects.vue"],"sourcesContent":["<template>\n  <div class=\"projects\">\n    <v-container>\n      <div v-for=\"(project, index) in projects\" :key=\"index\" class=\"project-item\">\n        <div class=\"d-flex align-center justify-space-between mb-2\">\n          <h3 class=\"text-h6\">项目经历 {{ index + 1 }}</h3>\n          <v-btn\n            icon=\"mdi-delete\"\n            size=\"small\"\n            color=\"error\"\n            variant=\"text\"\n            @click=\"removeProject(index)\"\n          ></v-btn>\n        </div>\n        \n        <v-row>\n          <v-col cols=\"12\" md=\"6\">\n            <v-text-field\n              v-model=\"project.name\"\n              label=\"项目名称\"\n              required\n              :rules=\"[v => !!v || '请输入项目名称']\"\n              @input=\"updateConfig\"\n            ></v-text-field>\n          </v-col>\n          <v-col cols=\"12\" md=\"6\">\n            <v-text-field\n              v-model=\"project.role\"\n              label=\"担任角色\"\n              required\n              :rules=\"[v => !!v || '请输入担任角色']\"\n              @input=\"updateConfig\"\n            ></v-text-field>\n          </v-col>\n          <v-col cols=\"12\" md=\"6\">\n            <v-text-field\n              v-model=\"project.duration\"\n              label=\"项目时间\"\n              placeholder=\"例如: 2021.01 - 2021.06\"\n              @input=\"updateConfig\"\n            ></v-text-field>\n          </v-col>\n          <v-col cols=\"12\" md=\"6\">\n            <v-text-field\n              v-model=\"project.link\"\n              label=\"项目链接\"\n              @input=\"updateConfig\"\n            ></v-text-field>\n          </v-col>\n          <v-col cols=\"12\">\n            <v-textarea\n              v-model=\"project.description\"\n              label=\"项目描述\"\n              rows=\"3\"\n              @input=\"updateConfig\"\n            ></v-textarea>\n          </v-col>\n          <v-col cols=\"12\">\n            <v-textarea\n              v-model=\"project.responsibilities\"\n              label=\"主要职责\"\n              rows=\"3\"\n              @input=\"updateConfig\"\n            ></v-textarea>\n          </v-col>\n          <v-col cols=\"12\">\n            <v-textarea\n              v-model=\"project.achievements\"\n              label=\"项目成果\"\n              rows=\"3\"\n              @input=\"updateConfig\"\n            ></v-textarea>\n          </v-col>\n          \n          <!-- 技术栈 -->\n          <v-col cols=\"12\">\n            <div class=\"d-flex align-center mb-2\">\n              <span class=\"text-subtitle-1\">使用技术</span>\n              <v-spacer></v-spacer>\n              <v-btn\n                color=\"primary\"\n                variant=\"text\"\n                size=\"small\"\n                prepend-icon=\"mdi-plus\"\n                @click=\"addTechnology(index)\"\n              >\n                添加技术\n              </v-btn>\n            </div>\n            \n            <div class=\"tech-stack\">\n              <v-chip\n                v-for=\"(tech, techIndex) in project.technologies\"\n                :key=\"techIndex\"\n                class=\"ma-1\"\n                closable\n                @click:close=\"removeTechnology(index, techIndex)\"\n              >\n                {{ tech }}\n              </v-chip>\n            </div>\n            \n            <v-dialog v-model=\"showTechDialog\" max-width=\"400px\">\n              <v-card>\n                <v-card-title>添加技术</v-card-title>\n                <v-card-text>\n                  <v-text-field\n                    v-model=\"newTechnology\"\n                    label=\"技术名称\"\n                    @keyup.enter=\"confirmAddTechnology\"\n                  ></v-text-field>\n                </v-card-text>\n                <v-card-actions>\n                  <v-spacer></v-spacer>\n                  <v-btn color=\"primary\" variant=\"text\" @click=\"confirmAddTechnology\">\n                    确定\n                  </v-btn>\n                </v-card-actions>\n              </v-card>\n            </v-dialog>\n          </v-col>\n        </v-row>\n        \n        <v-divider v-if=\"index < projects.length - 1\" class=\"my-4\"></v-divider>\n      </div>\n\n      <div class=\"text-center mt-4\">\n        <v-btn\n          color=\"primary\"\n          variant=\"text\"\n          prepend-icon=\"mdi-plus\"\n          @click=\"addProject\"\n        >\n          添加项目经历\n        </v-btn>\n      </div>\n    </v-container>\n  </div>\n</template>\n\n<script setup>\nimport { ref, watch } from 'vue'\n\nconst props = defineProps({\n  config: {\n    type: Object,\n    default: () => ({\n      projects: []\n    })\n  }\n})\n\nconst emit = defineEmits(['update:config'])\n\nconst projects = ref(props.config.projects || [])\nconst showTechDialog = ref(false)\nconst newTechnology = ref('')\nconst currentProjectIndex = ref(0)\n\n// 监听配置变化\nwatch(() => props.config, (newConfig) => {\n  projects.value = newConfig.projects || []\n}, { deep: true })\n\n// 添加项目\nconst addProject = () => {\n  projects.value.push({\n    name: '',\n    role: '',\n    duration: '',\n    link: '',\n    description: '',\n    responsibilities: '',\n    achievements: '',\n    technologies: []\n  })\n  updateConfig()\n}\n\n// 移除项目\nconst removeProject = (index) => {\n  projects.value.splice(index, 1)\n  updateConfig()\n}\n\n// 添加技术\nconst addTechnology = (projectIndex) => {\n  currentProjectIndex.value = projectIndex\n  newTechnology.value = ''\n  showTechDialog.value = true\n}\n\n// 确认添加技术\nconst confirmAddTechnology = () => {\n  if (newTechnology.value.trim()) {\n    if (!projects.value[currentProjectIndex.value].technologies) {\n      projects.value[currentProjectIndex.value].technologies = []\n    }\n    projects.value[currentProjectIndex.value].technologies.push(newTechnology.value.trim())\n    updateConfig()\n  }\n  showTechDialog.value = false\n}\n\n// 移除技术\nconst removeTechnology = (projectIndex, techIndex) => {\n  projects.value[projectIndex].technologies.splice(techIndex, 1)\n  updateConfig()\n}\n\n// 更新配置\nconst updateConfig = () => {\n  emit('update:config', {\n    ...props.config,\n    projects: projects.value\n  })\n}\n</script>\n\n<style scoped>\n.projects {\n  padding: 16px;\n}\n\n.project-item {\n  margin-bottom: 24px;\n}\n\n.tech-stack {\n  display: flex;\n  flex-wrap: wrap;\n  gap: 8px;\n  min-height: 40px;\n  padding: 8px;\n  border: 1px solid rgba(0, 0, 0, 0.12);\n  border-radius: 4px;\n}\n</style> "],"mappings":";AA6IA,SAASA,GAAG,EAAEC,KAAK,QAAQ,KAAI;;;;;;;;;;;;;;;;;IAE/B,MAAMC,KAAK,GAAGC,OAAA;IASd,MAAMC,IAAI,GAAGC,MAAA;IAEb,MAAMC,QAAQ,GAAGN,GAAG,CAACE,KAAK,CAACK,MAAM,CAACD,QAAQ,IAAI,EAAE;IAChD,MAAME,cAAc,GAAGR,GAAG,CAAC,KAAK;IAChC,MAAMS,aAAa,GAAGT,GAAG,CAAC,EAAE;IAC5B,MAAMU,mBAAmB,GAAGV,GAAG,CAAC,CAAC;;IAEjC;IACAC,KAAK,CAAC,MAAMC,KAAK,CAACK,MAAM,EAAGI,SAAS,IAAK;MACvCL,QAAQ,CAACM,KAAK,GAAGD,SAAS,CAACL,QAAQ,IAAI,EAAC;IAC1C,CAAC,EAAE;MAAEO,IAAI,EAAE;IAAK,CAAC;;IAEjB;IACA,MAAMC,UAAU,GAAGA,CAAA,KAAM;MACvBR,QAAQ,CAACM,KAAK,CAACG,IAAI,CAAC;QAClBC,IAAI,EAAE,EAAE;QACRC,IAAI,EAAE,EAAE;QACRC,QAAQ,EAAE,EAAE;QACZC,IAAI,EAAE,EAAE;QACRC,WAAW,EAAE,EAAE;QACfC,gBAAgB,EAAE,EAAE;QACpBC,YAAY,EAAE,EAAE;QAChBC,YAAY,EAAE;MAChB,CAAC;MACDC,YAAY,CAAC;IACf;;IAEA;IACA,MAAMC,aAAa,GAAIC,KAAK,IAAK;MAC/BpB,QAAQ,CAACM,KAAK,CAACe,MAAM,CAACD,KAAK,EAAE,CAAC;MAC9BF,YAAY,CAAC;IACf;;IAEA;IACA,MAAMI,aAAa,GAAIC,YAAY,IAAK;MACtCnB,mBAAmB,CAACE,KAAK,GAAGiB,YAAW;MACvCpB,aAAa,CAACG,KAAK,GAAG,EAAC;MACvBJ,cAAc,CAACI,KAAK,GAAG,IAAG;IAC5B;;IAEA;IACA,MAAMkB,oBAAoB,GAAGA,CAAA,KAAM;MACjC,IAAIrB,aAAa,CAACG,KAAK,CAACmB,IAAI,CAAC,CAAC,EAAE;QAC9B,IAAI,CAACzB,QAAQ,CAACM,KAAK,CAACF,mBAAmB,CAACE,KAAK,CAAC,CAACW,YAAY,EAAE;UAC3DjB,QAAQ,CAACM,KAAK,CAACF,mBAAmB,CAACE,KAAK,CAAC,CAACW,YAAY,GAAG,EAAC;QAC5D;QACAjB,QAAQ,CAACM,KAAK,CAACF,mBAAmB,CAACE,KAAK,CAAC,CAACW,YAAY,CAACR,IAAI,CAACN,aAAa,CAACG,KAAK,CAACmB,IAAI,CAAC,CAAC;QACtFP,YAAY,CAAC;MACf;MACAhB,cAAc,CAACI,KAAK,GAAG,KAAI;IAC7B;;IAEA;IACA,MAAMoB,gBAAgB,GAAGA,CAACH,YAAY,EAAEI,SAAS,KAAK;MACpD3B,QAAQ,CAACM,KAAK,CAACiB,YAAY,CAAC,CAACN,YAAY,CAACI,MAAM,CAACM,SAAS,EAAE,CAAC;MAC7DT,YAAY,CAAC;IACf;;IAEA;IACA,MAAMA,YAAY,GAAGA,CAAA,KAAM;MACzBpB,IAAI,CAAC,eAAe,EAAA8B,aAAA,CAAAA,aAAA,KACfhC,KAAK,CAACK,MAAM;QACfD,QAAQ,EAAEA,QAAQ,CAACM;MAAI,EACxB;IACH","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}