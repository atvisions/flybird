{"ast":null,"code":"import \"core-js/modules/esnext.iterator.constructor.js\";\nimport \"core-js/modules/esnext.iterator.filter.js\";\nimport { computed } from 'vue';\nimport { useComponentStore } from '../../store/component';\nexport default {\n  __name: 'ComponentPanel',\n  props: {\n    components: {\n      type: Array,\n      required: true\n    }\n  },\n  emits: ['add-component'],\n  setup(__props, {\n    expose: __expose,\n    emit: __emit\n  }) {\n    __expose();\n    const props = __props;\n    const emit = __emit;\n\n    // 按分类过滤组件\n    const basicComponents = computed(() => props.components.filter(c => c.category === 'basic'));\n    const contentComponents = computed(() => props.components.filter(c => c.category === 'content'));\n\n    // 处理拖拽开始\n    const handleDragStart = component => {\n      // 设置拖拽数据\n      event.dataTransfer.setData('component', JSON.stringify({\n        type: component.type,\n        data: component.demo_data || {},\n        styles: component.styles || {},\n        name: component.name\n      }));\n      // 设置拖拽效果\n      event.dataTransfer.effectAllowed = 'copy';\n    };\n    const __returned__ = {\n      props,\n      emit,\n      basicComponents,\n      contentComponents,\n      handleDragStart,\n      computed,\n      get useComponentStore() {\n        return useComponentStore;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["computed","useComponentStore","props","__props","emit","__emit","basicComponents","components","filter","c","category","contentComponents","handleDragStart","component","event","dataTransfer","setData","JSON","stringify","type","data","demo_data","styles","name","effectAllowed"],"sources":["/Users/liuzhao/Documents/Projects/flybird/flybird-web/src/template-editor/components/panels/ComponentPanel.vue"],"sourcesContent":["<template>\n  <div class=\"component-panel\">\n    <el-tabs>\n      <el-tab-pane label=\"基础组件\">\n        <div class=\"component-list\">\n          <div\n            v-for=\"component in basicComponents\"\n            :key=\"component.type\"\n            class=\"component-item\"\n            draggable=\"true\"\n            @dragstart=\"handleDragStart(component)\"\n          >\n            <el-icon class=\"mr-2\"><component :is=\"component.icon\" /></el-icon>\n            <span>{{ component.name }}</span>\n          </div>\n        </div>\n      </el-tab-pane>\n      <el-tab-pane label=\"内容组件\">\n        <div class=\"component-list\">\n          <div\n            v-for=\"component in contentComponents\"\n            :key=\"component.type\"\n            class=\"component-item\"\n            draggable=\"true\"\n            @dragstart=\"handleDragStart(component)\"\n          >\n            <el-icon class=\"mr-2\"><component :is=\"component.icon\" /></el-icon>\n            <span>{{ component.name }}</span>\n          </div>\n        </div>\n      </el-tab-pane>\n    </el-tabs>\n  </div>\n</template>\n\n<script setup>\nimport { computed } from 'vue'\nimport { useComponentStore } from '../../store/component'\n\nconst props = defineProps({\n  components: {\n    type: Array,\n    required: true\n  }\n})\n\nconst emit = defineEmits(['add-component'])\n\n// 按分类过滤组件\nconst basicComponents = computed(() => \n  props.components.filter(c => c.category === 'basic')\n)\n\nconst contentComponents = computed(() => \n  props.components.filter(c => c.category === 'content')\n)\n\n// 处理拖拽开始\nconst handleDragStart = (component) => {\n  // 设置拖拽数据\n  event.dataTransfer.setData('component', JSON.stringify({\n    type: component.type,\n    data: component.demo_data || {},\n    styles: component.styles || {},\n    name: component.name\n  }))\n  // 设置拖拽效果\n  event.dataTransfer.effectAllowed = 'copy'\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.component-panel {\n  @apply w-64 border-r border-gray-200 bg-white overflow-y-auto;\n  height: calc(100vh - 64px);\n\n  .component-list {\n    @apply p-4;\n  }\n\n  .component-item {\n    @apply flex items-center px-4 py-2 mb-2 rounded cursor-move \n           bg-gray-50 hover:bg-gray-100 transition-colors;\n\n    &:last-child {\n      @apply mb-0;\n    }\n  }\n}\n</style> "],"mappings":";;AAoCA,SAASA,QAAQ,QAAQ,KAAI;AAC7B,SAASC,iBAAiB,QAAQ,uBAAsB;;;;;;;;;;;;;;;IAExD,MAAMC,KAAK,GAAGC,OAAA;IAOd,MAAMC,IAAI,GAAGC,MAAA;;IAEb;IACA,MAAMC,eAAe,GAAGN,QAAQ,CAAC,MAC/BE,KAAK,CAACK,UAAU,CAACC,MAAM,CAACC,CAAC,IAAIA,CAAC,CAACC,QAAQ,KAAK,OAAO,CACrD;IAEA,MAAMC,iBAAiB,GAAGX,QAAQ,CAAC,MACjCE,KAAK,CAACK,UAAU,CAACC,MAAM,CAACC,CAAC,IAAIA,CAAC,CAACC,QAAQ,KAAK,SAAS,CACvD;;IAEA;IACA,MAAME,eAAe,GAAIC,SAAS,IAAK;MACrC;MACAC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,WAAW,EAAEC,IAAI,CAACC,SAAS,CAAC;QACrDC,IAAI,EAAEN,SAAS,CAACM,IAAI;QACpBC,IAAI,EAAEP,SAAS,CAACQ,SAAS,IAAI,CAAC,CAAC;QAC/BC,MAAM,EAAET,SAAS,CAACS,MAAM,IAAI,CAAC,CAAC;QAC9BC,IAAI,EAAEV,SAAS,CAACU;MAClB,CAAC,CAAC;MACF;MACAT,KAAK,CAACC,YAAY,CAACS,aAAa,GAAG,MAAK;IAC1C","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}