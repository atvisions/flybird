{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, normalizeStyle as _normalizeStyle, openBlock as _openBlock, createElementBlock as _createElementBlock, resolveComponent as _resolveComponent, createBlock as _createBlock, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, Fragment as _Fragment, normalizeClass as _normalizeClass, withDirectives as _withDirectives } from \"vue\";\nconst _hoisted_1 = {\n  key: 2,\n  class: \"image-wrapper\"\n};\nconst _hoisted_2 = [\"src\"];\nconst _hoisted_3 = {\n  key: 0,\n  class: \"binding-indicator\"\n};\nconst _hoisted_4 = {\n  key: 3,\n  class: \"text-wrapper\"\n};\nconst _hoisted_5 = {\n  key: 0,\n  class: \"binding-indicator\"\n};\nconst _hoisted_6 = {\n  class: \"field-label\"\n};\nconst _hoisted_7 = {\n  class: \"field-placeholder\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_v_icon = _resolveComponent(\"v-icon\");\n  return _withDirectives((_openBlock(), _createElementBlock(\"div\", {\n    class: _normalizeClass([\"design-element\", {\n      selected: $props.isSelected\n    }]),\n    style: _normalizeStyle($setup.elementStyle),\n    onClick: _cache[4] || (_cache[4] = $event => _ctx.$emit('select', $props.element))\n  }, [_createCommentVNode(\" 形状元素 \"), $props.element.type === 'shape' ? (_openBlock(), _createElementBlock(\"div\", {\n    key: 0,\n    class: \"shape\",\n    style: _normalizeStyle(_ctx.shapeStyle)\n  }, null, 4 /* STYLE */)) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" 图标元素 \"), $props.element.type === 'icon' ? (_openBlock(), _createBlock(_component_v_icon, {\n    key: 1,\n    icon: $props.element.icon,\n    style: _normalizeStyle(_ctx.iconStyle)\n  }, null, 8 /* PROPS */, [\"icon\", \"style\"])) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" 图片元素 \"), $props.element.type === 'image' ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"img\", {\n    src: $props.element.content || $props.element.placeholder,\n    style: _normalizeStyle(_ctx.imageStyle)\n  }, null, 12 /* STYLE, PROPS */, _hoisted_2), $props.element.dataBinding ? (_openBlock(), _createElementBlock(\"div\", _hoisted_3, \" 已绑定: \" + _toDisplayString($props.element.dataBinding.field), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true)])) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" 文本元素 \"), $props.element.type === 'text' ? (_openBlock(), _createElementBlock(\"div\", _hoisted_4, [_createElementVNode(\"div\", {\n    class: \"text\",\n    style: _normalizeStyle(_ctx.textStyle)\n  }, _toDisplayString($props.element.content || $props.element.placeholder), 5 /* TEXT, STYLE */), $props.element.dataBinding ? (_openBlock(), _createElementBlock(\"div\", _hoisted_5, \" 已绑定: \" + _toDisplayString($props.element.dataBinding.field), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true)])) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" 数据字段元素 \"), $props.element.type === 'data-field' ? (_openBlock(), _createElementBlock(\"div\", {\n    key: 4,\n    class: \"data-field\",\n    style: _normalizeStyle(_ctx.dataFieldStyle)\n  }, [_createElementVNode(\"div\", _hoisted_6, _toDisplayString($setup.getFieldLabel($props.element.dataField)), 1 /* TEXT */), _createElementVNode(\"div\", _hoisted_7, _toDisplayString($setup.getFieldPlaceholder($props.element.dataField)), 1 /* TEXT */)], 4 /* STYLE */)) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" 调整大小的手柄 \"), $props.isSelected ? (_openBlock(), _createElementBlock(_Fragment, {\n    key: 5\n  }, [_createElementVNode(\"div\", {\n    class: \"resize-handle tl\",\n    onMousedown: _cache[0] || (_cache[0] = $event => $setup.startResize('tl'))\n  }, null, 32 /* NEED_HYDRATION */), _createElementVNode(\"div\", {\n    class: \"resize-handle tr\",\n    onMousedown: _cache[1] || (_cache[1] = $event => $setup.startResize('tr'))\n  }, null, 32 /* NEED_HYDRATION */), _createElementVNode(\"div\", {\n    class: \"resize-handle bl\",\n    onMousedown: _cache[2] || (_cache[2] = $event => $setup.startResize('bl'))\n  }, null, 32 /* NEED_HYDRATION */), _createElementVNode(\"div\", {\n    class: \"resize-handle br\",\n    onMousedown: _cache[3] || (_cache[3] = $event => $setup.startResize('br'))\n  }, null, 32 /* NEED_HYDRATION */), _createCommentVNode(\" 旋转手柄 \"), _createElementVNode(\"div\", {\n    class: \"rotate-handle\",\n    onMousedown: $setup.startRotate\n  }, null, 32 /* NEED_HYDRATION */)], 64 /* STABLE_FRAGMENT */)) : _createCommentVNode(\"v-if\", true)], 6 /* CLASS, STYLE */)), [[$setup[\"vDraggable\"], $setup.dragOptions]]);\n}","map":{"version":3,"names":["key","class","_createElementBlock","_normalizeClass","selected","$props","isSelected","style","_normalizeStyle","$setup","elementStyle","onClick","_cache","$event","_ctx","$emit","element","_createCommentVNode","type","shapeStyle","_createBlock","_component_v_icon","icon","iconStyle","_hoisted_1","_createElementVNode","src","content","placeholder","imageStyle","_hoisted_2","dataBinding","_hoisted_3","_toDisplayString","field","_hoisted_4","textStyle","_hoisted_5","dataFieldStyle","_hoisted_6","getFieldLabel","dataField","_hoisted_7","getFieldPlaceholder","_Fragment","onMousedown","startResize","startRotate","dragOptions"],"sources":["/Users/liuzhao/Documents/Projects/flybird/flybird-web/src/views/resume-editor/components/DesignElement.vue"],"sourcesContent":["<template>\n  <div \n    class=\"design-element\"\n    :class=\"{ selected: isSelected }\"\n    :style=\"elementStyle\"\n    @click=\"$emit('select', element)\"\n    v-draggable=\"dragOptions\"\n  >\n    <!-- 形状元素 -->\n    <template v-if=\"element.type === 'shape'\">\n      <div class=\"shape\" :style=\"shapeStyle\"></div>\n    </template>\n\n    <!-- 图标元素 -->\n    <template v-if=\"element.type === 'icon'\">\n      <v-icon :icon=\"element.icon\" :style=\"iconStyle\"></v-icon>\n    </template>\n\n    <!-- 图片元素 -->\n    <template v-if=\"element.type === 'image'\">\n      <div class=\"image-wrapper\">\n        <img \n          :src=\"element.content || element.placeholder\" \n          :style=\"imageStyle\"\n        >\n        <div v-if=\"element.dataBinding\" class=\"binding-indicator\">\n          已绑定: {{ element.dataBinding.field }}\n        </div>\n      </div>\n    </template>\n\n    <!-- 文本元素 -->\n    <template v-if=\"element.type === 'text'\">\n      <div class=\"text-wrapper\">\n        <div class=\"text\" :style=\"textStyle\">\n          {{ element.content || element.placeholder }}\n        </div>\n        <div v-if=\"element.dataBinding\" class=\"binding-indicator\">\n          已绑定: {{ element.dataBinding.field }}\n        </div>\n      </div>\n    </template>\n\n    <!-- 数据字段元素 -->\n    <template v-if=\"element.type === 'data-field'\">\n      <div class=\"data-field\" :style=\"dataFieldStyle\">\n        <div class=\"field-label\">{{ getFieldLabel(element.dataField) }}</div>\n        <div class=\"field-placeholder\">\n          {{ getFieldPlaceholder(element.dataField) }}\n        </div>\n      </div>\n    </template>\n\n    <!-- 调整大小的手柄 -->\n    <template v-if=\"isSelected\">\n      <div class=\"resize-handle tl\" @mousedown=\"startResize('tl')\"></div>\n      <div class=\"resize-handle tr\" @mousedown=\"startResize('tr')\"></div>\n      <div class=\"resize-handle bl\" @mousedown=\"startResize('bl')\"></div>\n      <div class=\"resize-handle br\" @mousedown=\"startResize('br')\"></div>\n      <!-- 旋转手柄 -->\n      <div class=\"rotate-handle\" @mousedown=\"startRotate\"></div>\n    </template>\n  </div>\n</template>\n\n<script setup>\nimport { computed } from 'vue'\nimport { vDraggable } from '../../../directives/draggable'\n\nconst props = defineProps({\n  element: {\n    type: Object,\n    required: true\n  },\n  isSelected: {\n    type: Boolean,\n    default: false\n  }\n})\n\nconst emit = defineEmits(['select', 'update'])\n\n// 元素基础样式\nconst elementStyle = computed(() => ({\n  transform: `translate(${props.element.x}px, ${props.element.y}px) rotate(${props.element.rotation}deg)`,\n  width: `${props.element.width}px`,\n  height: `${props.element.height}px`,\n  ...props.element.styles\n}))\n\n// 获取字段标签\nconst getFieldLabel = (dataField) => {\n  const labels = {\n    profile: {\n      avatar: '头像',\n      name: '姓名',\n      email: '邮箱',\n      phone: '电话'\n    },\n    education: {\n      school: '学校',\n      major: '专业',\n      degree: '学位'\n    }\n    // ... 其他字段映射\n  }\n  return labels[dataField.type]?.[dataField.field] || dataField.field\n}\n\n// 获取字段占位符\nconst getFieldPlaceholder = (dataField) => {\n  const placeholders = {\n    profile: {\n      avatar: '[头像]',\n      name: '[姓名]',\n      email: '[邮箱]',\n      phone: '[电话]'\n    }\n    // ... 其他占位符\n  }\n  return placeholders[dataField.type]?.[dataField.field] || '[数据]'\n}\n\n// 拖拽配置\nconst dragOptions = {\n  onDrag: (event, { deltaX, deltaY }) => {\n    emit('update', {\n      ...props.element,\n      x: props.element.x + deltaX,\n      y: props.element.y + deltaY\n    })\n  }\n}\n\n// 处理缩放\nconst startResize = (handle) => {\n  // 实现缩放逻辑\n}\n\n// 处理旋转\nconst startRotate = () => {\n  // 实现旋转逻辑\n}\n</script>\n\n<style scoped>\n.design-element {\n  position: absolute;\n  cursor: move;\n}\n\n.design-element.selected {\n  outline: 2px solid #1867C0;\n}\n\n.resize-handle {\n  position: absolute;\n  width: 8px;\n  height: 8px;\n  background: #fff;\n  border: 1px solid #1867C0;\n  border-radius: 50%;\n}\n\n.resize-handle.tl { top: -4px; left: -4px; cursor: nw-resize; }\n.resize-handle.tr { top: -4px; right: -4px; cursor: ne-resize; }\n.resize-handle.bl { bottom: -4px; left: -4px; cursor: sw-resize; }\n.resize-handle.br { bottom: -4px; right: -4px; cursor: se-resize; }\n\n.rotate-handle {\n  position: absolute;\n  top: -20px;\n  left: 50%;\n  width: 8px;\n  height: 8px;\n  background: #1867C0;\n  border-radius: 50%;\n  transform: translateX(-50%);\n  cursor: grab;\n}\n\n.data-field {\n  padding: 8px;\n  border: 1px dashed #999;\n  border-radius: 4px;\n}\n\n.field-label {\n  font-size: 12px;\n  color: #666;\n  margin-bottom: 4px;\n}\n\n.field-placeholder {\n  color: #999;\n  font-style: italic;\n}\n\n.binding-indicator {\n  position: absolute;\n  top: -20px;\n  left: 50%;\n  transform: translateX(-50%);\n  background: rgba(24, 103, 192, 0.9);\n  color: white;\n  padding: 2px 8px;\n  border-radius: 4px;\n  font-size: 12px;\n  white-space: nowrap;\n}\n\n.image-wrapper, .text-wrapper {\n  position: relative;\n  width: 100%;\n  height: 100%;\n}\n</style> "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}