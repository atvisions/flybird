{"ast":null,"code":"import { computed } from 'vue';\nimport { useAuthStore } from '@/stores/auth';\nimport { useProfileStore } from '@/stores/profile';\nimport defaultAvatar from '@/assets/images/default-avatar.png';\nexport default {\n  __name: 'HeadView',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const authStore = useAuthStore();\n    const profileStore = useProfileStore();\n    const isLoggedIn = computed(() => authStore.isLoggedIn);\n    const userAvatar = computed(() => profileStore.userAvatar);\n    const userName = computed(() => profileStore.userName);\n    const handleLogout = async () => {\n      try {\n        await authStore.logout();\n      } catch (error) {\n        console.error('Logout failed:', error);\n      }\n    };\n    const __returned__ = {\n      authStore,\n      profileStore,\n      isLoggedIn,\n      userAvatar,\n      userName,\n      handleLogout,\n      computed,\n      get useAuthStore() {\n        return useAuthStore;\n      },\n      get useProfileStore() {\n        return useProfileStore;\n      },\n      get defaultAvatar() {\n        return defaultAvatar;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["computed","useAuthStore","useProfileStore","defaultAvatar","authStore","profileStore","isLoggedIn","userAvatar","userName","handleLogout","logout","error","console"],"sources":["/Users/liuzhao/Documents/Projects/flybird/flybird-web/src/components/HeadView.vue"],"sourcesContent":["<template>\n  <header class=\"fixed top-0 left-0 right-0 z-50 bg-white shadow-sm\">\n    <nav class=\"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8\">\n      <div class=\"flex h-14 justify-between\">\n        <!-- Logo -->\n        <div class=\"flex\">\n          <router-link to=\"/\" class=\"flex items-center\">\n            <img class=\"h-8 w-auto\" src=\"@/assets/images/logo.png\" alt=\"Logo\">\n          </router-link>\n        </div>\n\n        <!-- 用户菜单 -->\n        <div class=\"flex items-center\">\n          <template v-if=\"isLoggedIn\">\n            <div class=\"relative\">\n              <button class=\"flex items-center space-x-2\">\n                <img :src=\"userAvatar\" class=\"h-8 w-8 rounded-full\">\n                <span class=\"text-sm text-gray-700\">{{ userName }}</span>\n              </button>\n              <!-- 下拉菜单 -->\n              <div class=\"absolute right-0 mt-2 w-48 rounded-md shadow-lg\">\n                <!-- 菜单内容 -->\n                <button @click=\"handleLogout\" \n                  class=\"block w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-100\">\n                  退出登录\n                </button>\n              </div>\n            </div>\n          </template>\n          <template v-else>\n            <router-link to=\"/login\" \n              class=\"text-sm font-medium text-gray-700 hover:text-gray-900\">\n              登录\n            </router-link>\n          </template>\n        </div>\n      </div>\n    </nav>\n  </header>\n</template>\n\n<script setup>\nimport { computed } from 'vue'\nimport { useAuthStore } from '@/stores/auth'\nimport { useProfileStore } from '@/stores/profile'\nimport defaultAvatar from '@/assets/images/default-avatar.png'\n\nconst authStore = useAuthStore()\nconst profileStore = useProfileStore()\n\nconst isLoggedIn = computed(() => authStore.isLoggedIn)\nconst userAvatar = computed(() => profileStore.userAvatar)\nconst userName = computed(() => profileStore.userName)\n\nconst handleLogout = async () => {\n  try {\n    await authStore.logout()\n  } catch (error) {\n    console.error('Logout failed:', error)\n  }\n}\n</script>"],"mappings":"AA0CA,SAASA,QAAQ,QAAQ,KAAI;AAC7B,SAASC,YAAY,QAAQ,eAAc;AAC3C,SAASC,eAAe,QAAQ,kBAAiB;AACjD,OAAOC,aAAa,MAAM,oCAAmC;;;;;;;IAE7D,MAAMC,SAAS,GAAGH,YAAY,CAAC;IAC/B,MAAMI,YAAY,GAAGH,eAAe,CAAC;IAErC,MAAMI,UAAU,GAAGN,QAAQ,CAAC,MAAMI,SAAS,CAACE,UAAU;IACtD,MAAMC,UAAU,GAAGP,QAAQ,CAAC,MAAMK,YAAY,CAACE,UAAU;IACzD,MAAMC,QAAQ,GAAGR,QAAQ,CAAC,MAAMK,YAAY,CAACG,QAAQ;IAErD,MAAMC,YAAY,GAAG,MAAAA,CAAA,KAAY;MAC/B,IAAI;QACF,MAAML,SAAS,CAACM,MAAM,CAAC;MACzB,CAAC,CAAC,OAAOC,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,gBAAgB,EAAEA,KAAK;MACvC;IACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}