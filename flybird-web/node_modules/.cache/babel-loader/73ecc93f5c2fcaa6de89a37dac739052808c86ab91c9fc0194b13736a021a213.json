{"ast":null,"code":"import \"core-js/modules/esnext.iterator.constructor.js\";\nimport \"core-js/modules/esnext.iterator.find.js\";\nimport { computed } from 'vue';\nimport { useRouter } from 'vue-router';\nimport { ChevronLeftIcon, XMarkIcon } from '@heroicons/vue/24/outline';\nexport default {\n  __name: 'CategoryMenu',\n  props: {\n    show: Boolean,\n    currentLevel: String,\n    currentMainCategory: String,\n    currentSubCategory: String,\n    currentThirdCategory: String,\n    type: String,\n    categories: {\n      type: Array,\n      required: true\n    }\n  },\n  emits: ['update:show', 'update:currentLevel', 'update:currentMainCategory', 'update:currentSubCategory', 'update:currentThirdCategory', 'category-change'],\n  setup(__props, {\n    expose: __expose,\n    emit: __emit\n  }) {\n    __expose();\n    const props = __props;\n    const emit = __emit;\n\n    // 获取菜单标题\n    const getMenuTitle = computed(() => {\n      if (props.currentLevel === 'main') return '选择分类';\n      if (props.currentLevel === 'sub') {\n        const mainCategory = props.categories.find(c => c.id === props.currentMainCategory);\n        return mainCategory?.name || '选择分类';\n      }\n      return '';\n    });\n\n    // 获取当前类型的分类数据\n    const currentTypeCategories = computed(() => {\n      return props.categories;\n    });\n\n    // 获取当前子分类\n    const currentSubCategories = computed(() => {\n      const mainCategory = props.categories.find(c => c.id === props.currentMainCategory);\n      return mainCategory?.children || [];\n    });\n\n    // 处理主分类点击\n    const handleMainCategoryClick = category => {\n      emit('category-change', category.id, 'main');\n      if (category.id !== 'all') {\n        emit('update:currentLevel', 'sub');\n      } else {\n        emit('update:show', false);\n      }\n    };\n\n    // 处理页面内分类点击\n    const handleSubCategoryClick = category => {\n      emit('category-change', category.id, 'sub');\n      emit('update:show', false);\n    };\n    const handleBack = () => {\n      if (props.currentLevel === 'third') {\n        emit('update:currentLevel', 'sub');\n        emit('update:currentSubCategory', '');\n      } else if (props.currentLevel === 'sub') {\n        emit('update:currentLevel', 'main');\n        emit('update:currentMainCategory', 'all');\n      }\n    };\n    const __returned__ = {\n      props,\n      emit,\n      getMenuTitle,\n      currentTypeCategories,\n      currentSubCategories,\n      handleMainCategoryClick,\n      handleSubCategoryClick,\n      handleBack,\n      computed,\n      get useRouter() {\n        return useRouter;\n      },\n      get ChevronLeftIcon() {\n        return ChevronLeftIcon;\n      },\n      get XMarkIcon() {\n        return XMarkIcon;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["computed","useRouter","ChevronLeftIcon","XMarkIcon","props","__props","emit","__emit","getMenuTitle","currentLevel","mainCategory","categories","find","c","id","currentMainCategory","name","currentTypeCategories","currentSubCategories","children","handleMainCategoryClick","category","handleSubCategoryClick","handleBack"],"sources":["/Users/liuzhao/Documents/Projects/flybird/flybird-web/src/components/portfolio/CategoryMenu.vue"],"sourcesContent":["<template>\n  <div v-if=\"show\" class=\"fixed inset-0 bg-black/50 z-[100] sm:hidden flex items-end\" @click=\"$emit('update:show', false)\">\n    <div class=\"absolute bottom-0 left-0 right-0 bg-white rounded-t-2xl p-6 max-h-[85vh] overflow-y-auto\"\n      @click.stop\n    >\n      <div class=\"flex items-center justify-between mb-4\">\n        <div class=\"flex items-center space-x-2\">\n          <button \n            v-if=\"currentLevel !== 'main'\"\n            @click=\"handleBack\"\n            class=\"text-gray-400 hover:text-gray-500\"\n          >\n            <ChevronLeftIcon class=\"w-5 h-5\" />\n          </button>\n          <h3 class=\"text-lg font-medium text-gray-900\">\n            {{ getMenuTitle }}\n          </h3>\n        </div>\n        <button @click=\"$emit('update:show', false)\" class=\"text-gray-400 hover:text-gray-500\">\n          <XMarkIcon class=\"w-5 h-5\" />\n        </button>\n      </div>\n      <div class=\"grid grid-cols-2 gap-3 pb-6\">\n        <!-- 主分类导航 -->\n        <template v-if=\"currentLevel === 'main'\">\n          <button\n            v-for=\"category in currentTypeCategories\"\n            :key=\"category.id\"\n            @click=\"handleMainCategoryClick(category)\"\n            class=\"flex items-center justify-center px-4 py-4 rounded-xl text-sm font-medium transition-colors\"\n            :class=\"[\n              currentMainCategory === category.id\n                ? 'bg-blue-50 text-blue-600'\n                : 'bg-gray-50 text-gray-600 hover:bg-gray-100'\n            ]\"\n          >\n            <component :is=\"category.icon\" class=\"w-4 h-4 mr-2\" />\n            {{ category.name }}\n          </button>\n        </template>\n\n        <!-- 页面内分类 -->\n        <template v-else-if=\"currentLevel === 'sub'\">\n          <button\n            v-for=\"category in currentSubCategories\"\n            :key=\"category.id\"\n            @click=\"handleSubCategoryClick(category)\"\n            class=\"flex items-center justify-center px-4 py-4 rounded-xl text-sm font-medium transition-colors\"\n            :class=\"[\n              currentSubCategory === category.id\n                ? 'bg-blue-50 text-blue-600'\n                : 'bg-gray-50 text-gray-600 hover:bg-gray-100'\n            ]\"\n          >\n            <component :is=\"category.icon\" class=\"w-4 h-4 mr-2\" />\n            {{ category.name }}\n          </button>\n        </template>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { computed } from 'vue'\nimport { useRouter } from 'vue-router'\nimport { ChevronLeftIcon, XMarkIcon } from '@heroicons/vue/24/outline'\n\nconst props = defineProps({\n  show: Boolean,\n  currentLevel: String,\n  currentMainCategory: String,\n  currentSubCategory: String,\n  currentThirdCategory: String,\n  type: String,\n  categories: {\n    type: Array,\n    required: true\n  }\n})\n\nconst emit = defineEmits([\n  'update:show',\n  'update:currentLevel',\n  'update:currentMainCategory',\n  'update:currentSubCategory',\n  'update:currentThirdCategory',\n  'category-change'\n])\n\n// 获取菜单标题\nconst getMenuTitle = computed(() => {\n  if (props.currentLevel === 'main') return '选择分类'\n  if (props.currentLevel === 'sub') {\n    const mainCategory = props.categories.find(c => c.id === props.currentMainCategory)\n    return mainCategory?.name || '选择分类'\n  }\n  return ''\n})\n\n// 获取当前类型的分类数据\nconst currentTypeCategories = computed(() => {\n  return props.categories\n})\n\n// 获取当前子分类\nconst currentSubCategories = computed(() => {\n  const mainCategory = props.categories.find(c => c.id === props.currentMainCategory)\n  return mainCategory?.children || []\n})\n\n// 处理主分类点击\nconst handleMainCategoryClick = (category) => {\n  emit('category-change', category.id, 'main')\n  if (category.id !== 'all') {\n    emit('update:currentLevel', 'sub')\n  } else {\n    emit('update:show', false)\n  }\n}\n\n// 处理页面内分类点击\nconst handleSubCategoryClick = (category) => {\n  emit('category-change', category.id, 'sub')\n  emit('update:show', false)\n}\n\nconst handleBack = () => {\n  if (props.currentLevel === 'third') {\n    emit('update:currentLevel', 'sub')\n    emit('update:currentSubCategory', '')\n  } else if (props.currentLevel === 'sub') {\n    emit('update:currentLevel', 'main')\n    emit('update:currentMainCategory', 'all')\n  }\n}\n</script> "],"mappings":";;AAgEA,SAASA,QAAQ,QAAQ,KAAI;AAC7B,SAASC,SAAS,QAAQ,YAAW;AACrC,SAASC,eAAe,EAAEC,SAAS,QAAQ,2BAA0B;;;;;;;;;;;;;;;;;;;;;IAErE,MAAMC,KAAK,GAAGC,OAAA;IAad,MAAMC,IAAI,GAAGC,MAAA;;IASb;IACA,MAAMC,YAAY,GAAGR,QAAQ,CAAC,MAAM;MAClC,IAAII,KAAK,CAACK,YAAY,KAAK,MAAM,EAAE,OAAO,MAAK;MAC/C,IAAIL,KAAK,CAACK,YAAY,KAAK,KAAK,EAAE;QAChC,MAAMC,YAAY,GAAGN,KAAK,CAACO,UAAU,CAACC,IAAI,CAACC,CAAC,IAAIA,CAAC,CAACC,EAAE,KAAKV,KAAK,CAACW,mBAAmB;QAClF,OAAOL,YAAY,EAAEM,IAAI,IAAI,MAAK;MACpC;MACA,OAAO,EAAC;IACV,CAAC;;IAED;IACA,MAAMC,qBAAqB,GAAGjB,QAAQ,CAAC,MAAM;MAC3C,OAAOI,KAAK,CAACO,UAAS;IACxB,CAAC;;IAED;IACA,MAAMO,oBAAoB,GAAGlB,QAAQ,CAAC,MAAM;MAC1C,MAAMU,YAAY,GAAGN,KAAK,CAACO,UAAU,CAACC,IAAI,CAACC,CAAC,IAAIA,CAAC,CAACC,EAAE,KAAKV,KAAK,CAACW,mBAAmB;MAClF,OAAOL,YAAY,EAAES,QAAQ,IAAI,EAAC;IACpC,CAAC;;IAED;IACA,MAAMC,uBAAuB,GAAIC,QAAQ,IAAK;MAC5Cf,IAAI,CAAC,iBAAiB,EAAEe,QAAQ,CAACP,EAAE,EAAE,MAAM;MAC3C,IAAIO,QAAQ,CAACP,EAAE,KAAK,KAAK,EAAE;QACzBR,IAAI,CAAC,qBAAqB,EAAE,KAAK;MACnC,CAAC,MAAM;QACLA,IAAI,CAAC,aAAa,EAAE,KAAK;MAC3B;IACF;;IAEA;IACA,MAAMgB,sBAAsB,GAAID,QAAQ,IAAK;MAC3Cf,IAAI,CAAC,iBAAiB,EAAEe,QAAQ,CAACP,EAAE,EAAE,KAAK;MAC1CR,IAAI,CAAC,aAAa,EAAE,KAAK;IAC3B;IAEA,MAAMiB,UAAU,GAAGA,CAAA,KAAM;MACvB,IAAInB,KAAK,CAACK,YAAY,KAAK,OAAO,EAAE;QAClCH,IAAI,CAAC,qBAAqB,EAAE,KAAK;QACjCA,IAAI,CAAC,2BAA2B,EAAE,EAAE;MACtC,CAAC,MAAM,IAAIF,KAAK,CAACK,YAAY,KAAK,KAAK,EAAE;QACvCH,IAAI,CAAC,qBAAqB,EAAE,MAAM;QAClCA,IAAI,CAAC,4BAA4B,EAAE,KAAK;MAC1C;IACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}