{"ast":null,"code":"import { ref } from 'vue';\nexport function useDragDrop() {\n  // 当前布局\n  const currentLayout = ref(null);\n\n  // 拖拽开始\n  const handleDragStart = (event, layout) => {\n    event.dataTransfer.effectAllowed = 'move';\n    event.dataTransfer.setData('application/json', JSON.stringify(layout));\n  };\n\n  // 拖拽进入时的处理\n  const handleDragEnter = event => {\n    event.preventDefault();\n    event.target.classList.add('drag-over');\n  };\n\n  // 拖拽离开时的处理\n  const handleDragLeave = event => {\n    event.preventDefault();\n    event.target.classList.remove('drag-over');\n  };\n\n  // 拖拽悬停时的处理\n  const handleDragOver = event => {\n    event.preventDefault();\n  };\n\n  // 放置处理\n  const handleDrop = event => {\n    event.preventDefault();\n    event.target.classList.remove('drag-over');\n    const layoutData = event.dataTransfer.getData('application/json');\n    if (layoutData) {\n      try {\n        currentLayout.value = JSON.parse(layoutData);\n      } catch (error) {\n        console.error('解析布局数据失败:', error);\n      }\n    }\n  };\n  return {\n    currentLayout,\n    handleDragStart,\n    handleDragEnter,\n    handleDragLeave,\n    handleDragOver,\n    handleDrop\n  };\n}","map":{"version":3,"names":["ref","useDragDrop","currentLayout","handleDragStart","event","layout","dataTransfer","effectAllowed","setData","JSON","stringify","handleDragEnter","preventDefault","target","classList","add","handleDragLeave","remove","handleDragOver","handleDrop","layoutData","getData","value","parse","error","console"],"sources":["/Users/liuzhao/Documents/Projects/flybird/flybird-web/src/views/resume-editor/composables/useDragDrop.js"],"sourcesContent":["import { ref } from 'vue'\n\nexport function useDragDrop() {\n  // 当前布局\n  const currentLayout = ref(null)\n\n  // 拖拽开始\n  const handleDragStart = (event, layout) => {\n    event.dataTransfer.effectAllowed = 'move'\n    event.dataTransfer.setData('application/json', JSON.stringify(layout))\n  }\n\n  // 拖拽进入时的处理\n  const handleDragEnter = (event) => {\n    event.preventDefault()\n    event.target.classList.add('drag-over')\n  }\n\n  // 拖拽离开时的处理\n  const handleDragLeave = (event) => {\n    event.preventDefault()\n    event.target.classList.remove('drag-over')\n  }\n\n  // 拖拽悬停时的处理\n  const handleDragOver = (event) => {\n    event.preventDefault()\n  }\n\n  // 放置处理\n  const handleDrop = (event) => {\n    event.preventDefault()\n    event.target.classList.remove('drag-over')\n    \n    const layoutData = event.dataTransfer.getData('application/json')\n    if (layoutData) {\n      try {\n        currentLayout.value = JSON.parse(layoutData)\n      } catch (error) {\n        console.error('解析布局数据失败:', error)\n      }\n    }\n  }\n\n  return {\n    currentLayout,\n    handleDragStart,\n    handleDragEnter,\n    handleDragLeave,\n    handleDragOver,\n    handleDrop\n  }\n} "],"mappings":"AAAA,SAASA,GAAG,QAAQ,KAAK;AAEzB,OAAO,SAASC,WAAWA,CAAA,EAAG;EAC5B;EACA,MAAMC,aAAa,GAAGF,GAAG,CAAC,IAAI,CAAC;;EAE/B;EACA,MAAMG,eAAe,GAAGA,CAACC,KAAK,EAAEC,MAAM,KAAK;IACzCD,KAAK,CAACE,YAAY,CAACC,aAAa,GAAG,MAAM;IACzCH,KAAK,CAACE,YAAY,CAACE,OAAO,CAAC,kBAAkB,EAAEC,IAAI,CAACC,SAAS,CAACL,MAAM,CAAC,CAAC;EACxE,CAAC;;EAED;EACA,MAAMM,eAAe,GAAIP,KAAK,IAAK;IACjCA,KAAK,CAACQ,cAAc,CAAC,CAAC;IACtBR,KAAK,CAACS,MAAM,CAACC,SAAS,CAACC,GAAG,CAAC,WAAW,CAAC;EACzC,CAAC;;EAED;EACA,MAAMC,eAAe,GAAIZ,KAAK,IAAK;IACjCA,KAAK,CAACQ,cAAc,CAAC,CAAC;IACtBR,KAAK,CAACS,MAAM,CAACC,SAAS,CAACG,MAAM,CAAC,WAAW,CAAC;EAC5C,CAAC;;EAED;EACA,MAAMC,cAAc,GAAId,KAAK,IAAK;IAChCA,KAAK,CAACQ,cAAc,CAAC,CAAC;EACxB,CAAC;;EAED;EACA,MAAMO,UAAU,GAAIf,KAAK,IAAK;IAC5BA,KAAK,CAACQ,cAAc,CAAC,CAAC;IACtBR,KAAK,CAACS,MAAM,CAACC,SAAS,CAACG,MAAM,CAAC,WAAW,CAAC;IAE1C,MAAMG,UAAU,GAAGhB,KAAK,CAACE,YAAY,CAACe,OAAO,CAAC,kBAAkB,CAAC;IACjE,IAAID,UAAU,EAAE;MACd,IAAI;QACFlB,aAAa,CAACoB,KAAK,GAAGb,IAAI,CAACc,KAAK,CAACH,UAAU,CAAC;MAC9C,CAAC,CAAC,OAAOI,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,WAAW,EAAEA,KAAK,CAAC;MACnC;IACF;EACF,CAAC;EAED,OAAO;IACLtB,aAAa;IACbC,eAAe;IACfQ,eAAe;IACfK,eAAe;IACfE,cAAc;IACdC;EACF,CAAC;AACH","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}