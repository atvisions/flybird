{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, withCtx as _withCtx, createVNode as _createVNode, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, vModelText as _vModelText, normalizeClass as _normalizeClass, withDirectives as _withDirectives, openBlock as _openBlock, createElementBlock as _createElementBlock, vModelCheckbox as _vModelCheckbox, resolveComponent as _resolveComponent, withModifiers as _withModifiers, createBlock as _createBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"fixed inset-0 overflow-y-auto\"\n};\nconst _hoisted_2 = {\n  class: \"flex min-h-full items-center justify-center p-4 text-center\"\n};\nconst _hoisted_3 = {\n  class: \"text-lg font-medium text-gray-900\"\n};\nconst _hoisted_4 = {\n  class: \"space-y-6\"\n};\nconst _hoisted_5 = {\n  class: \"space-y-1\"\n};\nconst _hoisted_6 = {\n  key: 0,\n  class: \"text-sm text-red-500 mt-1\"\n};\nconst _hoisted_7 = {\n  class: \"space-y-1\"\n};\nconst _hoisted_8 = {\n  key: 0,\n  class: \"text-sm text-red-500 mt-1\"\n};\nconst _hoisted_9 = {\n  class: \"space-y-2\"\n};\nconst _hoisted_10 = {\n  class: \"flex items-center space-x-4\"\n};\nconst _hoisted_11 = {\n  class: \"relative flex-1\"\n};\nconst _hoisted_12 = {\n  key: 0,\n  class: \"text-gray-500\"\n};\nconst _hoisted_13 = {\n  key: 1,\n  class: \"relative flex-1\"\n};\nconst _hoisted_14 = {\n  key: 0,\n  class: \"text-sm text-red-500 mt-1\"\n};\nconst _hoisted_15 = {\n  class: \"inline-flex items-center mt-2\"\n};\nconst _hoisted_16 = {\n  class: \"space-y-1\"\n};\nconst _hoisted_17 = {\n  key: 0,\n  class: \"text-sm text-red-500 mt-1\"\n};\nconst _hoisted_18 = {\n  class: \"space-y-1\"\n};\nconst _hoisted_19 = {\n  class: \"flex justify-end space-x-3 pt-6\"\n};\nconst _hoisted_20 = [\"disabled\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_el_input = _resolveComponent(\"el-input\");\n  return _openBlock(), _createBlock($setup[\"TransitionRoot\"], {\n    appear: \"\",\n    show: $props.modelValue,\n    as: \"template\"\n  }, {\n    default: _withCtx(() => [_createVNode($setup[\"Dialog\"], {\n      as: \"div\",\n      class: \"relative z-50\",\n      onClose: $setup.handleClose\n    }, {\n      default: _withCtx(() => [_createCommentVNode(\" 背景遮罩 \"), _createVNode($setup[\"TransitionChild\"], {\n        as: \"template\",\n        enter: \"duration-300 ease-out\",\n        \"enter-from\": \"opacity-0\",\n        \"enter-to\": \"opacity-100\",\n        leave: \"duration-200 ease-in\",\n        \"leave-from\": \"opacity-100\",\n        \"leave-to\": \"opacity-0\"\n      }, {\n        default: _withCtx(() => _cache[7] || (_cache[7] = [_createElementVNode(\"div\", {\n          class: \"fixed inset-0 bg-black/25\"\n        }, null, -1 /* HOISTED */)])),\n        _: 1 /* STABLE */\n      }), _createCommentVNode(\" 对话框 \"), _createElementVNode(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createVNode($setup[\"TransitionChild\"], {\n        as: \"template\",\n        enter: \"duration-300 ease-out\",\n        \"enter-from\": \"opacity-0 scale-95\",\n        \"enter-to\": \"opacity-100 scale-100\",\n        leave: \"duration-200 ease-in\",\n        \"leave-from\": \"opacity-100 scale-100\",\n        \"leave-to\": \"opacity-0 scale-95\"\n      }, {\n        default: _withCtx(() => [_createVNode($setup[\"DialogPanel\"], {\n          class: \"w-full max-w-2xl transform overflow-hidden rounded-xl bg-white text-left align-middle shadow-xl transition-all\"\n        }, {\n          default: _withCtx(() => [_createCommentVNode(\" 头部 \"), _createVNode($setup[\"DialogTitle\"], {\n            as: \"div\",\n            class: \"flex items-center justify-between border-b border-gray-200 px-6 py-4\"\n          }, {\n            default: _withCtx(() => [_createElementVNode(\"h3\", _hoisted_3, _toDisplayString($props.initialData?.id ? '编辑项目经历' : '添加项目经历'), 1 /* TEXT */), _createElementVNode(\"button\", {\n              onClick: $setup.handleClose,\n              class: \"rounded-full p-1 hover:bg-gray-100 transition-colors\"\n            }, [_createVNode($setup[\"XMarkIcon\"], {\n              class: \"w-5 h-5 text-gray-400\"\n            })])]),\n            _: 1 /* STABLE */\n          }), _createCommentVNode(\" 表单内容 \"), _createElementVNode(\"form\", {\n            onSubmit: _withModifiers($setup.handleSubmit, [\"prevent\"]),\n            class: \"p-6\"\n          }, [_createElementVNode(\"div\", _hoisted_4, [_createCommentVNode(\" 项目名称 \"), _createElementVNode(\"div\", _hoisted_5, [_cache[8] || (_cache[8] = _createElementVNode(\"label\", {\n            class: \"block text-sm font-medium text-gray-700\"\n          }, [_createTextVNode(\" 项目名称 \"), _createElementVNode(\"span\", {\n            class: \"text-red-500\"\n          }, \"*\")], -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n            type: \"text\",\n            \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $setup.form.name = $event),\n            required: \"\",\n            class: _normalizeClass(['w-full rounded-lg border py-2.5 px-4 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/10', $setup.errors.name ? 'border-red-300 focus:border-red-500' : 'border-gray-300 focus:border-blue-500']),\n            placeholder: \"请输入项目名称\"\n          }, null, 2 /* CLASS */), [[_vModelText, $setup.form.name]]), $setup.errors.name ? (_openBlock(), _createElementBlock(\"p\", _hoisted_6, _toDisplayString($setup.errors.name), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true)]), _createCommentVNode(\" 项目角色 \"), _createElementVNode(\"div\", _hoisted_7, [_cache[9] || (_cache[9] = _createElementVNode(\"label\", {\n            class: \"block text-sm font-medium text-gray-700\"\n          }, [_createTextVNode(\" 项目角色 \"), _createElementVNode(\"span\", {\n            class: \"text-red-500\"\n          }, \"*\")], -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n            type: \"text\",\n            \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $setup.form.role = $event),\n            required: \"\",\n            class: _normalizeClass(['w-full rounded-lg border py-2.5 px-4 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/10', $setup.errors.role ? 'border-red-300 focus:border-red-500' : 'border-gray-300 focus:border-blue-500']),\n            placeholder: \"请输入你在项目中担任的角色\"\n          }, null, 2 /* CLASS */), [[_vModelText, $setup.form.role]]), $setup.errors.role ? (_openBlock(), _createElementBlock(\"p\", _hoisted_8, _toDisplayString($setup.errors.role), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true)]), _createCommentVNode(\" 起止时间 \"), _createElementVNode(\"div\", _hoisted_9, [_cache[11] || (_cache[11] = _createElementVNode(\"label\", {\n            class: \"block text-sm font-medium text-gray-700\"\n          }, \"在职时间\", -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_10, [_createElementVNode(\"div\", _hoisted_11, [_withDirectives(_createElementVNode(\"input\", {\n            \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $setup.form.start_date = $event),\n            type: \"date\",\n            class: _normalizeClass(['w-full rounded-lg border py-2.5 px-4 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/10', $setup.errors.start_date ? 'border-red-300 focus:border-red-500' : 'border-gray-300 focus:border-blue-500'])\n          }, null, 2 /* CLASS */), [[_vModelText, $setup.form.start_date]]), _createVNode($setup[\"CalendarIcon\"], {\n            class: \"absolute right-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400 pointer-events-none\"\n          })]), !$setup.form.is_current ? (_openBlock(), _createElementBlock(\"span\", _hoisted_12, \"至\")) : _createCommentVNode(\"v-if\", true), !$setup.form.is_current ? (_openBlock(), _createElementBlock(\"div\", _hoisted_13, [_withDirectives(_createElementVNode(\"input\", {\n            \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $setup.form.end_date = $event),\n            type: \"date\",\n            class: _normalizeClass(['w-full rounded-lg border py-2.5 px-4 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/10', $setup.errors.end_date ? 'border-red-300 focus:border-red-500' : 'border-gray-300 focus:border-blue-500'])\n          }, null, 2 /* CLASS */), [[_vModelText, $setup.form.end_date]]), _createVNode($setup[\"CalendarIcon\"], {\n            class: \"absolute right-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400 pointer-events-none\"\n          })])) : _createCommentVNode(\"v-if\", true)]), $setup.errors.start_date || $setup.errors.end_date ? (_openBlock(), _createElementBlock(\"p\", _hoisted_14, _toDisplayString($setup.errors.start_date || $setup.errors.end_date), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true), _createElementVNode(\"label\", _hoisted_15, [_withDirectives(_createElementVNode(\"input\", {\n            type: \"checkbox\",\n            \"onUpdate:modelValue\": _cache[4] || (_cache[4] = $event => $setup.form.is_current = $event),\n            class: \"rounded border-gray-300 text-blue-600 focus:ring-blue-500/10\"\n          }, null, 512 /* NEED_PATCH */), [[_vModelCheckbox, $setup.form.is_current]]), _cache[10] || (_cache[10] = _createElementVNode(\"span\", {\n            class: \"ml-2 text-sm text-gray-700\"\n          }, \"至今\", -1 /* HOISTED */))])]), _createCommentVNode(\" 项目描述 \"), _createElementVNode(\"div\", _hoisted_16, [_cache[12] || (_cache[12] = _createElementVNode(\"label\", {\n            class: \"block text-sm font-medium text-gray-700\"\n          }, [_createTextVNode(\" 项目描述 \"), _createElementVNode(\"span\", {\n            class: \"text-red-500\"\n          }, \"*\")], -1 /* HOISTED */)), _createVNode(_component_el_input, {\n            modelValue: $setup.form.description,\n            \"onUpdate:modelValue\": _cache[5] || (_cache[5] = $event => $setup.form.description = $event),\n            type: \"textarea\",\n            rows: 4,\n            placeholder: \"请描述项目的主要内容、技术栈和你负责的部分\",\n            class: _normalizeClass(['!w-full', $setup.errors.description ? 'is-error' : ''])\n          }, null, 8 /* PROPS */, [\"modelValue\", \"class\"]), $setup.errors.description ? (_openBlock(), _createElementBlock(\"p\", _hoisted_17, _toDisplayString($setup.errors.description), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true)]), _createCommentVNode(\" 项目成就 \"), _createElementVNode(\"div\", _hoisted_18, [_cache[13] || (_cache[13] = _createElementVNode(\"label\", {\n            class: \"block text-sm font-medium text-gray-700\"\n          }, \" 项目成就 \", -1 /* HOISTED */)), _createVNode(_component_el_input, {\n            modelValue: $setup.form.achievement,\n            \"onUpdate:modelValue\": _cache[6] || (_cache[6] = $event => $setup.form.achievement = $event),\n            type: \"textarea\",\n            rows: 3,\n            placeholder: \"请描述在项目中取得的成就和贡献（选填）\",\n            class: \"!w-full\"\n          }, null, 8 /* PROPS */, [\"modelValue\"])]), _createCommentVNode(\" 底部按钮 \"), _createElementVNode(\"div\", _hoisted_19, [_createElementVNode(\"button\", {\n            type: \"button\",\n            onClick: $setup.handleClose,\n            class: \"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500\"\n          }, \" 取消 \"), _createElementVNode(\"button\", {\n            type: \"submit\",\n            disabled: $props.loading,\n            class: \"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed\"\n          }, _toDisplayString($props.loading ? '保存中...' : '确认'), 9 /* TEXT, PROPS */, _hoisted_20)])])], 32 /* NEED_HYDRATION */)]),\n          _: 1 /* STABLE */\n        })]),\n        _: 1 /* STABLE */\n      })])])]),\n      _: 1 /* STABLE */\n    })]),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"show\"]);\n}","map":{"version":3,"names":["class","key","_createBlock","$setup","appear","show","$props","modelValue","as","default","_withCtx","_createVNode","onClose","handleClose","_createCommentVNode","enter","leave","_cache","_createElementVNode","_","_hoisted_1","_hoisted_2","_hoisted_3","_toDisplayString","initialData","id","onClick","onSubmit","_withModifiers","handleSubmit","_hoisted_4","_hoisted_5","_createTextVNode","type","$event","form","name","required","_normalizeClass","errors","placeholder","_createElementBlock","_hoisted_6","_hoisted_7","role","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","start_date","is_current","_hoisted_12","_hoisted_13","end_date","_hoisted_14","_hoisted_15","_hoisted_16","_component_el_input","description","rows","_hoisted_17","_hoisted_18","achievement","_hoisted_19","disabled","loading","_hoisted_20"],"sources":["/Users/liuzhao/Documents/Projects/flybird/flybird-web/src/views/user/MyProfile/dialogs/EditProjectDialog.vue"],"sourcesContent":["<template>\n  <TransitionRoot appear :show=\"modelValue\" as=\"template\">\n    <Dialog as=\"div\" class=\"relative z-50\" @close=\"handleClose\">\n      <!-- 背景遮罩 -->\n      <TransitionChild\n        as=\"template\"\n        enter=\"duration-300 ease-out\"\n        enter-from=\"opacity-0\"\n        enter-to=\"opacity-100\"\n        leave=\"duration-200 ease-in\"\n        leave-from=\"opacity-100\"\n        leave-to=\"opacity-0\"\n      >\n        <div class=\"fixed inset-0 bg-black/25\" />\n      </TransitionChild>\n\n      <!-- 对话框 -->\n      <div class=\"fixed inset-0 overflow-y-auto\">\n        <div class=\"flex min-h-full items-center justify-center p-4 text-center\">\n          <TransitionChild\n            as=\"template\"\n            enter=\"duration-300 ease-out\"\n            enter-from=\"opacity-0 scale-95\"\n            enter-to=\"opacity-100 scale-100\"\n            leave=\"duration-200 ease-in\"\n            leave-from=\"opacity-100 scale-100\"\n            leave-to=\"opacity-0 scale-95\"\n          >\n            <DialogPanel class=\"w-full max-w-2xl transform overflow-hidden rounded-xl bg-white text-left align-middle shadow-xl transition-all\">\n              <!-- 头部 -->\n              <DialogTitle \n                as=\"div\" \n                class=\"flex items-center justify-between border-b border-gray-200 px-6 py-4\"\n              >\n                <h3 class=\"text-lg font-medium text-gray-900\">\n                  {{ initialData?.id ? '编辑项目经历' : '添加项目经历' }}\n                </h3>\n                <button\n                  @click=\"handleClose\"\n                  class=\"rounded-full p-1 hover:bg-gray-100 transition-colors\"\n                >\n                  <XMarkIcon class=\"w-5 h-5 text-gray-400\" />\n                </button>\n              </DialogTitle>\n\n              <!-- 表单内容 -->\n              <form @submit.prevent=\"handleSubmit\" class=\"p-6\">\n                <div class=\"space-y-6\">\n                  <!-- 项目名称 -->\n                  <div class=\"space-y-1\">\n                    <label class=\"block text-sm font-medium text-gray-700\">\n                      项目名称 <span class=\"text-red-500\">*</span>\n                    </label>\n                    <input\n                      type=\"text\"\n                      v-model=\"form.name\"\n                      required\n                      :class=\"[\n                        'w-full rounded-lg border py-2.5 px-4 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/10',\n                        errors.name ? 'border-red-300 focus:border-red-500' : 'border-gray-300 focus:border-blue-500'\n                      ]\"\n                      placeholder=\"请输入项目名称\"\n                    />\n                    <p v-if=\"errors.name\" class=\"text-sm text-red-500 mt-1\">{{ errors.name }}</p>\n                  </div>\n\n                  <!-- 项目角色 -->\n                  <div class=\"space-y-1\">\n                    <label class=\"block text-sm font-medium text-gray-700\">\n                      项目角色 <span class=\"text-red-500\">*</span>\n                    </label>\n                    <input\n                      type=\"text\"\n                      v-model=\"form.role\"\n                      required\n                      :class=\"[\n                        'w-full rounded-lg border py-2.5 px-4 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/10',\n                        errors.role ? 'border-red-300 focus:border-red-500' : 'border-gray-300 focus:border-blue-500'\n                      ]\"\n                      placeholder=\"请输入你在项目中担任的角色\"\n                    />\n                    <p v-if=\"errors.role\" class=\"text-sm text-red-500 mt-1\">{{ errors.role }}</p>\n                  </div>\n\n                  <!-- 起止时间 -->\n                  <div class=\"space-y-2\">\n                    <label class=\"block text-sm font-medium text-gray-700\">在职时间</label>\n                    <div class=\"flex items-center space-x-4\">\n                      <div class=\"relative flex-1\">\n                        <input\n                          v-model=\"form.start_date\"\n                          type=\"date\"\n                          :class=\"[\n                            'w-full rounded-lg border py-2.5 px-4 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/10',\n                            errors.start_date ? 'border-red-300 focus:border-red-500' : 'border-gray-300 focus:border-blue-500'\n                          ]\"\n                        />\n                        <CalendarIcon class=\"absolute right-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400 pointer-events-none\" />\n                      </div>\n                      \n                      <span v-if=\"!form.is_current\" class=\"text-gray-500\">至</span>\n                      \n                      <div v-if=\"!form.is_current\" class=\"relative flex-1\">\n                        <input\n                          v-model=\"form.end_date\"\n                          type=\"date\"\n                          :class=\"[\n                            'w-full rounded-lg border py-2.5 px-4 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/10',\n                            errors.end_date ? 'border-red-300 focus:border-red-500' : 'border-gray-300 focus:border-blue-500'\n                          ]\"\n                        />\n                        <CalendarIcon class=\"absolute right-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400 pointer-events-none\" />\n                      </div>\n                    </div>\n                    <p v-if=\"errors.start_date || errors.end_date\" class=\"text-sm text-red-500 mt-1\">\n                      {{ errors.start_date || errors.end_date }}\n                    </p>\n                    \n                    <label class=\"inline-flex items-center mt-2\">\n                      <input\n                        type=\"checkbox\"\n                        v-model=\"form.is_current\"\n                        class=\"rounded border-gray-300 text-blue-600 focus:ring-blue-500/10\"\n                      />\n                      <span class=\"ml-2 text-sm text-gray-700\">至今</span>\n                    </label>\n                  </div>\n\n                  <!-- 项目描述 -->\n                  <div class=\"space-y-1\">\n                    <label class=\"block text-sm font-medium text-gray-700\">\n                      项目描述 <span class=\"text-red-500\">*</span>\n                    </label>\n                    <el-input\n                      v-model=\"form.description\"\n                      type=\"textarea\"\n                      :rows=\"4\"\n                      placeholder=\"请描述项目的主要内容、技术栈和你负责的部分\"\n                      :class=\"[\n                        '!w-full',\n                        errors.description ? 'is-error' : ''\n                      ]\"\n                    />\n                    <p v-if=\"errors.description\" class=\"text-sm text-red-500 mt-1\">{{ errors.description }}</p>\n                  </div>\n\n                  <!-- 项目成就 -->\n                  <div class=\"space-y-1\">\n                    <label class=\"block text-sm font-medium text-gray-700\">\n                      项目成就\n                    </label>\n                    <el-input\n                      v-model=\"form.achievement\"\n                      type=\"textarea\"\n                      :rows=\"3\"\n                      placeholder=\"请描述在项目中取得的成就和贡献（选填）\"\n                      class=\"!w-full\"\n                    />\n                  </div>\n\n                  <!-- 底部按钮 -->\n                  <div class=\"flex justify-end space-x-3 pt-6\">\n                    <button\n                      type=\"button\"\n                      @click=\"handleClose\"\n                      class=\"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500\"\n                    >\n                      取消\n                    </button>\n                    <button\n                      type=\"submit\"\n                      :disabled=\"loading\"\n                      class=\"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed\"\n                    >\n                      {{ loading ? '保存中...' : '确认' }}\n                    </button>\n                  </div>\n                </div>\n              </form>\n            </DialogPanel>\n          </TransitionChild>\n        </div>\n      </div>\n    </Dialog>\n  </TransitionRoot>\n</template>\n\n<script setup>\nimport { ref, watch } from 'vue'\nimport {\n  Dialog,\n  DialogPanel,\n  DialogTitle,\n  TransitionRoot,\n  TransitionChild\n} from '@headlessui/vue'\nimport { XMarkIcon, CalendarIcon } from '@heroicons/vue/24/outline'\n\nconst props = defineProps({\n  modelValue: Boolean,\n  initialData: {\n    type: Object,\n    default: () => ({})\n  },\n  loading: Boolean\n})\n\nconst emit = defineEmits(['update:modelValue', 'submit'])\n\n// 表单数据\nconst form = ref({\n  id: null,          // 添加 id 字段\n  name: '',          // 项目名称\n  role: '',          // 担任角色\n  start_date: '',    // 开始日期\n  end_date: '',      // 结束日期\n  is_current: false, // 是否进行中\n  description: '',   // 项目描述\n  achievement: ''    // 项目成就\n})\n\n// 添加错误状态\nconst errors = ref({\n  name: '',\n  role: '',\n  start_date: '',\n  end_date: '',\n  description: ''\n})\n\n// 监听初始数据变化\nwatch(() => props.initialData, (newVal) => {\n  if (newVal) {\n    form.value = {\n      id: newVal.id || null,\n      name: newVal.name || '',\n      role: newVal.role || '',\n      start_date: newVal.start_date || '',\n      end_date: newVal.end_date || '',\n      is_current: !!newVal.is_current,\n      description: newVal.description || '',\n      achievement: newVal.achievement || ''\n    }\n  }\n}, { immediate: true, deep: true })\n\nconst handleClose = () => {\n  emit('update:modelValue', false)\n}\n\n// 验证表单\nconst validateForm = () => {\n  let isValid = true\n  errors.value = {\n    name: '',\n    role: '',\n    start_date: '',\n    end_date: '',\n    description: ''\n  }\n\n  // 必填字段验证\n  if (!form.value.name?.trim()) {\n    errors.value.name = '请输入项目名称'\n    isValid = false\n  }\n\n  if (!form.value.role?.trim()) {\n    errors.value.role = '请输入项目角色'\n    isValid = false\n  }\n\n  if (!form.value.start_date) {\n    errors.value.start_date = '请选择开始时间'\n    isValid = false\n  }\n\n  if (!form.value.is_current && !form.value.end_date) {\n    errors.value.end_date = '请选择结束时间或勾选\"至今\"'\n    isValid = false\n  }\n\n  if (!form.value.description?.trim()) {\n    errors.value.description = '请输入项目描述'\n    isValid = false\n  }\n\n  // 日期逻辑验证\n  if (form.value.start_date && form.value.end_date && !form.value.is_current) {\n    const startDate = new Date(form.value.start_date)\n    const endDate = new Date(form.value.end_date)\n    if (endDate < startDate) {\n      errors.value.end_date = '结束时间不能早于开始时间'\n      isValid = false\n    }\n  }\n\n  return isValid\n}\n\n// 提交处理\nconst handleSubmit = () => {\n  if (!validateForm()) {\n    return\n  }\n\n  const formData = {\n    ...form.value,\n    // 处理日期和布尔值\n    start_date: form.value.start_date,\n    end_date: form.value.is_current ? null : form.value.end_date,\n    is_current: form.value.is_current,\n    // 处理文本字段\n    name: form.value.name.trim(),\n    role: form.value.role.trim(),\n    description: form.value.description.trim(),\n    achievement: form.value.achievement?.trim() || ''\n  }\n\n  // 如果是新建，不传 id\n  if (!formData.id) {\n    delete formData.id\n  }\n\n  emit('submit', formData)\n}\n</script>\n\n<style scoped>\n/* 添加一些过渡动画 */\n.transition-all {\n  @apply duration-200;\n}\n\n/* 输入框聚焦效果 */\ninput:focus, select:focus {\n  @apply ring-2 ring-blue-500/10 border-blue-500;\n}\n\n/* 下拉选项悬停效果 */\n.hover\\:bg-blue-50:hover {\n  @apply bg-blue-50 text-blue-600;\n}\n\n/* 移动端适配 */\n@media (max-width: 640px) {\n  .el-date-picker {\n    width: 100% !important;\n  }\n}\n</style> "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}