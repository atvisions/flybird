{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, withCtx as _withCtx, createVNode as _createVNode, toDisplayString as _toDisplayString, vModelText as _vModelText, normalizeClass as _normalizeClass, withDirectives as _withDirectives, openBlock as _openBlock, createElementBlock as _createElementBlock, vModelCheckbox as _vModelCheckbox, withModifiers as _withModifiers, createBlock as _createBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"fixed inset-0 overflow-y-auto\"\n};\nconst _hoisted_2 = {\n  class: \"flex min-h-full items-center justify-center p-4 text-center\"\n};\nconst _hoisted_3 = {\n  class: \"text-lg font-medium text-gray-900\"\n};\nconst _hoisted_4 = {\n  class: \"space-y-6\"\n};\nconst _hoisted_5 = {\n  class: \"space-y-1\"\n};\nconst _hoisted_6 = {\n  key: 0,\n  class: \"text-sm text-red-500 mt-1\"\n};\nconst _hoisted_7 = {\n  class: \"grid grid-cols-2 gap-6\"\n};\nconst _hoisted_8 = {\n  class: \"space-y-1\"\n};\nconst _hoisted_9 = {\n  key: 0,\n  class: \"text-sm text-red-500 mt-1\"\n};\nconst _hoisted_10 = {\n  class: \"space-y-1\"\n};\nconst _hoisted_11 = {\n  key: 0,\n  class: \"text-sm text-red-500 mt-1\"\n};\nconst _hoisted_12 = {\n  class: \"space-y-2\"\n};\nconst _hoisted_13 = {\n  class: \"flex items-center space-x-4\"\n};\nconst _hoisted_14 = {\n  class: \"relative flex-1\"\n};\nconst _hoisted_15 = {\n  class: \"absolute inset-0 flex items-center justify-end pr-3 pointer-events-none\"\n};\nconst _hoisted_16 = {\n  key: 0,\n  class: \"text-gray-500\"\n};\nconst _hoisted_17 = {\n  key: 1,\n  class: \"relative flex-1\"\n};\nconst _hoisted_18 = {\n  class: \"absolute inset-0 flex items-center justify-end pr-3 pointer-events-none\"\n};\nconst _hoisted_19 = {\n  key: 0,\n  class: \"text-sm text-red-500 mt-1\"\n};\nconst _hoisted_20 = {\n  class: \"inline-flex items-center mt-2\"\n};\nconst _hoisted_21 = {\n  class: \"space-y-1\"\n};\nconst _hoisted_22 = {\n  key: 0,\n  class: \"text-sm text-red-500 mt-1\"\n};\nconst _hoisted_23 = {\n  class: \"space-y-1\"\n};\nconst _hoisted_24 = {\n  class: \"space-y-1\"\n};\nconst _hoisted_25 = {\n  class: \"flex justify-end space-x-3 pt-6\"\n};\nconst _hoisted_26 = [\"disabled\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createBlock($setup[\"TransitionRoot\"], {\n    appear: \"\",\n    show: $props.modelValue,\n    as: \"div\"\n  }, {\n    default: _withCtx(() => [_createVNode($setup[\"Dialog\"], {\n      as: \"div\",\n      class: \"relative z-50\",\n      onClose: $setup.handleClose\n    }, {\n      default: _withCtx(() => [_createCommentVNode(\" 背景遮罩 \"), _createVNode($setup[\"TransitionChild\"], {\n        as: \"div\",\n        show: true,\n        enter: \"duration-300 ease-out\",\n        \"enter-from\": \"opacity-0\",\n        \"enter-to\": \"opacity-100\",\n        leave: \"duration-200 ease-in\",\n        \"leave-from\": \"opacity-100\",\n        \"leave-to\": \"opacity-0\"\n      }, {\n        default: _withCtx(() => _cache[9] || (_cache[9] = [_createElementVNode(\"div\", {\n          class: \"fixed inset-0 bg-black/25\"\n        }, null, -1 /* HOISTED */)])),\n        _: 1 /* STABLE */\n      }), _createCommentVNode(\" 对话框 \"), _createElementVNode(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createVNode($setup[\"TransitionChild\"], {\n        as: \"template\",\n        enter: \"duration-300 ease-out\",\n        \"enter-from\": \"opacity-0 scale-95\",\n        \"enter-to\": \"opacity-100 scale-100\",\n        leave: \"duration-200 ease-in\",\n        \"leave-from\": \"opacity-100 scale-100\",\n        \"leave-to\": \"opacity-0 scale-95\"\n      }, {\n        default: _withCtx(() => [_createVNode($setup[\"DialogPanel\"], {\n          class: \"w-full max-w-2xl transform overflow-hidden rounded-xl bg-white text-left align-middle shadow-xl transition-all\"\n        }, {\n          default: _withCtx(() => [_createCommentVNode(\" 头部 \"), _createVNode($setup[\"DialogTitle\"], {\n            as: \"div\",\n            class: \"flex items-center justify-between border-b border-gray-200 px-6 py-4\"\n          }, {\n            default: _withCtx(() => [_createElementVNode(\"h3\", _hoisted_3, _toDisplayString($props.initialData.id ? '编辑工作经历' : '添加工作经历'), 1 /* TEXT */), _createElementVNode(\"button\", {\n              onClick: $setup.handleClose,\n              class: \"rounded-full p-1 hover:bg-gray-100 transition-colors\"\n            }, [_createVNode($setup[\"XMarkIcon\"], {\n              class: \"w-5 h-5 text-gray-400\"\n            })])]),\n            _: 1 /* STABLE */\n          }), _createCommentVNode(\" 表单内容 \"), _createElementVNode(\"form\", {\n            onSubmit: _withModifiers($setup.handleSubmit, [\"prevent\"]),\n            class: \"p-6\"\n          }, [_createElementVNode(\"div\", _hoisted_4, [_createCommentVNode(\" 公司名称 \"), _createElementVNode(\"div\", _hoisted_5, [_cache[10] || (_cache[10] = _createElementVNode(\"label\", {\n            class: \"block text-sm font-medium text-gray-700\"\n          }, \"公司名称\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n            \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $setup.form.company = $event),\n            type: \"text\",\n            placeholder: \"请输入公司名称\",\n            class: _normalizeClass(['w-full rounded-lg border py-2.5 px-4 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/10', $setup.errors.company ? 'border-red-300 focus:border-red-500' : 'border-gray-300 focus:border-blue-500'])\n          }, null, 2 /* CLASS */), [[_vModelText, $setup.form.company]]), $setup.errors.company ? (_openBlock(), _createElementBlock(\"p\", _hoisted_6, _toDisplayString($setup.errors.company), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true)]), _createCommentVNode(\" 所在部门和职位名称 \"), _createElementVNode(\"div\", _hoisted_7, [_createElementVNode(\"div\", _hoisted_8, [_cache[11] || (_cache[11] = _createElementVNode(\"label\", {\n            class: \"block text-sm font-medium text-gray-700\"\n          }, \"所在部门\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n            \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $setup.form.department = $event),\n            type: \"text\",\n            placeholder: \"请输入所在部门（选填）\",\n            class: _normalizeClass(['w-full rounded-lg border py-2.5 px-4 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/10', $setup.errors.department ? 'border-red-300 focus:border-red-500' : 'border-gray-300 focus:border-blue-500'])\n          }, null, 2 /* CLASS */), [[_vModelText, $setup.form.department]]), $setup.errors.department ? (_openBlock(), _createElementBlock(\"p\", _hoisted_9, _toDisplayString($setup.errors.department), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true)]), _createElementVNode(\"div\", _hoisted_10, [_cache[12] || (_cache[12] = _createElementVNode(\"label\", {\n            class: \"block text-sm font-medium text-gray-700\"\n          }, \"职位名称\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n            \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $setup.form.position = $event),\n            type: \"text\",\n            placeholder: \"请输入职位名称\",\n            class: _normalizeClass(['w-full rounded-lg border py-2.5 px-4 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/10', $setup.errors.position ? 'border-red-300 focus:border-red-500' : 'border-gray-300 focus:border-blue-500'])\n          }, null, 2 /* CLASS */), [[_vModelText, $setup.form.position]]), $setup.errors.position ? (_openBlock(), _createElementBlock(\"p\", _hoisted_11, _toDisplayString($setup.errors.position), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true)])]), _createCommentVNode(\" 在职时间 \"), _createElementVNode(\"div\", _hoisted_12, [_cache[14] || (_cache[14] = _createElementVNode(\"label\", {\n            class: \"block text-sm font-medium text-gray-700\"\n          }, \"在职时间\", -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_13, [_createElementVNode(\"div\", _hoisted_14, [_withDirectives(_createElementVNode(\"input\", {\n            ref: \"startDateInput\",\n            \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $setup.form.start_date = $event),\n            type: \"date\",\n            class: _normalizeClass(['w-full rounded-lg border py-2.5 px-4 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/10 cursor-pointer', $setup.errors.start_date ? 'border-red-300 focus:border-red-500' : 'border-gray-300 focus:border-blue-500'])\n          }, null, 2 /* CLASS */), [[_vModelText, $setup.form.start_date]]), _createElementVNode(\"div\", _hoisted_15, [_createVNode($setup[\"CalendarIcon\"], {\n            class: \"w-5 h-5 text-gray-400\"\n          })])]), !$setup.form.is_current ? (_openBlock(), _createElementBlock(\"span\", _hoisted_16, \"至\")) : _createCommentVNode(\"v-if\", true), !$setup.form.is_current ? (_openBlock(), _createElementBlock(\"div\", _hoisted_17, [_withDirectives(_createElementVNode(\"input\", {\n            ref: \"endDateInput\",\n            \"onUpdate:modelValue\": _cache[4] || (_cache[4] = $event => $setup.form.end_date = $event),\n            type: \"date\",\n            class: _normalizeClass(['w-full rounded-lg border py-2.5 px-4 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/10 cursor-pointer', $setup.errors.end_date ? 'border-red-300 focus:border-red-500' : 'border-gray-300 focus:border-blue-500'])\n          }, null, 2 /* CLASS */), [[_vModelText, $setup.form.end_date]]), _createElementVNode(\"div\", _hoisted_18, [_createVNode($setup[\"CalendarIcon\"], {\n            class: \"w-5 h-5 text-gray-400\"\n          })])])) : _createCommentVNode(\"v-if\", true)]), $setup.errors.start_date || $setup.errors.end_date ? (_openBlock(), _createElementBlock(\"p\", _hoisted_19, _toDisplayString($setup.errors.start_date || $setup.errors.end_date), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true), _createElementVNode(\"label\", _hoisted_20, [_withDirectives(_createElementVNode(\"input\", {\n            type: \"checkbox\",\n            \"onUpdate:modelValue\": _cache[5] || (_cache[5] = $event => $setup.form.is_current = $event),\n            class: \"rounded border-gray-300 text-blue-600 focus:ring-blue-500/10\"\n          }, null, 512 /* NEED_PATCH */), [[_vModelCheckbox, $setup.form.is_current]]), _cache[13] || (_cache[13] = _createElementVNode(\"span\", {\n            class: \"ml-2 text-sm text-gray-700\"\n          }, \"至今\", -1 /* HOISTED */))])]), _createCommentVNode(\" 工作描述 \"), _createElementVNode(\"div\", _hoisted_21, [_cache[15] || (_cache[15] = _createElementVNode(\"label\", {\n            class: \"block text-sm font-medium text-gray-700\"\n          }, \"工作描述\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"textarea\", {\n            \"onUpdate:modelValue\": _cache[6] || (_cache[6] = $event => $setup.form.description = $event),\n            rows: \"4\",\n            placeholder: \"请详细描述您的工作职责和内容（至少20字）\",\n            class: _normalizeClass(['w-full rounded-lg border py-2.5 px-4 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/10', $setup.errors.description ? 'border-red-300 focus:border-red-500' : 'border-gray-300 focus:border-blue-500'])\n          }, null, 2 /* CLASS */), [[_vModelText, $setup.form.description]]), $setup.errors.description ? (_openBlock(), _createElementBlock(\"p\", _hoisted_22, _toDisplayString($setup.errors.description), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true)]), _createCommentVNode(\" 工作成就 \"), _createElementVNode(\"div\", _hoisted_23, [_cache[16] || (_cache[16] = _createElementVNode(\"label\", {\n            class: \"block text-sm font-medium text-gray-700\"\n          }, \"工作成就\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"textarea\", {\n            \"onUpdate:modelValue\": _cache[7] || (_cache[7] = $event => $setup.form.achievements = $event),\n            rows: \"3\",\n            placeholder: \"请描述您在这份工作中取得的成就\",\n            class: \"w-full rounded-lg border border-gray-300 py-2.5 px-4 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/10 focus:border-blue-500\"\n          }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.form.achievements]])]), _createCommentVNode(\" 技术栈 \"), _createElementVNode(\"div\", _hoisted_24, [_cache[17] || (_cache[17] = _createElementVNode(\"label\", {\n            class: \"block text-sm font-medium text-gray-700\"\n          }, \"技术栈\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"textarea\", {\n            \"onUpdate:modelValue\": _cache[8] || (_cache[8] = $event => $setup.form.technologies = $event),\n            rows: \"2\",\n            placeholder: \"请列出您使用的主要技术栈\",\n            class: \"w-full rounded-lg border border-gray-300 py-2.5 px-4 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/10 focus:border-blue-500\"\n          }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.form.technologies]])]), _createCommentVNode(\" 底部按钮 \"), _createElementVNode(\"div\", _hoisted_25, [_createElementVNode(\"button\", {\n            type: \"button\",\n            onClick: $setup.handleClose,\n            class: \"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500\"\n          }, \" 取消 \"), _createElementVNode(\"button\", {\n            type: \"submit\",\n            disabled: $props.loading,\n            class: \"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed\"\n          }, _toDisplayString($props.loading ? '保存中...' : '确认'), 9 /* TEXT, PROPS */, _hoisted_26)])])], 32 /* NEED_HYDRATION */)]),\n          _: 1 /* STABLE */\n        })]),\n        _: 1 /* STABLE */\n      })])])]),\n      _: 1 /* STABLE */\n    })]),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"show\"]);\n}","map":{"version":3,"names":["class","key","_createBlock","$setup","appear","show","$props","modelValue","as","default","_withCtx","_createVNode","onClose","handleClose","_createCommentVNode","enter","leave","_cache","_createElementVNode","_","_hoisted_1","_hoisted_2","_hoisted_3","_toDisplayString","initialData","id","onClick","onSubmit","_withModifiers","handleSubmit","_hoisted_4","_hoisted_5","$event","form","company","type","placeholder","_normalizeClass","errors","_createElementBlock","_hoisted_6","_hoisted_7","_hoisted_8","department","_hoisted_9","_hoisted_10","position","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","ref","start_date","_hoisted_15","is_current","_hoisted_16","_hoisted_17","end_date","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","description","rows","_hoisted_22","_hoisted_23","achievements","_hoisted_24","technologies","_hoisted_25","disabled","loading","_hoisted_26"],"sources":["/Users/liuzhao/Documents/Projects/flybird/flybird-web/src/views/user/MyProfile/dialogs/EditWorkExperienceDialog.vue"],"sourcesContent":["<template>\n  <TransitionRoot appear :show=\"modelValue\" as=\"div\">\n    <Dialog as=\"div\" class=\"relative z-50\" @close=\"handleClose\">\n      <!-- 背景遮罩 -->\n      <TransitionChild\n        as=\"div\"\n        :show=\"true\"\n        enter=\"duration-300 ease-out\"\n        enter-from=\"opacity-0\"\n        enter-to=\"opacity-100\"\n        leave=\"duration-200 ease-in\"\n        leave-from=\"opacity-100\"\n        leave-to=\"opacity-0\"\n      >\n        <div class=\"fixed inset-0 bg-black/25\" />\n      </TransitionChild>\n\n      <!-- 对话框 -->\n      <div class=\"fixed inset-0 overflow-y-auto\">\n        <div class=\"flex min-h-full items-center justify-center p-4 text-center\">\n          <TransitionChild\n            as=\"template\"\n            enter=\"duration-300 ease-out\"\n            enter-from=\"opacity-0 scale-95\"\n            enter-to=\"opacity-100 scale-100\"\n            leave=\"duration-200 ease-in\"\n            leave-from=\"opacity-100 scale-100\"\n            leave-to=\"opacity-0 scale-95\"\n          >\n            <DialogPanel \n              class=\"w-full max-w-2xl transform overflow-hidden rounded-xl bg-white text-left align-middle shadow-xl transition-all\"\n            >\n              <!-- 头部 -->\n              <DialogTitle \n                as=\"div\" \n                class=\"flex items-center justify-between border-b border-gray-200 px-6 py-4\"\n              >\n                <h3 class=\"text-lg font-medium text-gray-900\">\n                  {{ initialData.id ? '编辑工作经历' : '添加工作经历' }}\n                </h3>\n                <button\n                  @click=\"handleClose\"\n                  class=\"rounded-full p-1 hover:bg-gray-100 transition-colors\"\n                >\n                  <XMarkIcon class=\"w-5 h-5 text-gray-400\" />\n                </button>\n              </DialogTitle>\n\n              <!-- 表单内容 -->\n              <form @submit.prevent=\"handleSubmit\" class=\"p-6\">\n                <div class=\"space-y-6\">\n                  <!-- 公司名称 -->\n                  <div class=\"space-y-1\">\n                    <label class=\"block text-sm font-medium text-gray-700\">公司名称</label>\n                    <input\n                      v-model=\"form.company\"\n                      type=\"text\"\n                      placeholder=\"请输入公司名称\"\n                      :class=\"[\n                        'w-full rounded-lg border py-2.5 px-4 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/10',\n                        errors.company ? 'border-red-300 focus:border-red-500' : 'border-gray-300 focus:border-blue-500'\n                      ]\"\n                    />\n                    <p v-if=\"errors.company\" class=\"text-sm text-red-500 mt-1\">{{ errors.company }}</p>\n                  </div>\n\n                  <!-- 所在部门和职位名称 -->\n                  <div class=\"grid grid-cols-2 gap-6\">\n                    <div class=\"space-y-1\">\n                      <label class=\"block text-sm font-medium text-gray-700\">所在部门</label>\n                      <input\n                        v-model=\"form.department\"\n                        type=\"text\"\n                        placeholder=\"请输入所在部门（选填）\"\n                        :class=\"[\n                          'w-full rounded-lg border py-2.5 px-4 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/10',\n                          errors.department ? 'border-red-300 focus:border-red-500' : 'border-gray-300 focus:border-blue-500'\n                        ]\"\n                      />\n                      <p v-if=\"errors.department\" class=\"text-sm text-red-500 mt-1\">{{ errors.department }}</p>\n                    </div>\n\n                    <div class=\"space-y-1\">\n                      <label class=\"block text-sm font-medium text-gray-700\">职位名称</label>\n                      <input\n                        v-model=\"form.position\"\n                        type=\"text\"\n                        placeholder=\"请输入职位名称\"\n                        :class=\"[\n                          'w-full rounded-lg border py-2.5 px-4 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/10',\n                          errors.position ? 'border-red-300 focus:border-red-500' : 'border-gray-300 focus:border-blue-500'\n                        ]\"\n                      />\n                      <p v-if=\"errors.position\" class=\"text-sm text-red-500 mt-1\">{{ errors.position }}</p>\n                    </div>\n                  </div>\n\n                  <!-- 在职时间 -->\n                  <div class=\"space-y-2\">\n                    <label class=\"block text-sm font-medium text-gray-700\">在职时间</label>\n                    <div class=\"flex items-center space-x-4\">\n                      <div class=\"relative flex-1\">\n                        <input\n                          ref=\"startDateInput\"\n                          v-model=\"form.start_date\"\n                          type=\"date\"\n                          :class=\"[\n                            'w-full rounded-lg border py-2.5 px-4 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/10 cursor-pointer',\n                            errors.start_date ? 'border-red-300 focus:border-red-500' : 'border-gray-300 focus:border-blue-500'\n                          ]\"\n                        />\n                        <div class=\"absolute inset-0 flex items-center justify-end pr-3 pointer-events-none\">\n                          <CalendarIcon class=\"w-5 h-5 text-gray-400\" />\n                        </div>\n                      </div>\n                      \n                      <span v-if=\"!form.is_current\" class=\"text-gray-500\">至</span>\n                      \n                      <div v-if=\"!form.is_current\" class=\"relative flex-1\">\n                        <input\n                          ref=\"endDateInput\"\n                          v-model=\"form.end_date\"\n                          type=\"date\"\n                          :class=\"[\n                            'w-full rounded-lg border py-2.5 px-4 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/10 cursor-pointer',\n                            errors.end_date ? 'border-red-300 focus:border-red-500' : 'border-gray-300 focus:border-blue-500'\n                          ]\"\n                        />\n                        <div class=\"absolute inset-0 flex items-center justify-end pr-3 pointer-events-none\">\n                          <CalendarIcon class=\"w-5 h-5 text-gray-400\" />\n                        </div>\n                      </div>\n                    </div>\n                    <p v-if=\"errors.start_date || errors.end_date\" class=\"text-sm text-red-500 mt-1\">\n                      {{ errors.start_date || errors.end_date }}\n                    </p>\n                    \n                    <label class=\"inline-flex items-center mt-2\">\n                      <input\n                        type=\"checkbox\"\n                        v-model=\"form.is_current\"\n                        class=\"rounded border-gray-300 text-blue-600 focus:ring-blue-500/10\"\n                      />\n                      <span class=\"ml-2 text-sm text-gray-700\">至今</span>\n                    </label>\n                  </div>\n\n                  <!-- 工作描述 -->\n                  <div class=\"space-y-1\">\n                    <label class=\"block text-sm font-medium text-gray-700\">工作描述</label>\n                    <textarea\n                      v-model=\"form.description\"\n                      rows=\"4\"\n                      placeholder=\"请详细描述您的工作职责和内容（至少20字）\"\n                      :class=\"[\n                        'w-full rounded-lg border py-2.5 px-4 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/10',\n                        errors.description ? 'border-red-300 focus:border-red-500' : 'border-gray-300 focus:border-blue-500'\n                      ]\"\n                    ></textarea>\n                    <p v-if=\"errors.description\" class=\"text-sm text-red-500 mt-1\">{{ errors.description }}</p>\n                  </div>\n\n                  <!-- 工作成就 -->\n                  <div class=\"space-y-1\">\n                    <label class=\"block text-sm font-medium text-gray-700\">工作成就</label>\n                    <textarea\n                      v-model=\"form.achievements\"\n                      rows=\"3\"\n                      placeholder=\"请描述您在这份工作中取得的成就\"\n                      class=\"w-full rounded-lg border border-gray-300 py-2.5 px-4 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/10 focus:border-blue-500\"\n                    ></textarea>\n                  </div>\n\n                  <!-- 技术栈 -->\n                  <div class=\"space-y-1\">\n                    <label class=\"block text-sm font-medium text-gray-700\">技术栈</label>\n                    <textarea\n                      v-model=\"form.technologies\"\n                      rows=\"2\"\n                      placeholder=\"请列出您使用的主要技术栈\"\n                      class=\"w-full rounded-lg border border-gray-300 py-2.5 px-4 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/10 focus:border-blue-500\"\n                    ></textarea>\n                  </div>\n\n                  <!-- 底部按钮 -->\n                  <div class=\"flex justify-end space-x-3 pt-6\">\n                    <button\n                      type=\"button\"\n                      @click=\"handleClose\"\n                      class=\"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500\"\n                    >\n                      取消\n                    </button>\n                    <button\n                      type=\"submit\"\n                      :disabled=\"loading\"\n                      class=\"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed\"\n                    >\n                      {{ loading ? '保存中...' : '确认' }}\n                    </button>\n                  </div>\n                </div>\n              </form>\n            </DialogPanel>\n          </TransitionChild>\n        </div>\n      </div>\n    </Dialog>\n  </TransitionRoot>\n</template>\n\n<script setup>\nimport { ref, watch, onMounted } from 'vue'\nimport {\n  Dialog,\n  DialogPanel,\n  DialogTitle,\n  TransitionRoot,\n  TransitionChild\n} from '@headlessui/vue'\nimport { XMarkIcon, CalendarIcon } from '@heroicons/vue/24/outline'\n\nconst props = defineProps({\n  modelValue: {\n    type: Boolean,\n    default: false\n  },\n  initialData: {\n    type: Object,\n    default: () => ({})\n  },\n  loading: {\n    type: Boolean,\n    default: false\n  }\n})\n\nconst emit = defineEmits(['update:modelValue', 'submit'])\n\n// 表单数据\nconst form = ref({\n  id: null,\n  company: '',\n  position: '',\n  department: '',\n  start_date: null,\n  end_date: null,\n  is_current: false,\n  description: '',\n  achievements: '',\n  technologies: ''\n})\n\n// 监听初始数据变化\nwatch(() => props.initialData, (newVal) => {\n  if (newVal) {\n    // 确保所有字段都有默认值\n    form.value = {\n      id: newVal.id || null,\n      company: newVal.company || '',\n      position: newVal.position || '',\n      department: newVal.department || '',\n      start_date: newVal.start_date?.split('T')[0] || null,\n      end_date: newVal.end_date?.split('T')[0] || null,\n      is_current: newVal.is_current || false,\n      description: newVal.description || '',\n      achievements: newVal.achievements || '',\n      technologies: newVal.technologies || ''\n    }\n  }\n}, { immediate: true, deep: true })\n\nconst handleClose = () => {\n  emit('update:modelValue', false)\n}\n\n// 表单验证状态\nconst errors = ref({\n  company: '',\n  position: '',\n  department: '',\n  start_date: '',\n  end_date: '',\n  description: ''\n})\n\n// 验证表单\nconst validateForm = () => {\n  let isValid = true\n  errors.value = {\n    company: '',\n    position: '',\n    department: '',\n    start_date: '',\n    end_date: '',\n    description: ''\n  }\n\n  // 必填字段验证\n  if (!form.value.company?.trim()) {\n    errors.value.company = '请输入公司名称'\n    isValid = false\n  }\n\n  if (!form.value.position?.trim()) {\n    errors.value.position = '请输入职位名称'\n    isValid = false\n  }\n\n  if (!form.value.start_date) {\n    errors.value.start_date = '请选择入职时间'\n    isValid = false\n  }\n\n  if (!form.value.is_current && !form.value.end_date) {\n    errors.value.end_date = '请选择离职时间或勾选\"至今\"'\n    isValid = false\n  }\n\n  // 工作描述至少20字\n  if (!form.value.description?.trim() || form.value.description.length < 20) {\n    errors.value.description = '工作描述至少需要20个字符'\n    isValid = false\n  }\n\n  // 日期逻辑验证\n  if (form.value.start_date && form.value.end_date && !form.value.is_current) {\n    const startDate = new Date(form.value.start_date)\n    const endDate = new Date(form.value.end_date)\n    if (endDate < startDate) {\n      errors.value.end_date = '离职时间不能早于入职时间'\n      isValid = false\n    }\n  }\n\n  return isValid\n}\n\n// 提交处理\nconst handleSubmit = () => {\n  if (!validateForm()) {\n    return\n  }\n  \n  const formData = {\n    ...form.value,\n    // 处理日期格式\n    start_date: form.value.start_date,\n    end_date: form.value.is_current ? null : form.value.end_date,\n    // 确保文本字段有值\n    department: form.value.department?.trim() || '',\n    achievements: form.value.achievements?.trim() || '',\n    technologies: form.value.technologies?.trim() || ''\n  }\n  \n  emit('submit', formData)\n}\n\n// 添加 ref 引用\nconst startDateInput = ref(null)\nconst endDateInput = ref(null)\n\nonMounted(() => {\n  // 初始化表单数据\n  if (props.initialData) {\n    form.value = { ...props.initialData }\n  }\n})\n</script>\n\n<style scoped>\n/* 移动端适配 */\n@media (max-width: 640px) {\n  .grid {\n    @apply grid-cols-1 gap-4;\n  }\n}\n\n/* 输入框聚焦效果 */\ninput:focus, textarea:focus {\n  @apply ring-2 ring-blue-500/10 border-blue-500;\n}\n\n/* 过渡动画 */\n.transition-all {\n  @apply duration-200;\n}\n\n/* 错误状态下的输入框动画 */\n.border-red-300 {\n  @apply transition-colors duration-200;\n}\n\n/* 错误提示文字渐入动画 */\n@keyframes fade-in {\n  from {\n    opacity: 0;\n    transform: translateY(-4px);\n  }\n  to {\n    opacity: 1;\n    transform: translateY(0);\n  }\n}\n\n.text-red-500 {\n  animation: fade-in 0.2s ease-out;\n}\n\n/* 隐藏浏览器默认的日历图标 */\ninput[type=\"date\"]::-webkit-calendar-picker-indicator {\n  position: absolute;\n  right: 0;\n  top: 0;\n  width: 2.5rem;\n  height: 100%;\n  margin: 0;\n  opacity: 0;\n  cursor: pointer;\n}\n\n/* 让日期输入框可点击 */\ninput[type=\"date\"] {\n  cursor: pointer;\n  position: relative;\n  background-color: transparent;\n}\n</style> "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}