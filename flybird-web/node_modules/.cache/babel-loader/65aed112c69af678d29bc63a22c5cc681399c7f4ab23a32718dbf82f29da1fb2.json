{"ast":null,"code":"import \"core-js/modules/esnext.iterator.constructor.js\";\nimport \"core-js/modules/esnext.iterator.filter.js\";\nimport { ref, computed, onMounted, watch, onUnmounted } from 'vue';\nimport { useRouter } from 'vue-router';\nimport { useAccountStore } from '@/stores/account';\nimport { membership } from '@/api/membership';\nimport { SparklesIcon, CloudArrowUpIcon, ChatBubbleLeftRightIcon, QuestionMarkCircleIcon, CheckCircleIcon, GiftIcon, ClipboardDocumentListIcon, StarIcon, PencilSquareIcon, CalendarDaysIcon, DocumentTextIcon, CloudIcon, DocumentChartBarIcon, UserGroupIcon, CheckIcon, DocumentIcon, BoltIcon, HeartIcon, UserIcon, TrophyIcon, ChevronDownIcon, SparklesIcon as CrownIcon } from '@heroicons/vue/24/outline';\nexport default {\n  __name: 'index',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const router = useRouter();\n    const accountStore = useAccountStore();\n\n    // 会员权益\n    const memberBenefits = [{\n      key: 'template',\n      name: '会员模板',\n      desc: '进阶模板无限用',\n      icon: DocumentIcon\n    }, {\n      key: 'points',\n      name: '双倍积分',\n      desc: '所有活动双倍奖',\n      icon: StarIcon\n    }, {\n      key: 'ai',\n      name: 'AI助手',\n      desc: '智能档案优化',\n      icon: BoltIcon\n    }, {\n      key: 'storage',\n      name: '超大空间',\n      desc: '100G专属云盘',\n      icon: CloudIcon\n    }, {\n      key: 'support',\n      name: '专属客服',\n      desc: '7×24小时服务',\n      icon: HeartIcon\n    }];\n\n    // 积分信息\n    const pointsInfo = ref({\n      balance: 0,\n      total_earned: 0,\n      total_spent: 0,\n      level: 1\n    });\n\n    // 订单记录\n    const orders = ref([]);\n\n    // 积分记录相关\n    const currentFilter = ref('all');\n    const pointsRecords = ref([]);\n    const currentPage = ref(1);\n    const hasMore = ref(true);\n    const loading = ref(false);\n    const pointsFilters = [{\n      label: '全部',\n      value: 'all'\n    }, {\n      label: '获得',\n      value: 'earned'\n    }, {\n      label: '使用',\n      value: 'spent'\n    }];\n\n    // 过滤后的记录\n    const filteredRecords = computed(() => {\n      if (currentFilter.value === 'all') return pointsRecords.value;\n      return pointsRecords.value.filter(record => currentFilter.value === 'earned' ? record.points > 0 : record.points < 0);\n    });\n\n    // 获取积分信息\n    const fetchPointsInfo = async () => {\n      try {\n        const response = await membership.getPointsInfo();\n        if (response?.data?.code === 200) {\n          pointsInfo.value = response.data.data;\n        }\n      } catch (error) {\n        console.error('获取积分信息失败:', error);\n      }\n    };\n\n    // 获取订单记录\n    const fetchOrders = async () => {\n      try {\n        const response = await membership.getOrders();\n        if (response?.data?.code === 200) {\n          orders.value = response.data.data || [];\n        }\n      } catch (error) {\n        console.error('获取订单列表失败:', error);\n      }\n    };\n\n    // 获取积分记录\n    const fetchPointsRecords = async (page = 1) => {\n      if (loading.value) return;\n      loading.value = true;\n      try {\n        const response = await membership.getPointsRecords({\n          page,\n          page_size: 10\n        });\n        if (response?.data?.code === 200) {\n          const {\n            records,\n            has_more\n          } = response.data.data;\n          if (page === 1) {\n            pointsRecords.value = records;\n          } else {\n            pointsRecords.value.push(...records);\n          }\n          hasMore.value = has_more;\n          currentPage.value = page;\n        }\n      } catch (error) {\n        console.error('获取积分记录失败:', error);\n      } finally {\n        loading.value = false;\n      }\n    };\n\n    // 加载更多\n    const loadMore = () => {\n      fetchPointsRecords(currentPage.value + 1);\n    };\n\n    // 监听筛选变化\n    watch(currentFilter, () => {\n      // 切换筛选时重置到第一页\n      currentPage.value = 1;\n      fetchPointsRecords(1);\n    });\n\n    // 会员类型文本\n    const vipTypeText = computed(() => {\n      const userInfo = accountStore.userInfo;\n      if (!userInfo?.is_vip) return '普通用户';\n      return userInfo.vip_status;\n    });\n\n    // 会员到期文本\n    const vipExpireText = computed(() => {\n      const userInfo = accountStore.userInfo;\n      if (!userInfo?.is_vip) return '开通会员享专属权益';\n      if (userInfo.vip_type === 'lifetime') return '终身会员';\n      if (userInfo.vip_expire_time) {\n        const expireDate = new Date(userInfo.vip_expire_time);\n        const now = new Date();\n        const diffDays = Math.floor((expireDate - now) / (1000 * 60 * 60 * 24));\n        return diffDays > 0 ? `剩余 ${diffDays} 天` : '已过期';\n      }\n      return '';\n    });\n\n    // 会员按钮文本和处理\n    const vipButtonText = computed(() => {\n      const userInfo = accountStore.userInfo;\n      if (!userInfo?.is_vip) return '立即开通';\n      if (userInfo.vip_type === 'lifetime') return '查看权益';\n      return '立即续费';\n    });\n    const handleVipButton = () => {\n      const userInfo = accountStore.userInfo;\n      if (!userInfo?.is_vip) {\n        router.push('/pro');\n      } else if (userInfo.vip_type === 'lifetime') {\n        // 显示会员权益详情\n      } else {\n        router.push('/pro');\n      }\n    };\n\n    // 获取等级称号\n    const getLevelTitle = level => {\n      const levelConfig = {\n        1: {\n          title: '初级会员',\n          range: '0-1000积分'\n        },\n        2: {\n          title: '进阶会员',\n          range: '1001-3000积分'\n        },\n        3: {\n          title: '高级会员',\n          range: '3001-8000积分'\n        },\n        4: {\n          title: '精英会员',\n          range: '8001-15000积分'\n        },\n        5: {\n          title: '至尊会员',\n          range: '15000+积分'\n        }\n      };\n      return levelConfig[level]?.title || '普通会员';\n    };\n    const showTooltip = ref(false);\n\n    // 提示框位置\n    const tooltipPosition = ref({\n      x: 0,\n      y: 0\n    });\n\n    // 计算提示框位置\n    const calculateTooltipPosition = event => {\n      const iconRect = event.target.getBoundingClientRect();\n      const tooltipWidth = 320; // w-80 = 20rem = 320px\n      const tooltipHeight = 480; // 预估高度\n\n      // 水平居中于图标\n      const x = iconRect.left + iconRect.width / 2 - tooltipWidth / 2;\n      // 位于图标上方，留出足够空间\n      const y = iconRect.top - tooltipHeight - 10;\n\n      // 确保不超出视窗边界\n      const adjustedX = Math.max(16, Math.min(x, window.innerWidth - tooltipWidth - 16));\n      const adjustedY = Math.max(16, y);\n      tooltipPosition.value = {\n        x: adjustedX,\n        y: adjustedY\n      };\n    };\n\n    // 修改鼠标进入事件处理\n    const handleMouseEnter = event => {\n      calculateTooltipPosition(event);\n      showTooltip.value = true;\n    };\n\n    // 获取下一等级所需积分\n    const getNextLevelPoints = (currentLevel, currentPoints) => {\n      const levelThresholds = {\n        1: 1000,\n        2: 3000,\n        3: 8000,\n        4: 15000,\n        5: Infinity\n      };\n      if (currentLevel >= 5) return 0;\n      const nextLevelThreshold = levelThresholds[currentLevel + 1];\n      return nextLevelThreshold - currentPoints;\n    };\n\n    // 获取当前等级进度\n    const getLevelProgress = (currentLevel, currentPoints) => {\n      const levelRanges = {\n        1: {\n          min: 0,\n          max: 1000\n        },\n        2: {\n          min: 1001,\n          max: 3000\n        },\n        3: {\n          min: 3001,\n          max: 8000\n        },\n        4: {\n          min: 8001,\n          max: 15000\n        },\n        5: {\n          min: 15001,\n          max: 15001\n        } // 最高等级\n      };\n      const range = levelRanges[currentLevel];\n      if (!range) return 0;\n      const total = range.max - range.min;\n      const current = currentPoints - range.min;\n      return Math.min(100, Math.max(0, current / total * 100));\n    };\n\n    // 是否可以签到\n    const canSignIn = computed(() => !pointsInfo.value.signed_today);\n\n    // 处理签到\n    const handleSignIn = async () => {\n      if (!canSignIn.value) return;\n      try {\n        const response = await membership.signIn();\n        if (response?.data?.code === 200) {\n          await fetchPointsInfo(); // 刷新积分信息\n          showToast('签到成功', 'success');\n        }\n      } catch (error) {\n        console.error('签到失败:', error);\n        showToast('签到失败，请重试', 'error');\n      }\n    };\n\n    // 获取等级阈值\n    const getLevelThreshold = level => {\n      const thresholds = {\n        1: 1000,\n        2: 3000,\n        3: 8000,\n        4: 15000,\n        5: Infinity\n      };\n      return thresholds[level] || 1000;\n    };\n\n    // 获取签到提示\n    const getSignInTip = () => {\n      if (!pointsInfo.value.signed_today) {\n        return '今日签到可获得3积分';\n      }\n      if (pointsInfo.value.sign_in_days % 7 === 6) {\n        return '明日签到可获得额外10积分奖励';\n      }\n      if (pointsInfo.value.sign_in_days % 30 === 29) {\n        return '明日签到可获得额外50积分奖励';\n      }\n      return `已连续签到 ${pointsInfo.value.sign_in_days} 天`;\n    };\n\n    // 获取等级范围说明\n    const getLevelRange = level => {\n      const ranges = {\n        1: '0-1,000积分',\n        2: '1,001-3,000积分',\n        3: '3,001-8,000积分',\n        4: '8,001-15,000积分',\n        5: '15,000+积分'\n      };\n      return ranges[level] || '';\n    };\n\n    // 获取等级特权说明\n    const getLevelPrivileges = level => {\n      const privileges = {\n        1: [{\n          title: '发布简历动态',\n          description: '可以发布个人简历动态，提高求职机会'\n        }, {\n          title: '参与社区讨论',\n          description: '可以在社区中发表观点和建议'\n        }, {\n          title: '基础积分奖励',\n          description: '参与平台活动获得基础积分奖励'\n        }, {\n          title: '个人主页展示',\n          description: '拥有独立的个人主页展示空间'\n        }],\n        2: [{\n          title: '简历曝光加成',\n          description: '简历展示机会提升30%'\n        }, {\n          title: '简历动态置顶',\n          description: '简历动态可享受置顶展示特权'\n        }, {\n          title: '积分加速成长',\n          description: '所有积分奖励增加20%'\n        }, {\n          title: '社区徽章展示',\n          description: '专属的社区等级徽章展示'\n        }],\n        3: [{\n          title: '专属等级标识',\n          description: '拥有专属的等级标识'\n        }, {\n          title: '简历优先推荐',\n          description: '简历优先推荐给高级用户'\n        }, {\n          title: '开通打赏功能',\n          description: '可以开通打赏功能'\n        }, {\n          title: '高级积分特权',\n          description: '获得高级积分特权'\n        }],\n        4: [{\n          title: '内容免审发布',\n          description: '可以发布内容，无需审核'\n        }, {\n          title: '简历优先投递',\n          description: '简历优先投递给高级用户'\n        }, {\n          title: '打赏特权加成',\n          description: '打赏金额增加20%'\n        }, {\n          title: '社区荣誉称号',\n          description: '获得社区荣誉称号'\n        }],\n        5: [{\n          title: '资深用户认证',\n          description: '获得资深用户认证'\n        }, {\n          title: '内容审核特权',\n          description: '获得内容审核特权'\n        }, {\n          title: '打赏收益加成',\n          description: '打赏金额增加20%'\n        }, {\n          title: '专属成就徽章',\n          description: '获得专属成就徽章'\n        }]\n      };\n      return privileges[level] || [];\n    };\n\n    // 格式化订单状态\n    const formatOrderStatus = status => {\n      const statusMap = {\n        'pending': '待支付',\n        'paid': '已支付',\n        'cancelled': '已取消',\n        'refunded': '已退款'\n      };\n      return statusMap[status] || status;\n    };\n\n    // 格式化支付方式\n    const formatPaymentMethod = method => {\n      const methodMap = {\n        'alipay': '支付宝',\n        'wechat': '微信支付'\n      };\n      return methodMap[method] || method;\n    };\n\n    // 格式化时间\n    const formatDate = dateString => {\n      if (!dateString) return '';\n      const date = new Date(dateString);\n      return date.toLocaleString('zh-CN', {\n        year: 'numeric',\n        month: '2-digit',\n        day: '2-digit',\n        hour: '2-digit',\n        minute: '2-digit'\n      });\n    };\n\n    // 格式化会员时长\n    const formatDuration = days => {\n      if (!days) return '-';\n      if (days >= 365) {\n        const years = Math.floor(days / 365);\n        return `${years}年会员`;\n      }\n      if (days >= 90) {\n        const quarters = Math.floor(days / 90);\n        return `${quarters}季会员`;\n      }\n      if (days >= 30) {\n        const months = Math.floor(days / 30);\n        return `${months}月会员`;\n      }\n      return `${days}天会员`;\n    };\n\n    // 格式化会员类型\n    const formatMembershipType = order => {\n      // 优先使用 tier_name\n      if (order.tier_name) return order.tier_name;\n\n      // 然后尝试使用 tier.name\n      if (order.tier?.name) return order.tier.name;\n\n      // 最后根据天数判断会员类型\n      const days = order.days;\n      if (!days) return '-';\n      if (days === 365) return '年度会员';\n      if (days === 90) return '季度会员';\n      if (days === 30) return '月度会员';\n\n      // 如果是其他天数，显示具体天数\n      return `${days}天会员`;\n    };\n\n    // Tab 配置\n    const tabs = [{\n      key: 'points',\n      name: '积分规则'\n    }, {\n      key: 'privileges',\n      name: '等级权益'\n    }, {\n      key: 'orders',\n      name: '我的订单'\n    }];\n\n    // 当前选中的 tab\n    const currentTab = ref('points');\n\n    // 积分规则数据\n    const pointRules = [{\n      action: '每日签到',\n      points: '+3积分/次',\n      description: '每日登录签到即可获得积分奖励',\n      icon: CalendarDaysIcon,\n      bgColor: 'bg-blue-50',\n      iconColor: 'text-blue-500',\n      textColor: 'text-blue-500',\n      borderColor: 'border-blue-100'\n    }, {\n      action: '完善档案',\n      points: '+20积分/项',\n      description: '完善个人档案信息可获得积分奖励',\n      icon: UserIcon,\n      bgColor: 'bg-purple-50',\n      iconColor: 'text-purple-500',\n      textColor: 'text-purple-500',\n      borderColor: 'border-purple-100'\n    }, {\n      action: '发布简历',\n      points: '+50积分/份',\n      description: '创建并发布简历可获得积分奖励',\n      icon: DocumentTextIcon,\n      bgColor: 'bg-green-50',\n      iconColor: 'text-green-500',\n      textColor: 'text-green-500',\n      borderColor: 'border-green-100'\n    }, {\n      action: '邀请好友',\n      points: '+100积分/人',\n      description: '成功邀请好友注册可获得积分奖励',\n      icon: UserGroupIcon,\n      bgColor: 'bg-pink-50',\n      iconColor: 'text-pink-500',\n      textColor: 'text-pink-500',\n      borderColor: 'border-pink-100'\n    }, {\n      action: '社区互动',\n      points: '+5积分/次',\n      description: '参与社区讨论、评论可获得积分奖励',\n      icon: ChatBubbleLeftRightIcon,\n      bgColor: 'bg-orange-50',\n      iconColor: 'text-orange-500',\n      textColor: 'text-orange-500',\n      borderColor: 'border-orange-100'\n    }, {\n      action: '周签到奖励',\n      points: '+10积分/周',\n      description: '连续签到7天可获得额外积分奖励',\n      icon: StarIcon,\n      bgColor: 'bg-yellow-50',\n      iconColor: 'text-yellow-500',\n      textColor: 'text-yellow-500',\n      borderColor: 'border-yellow-100'\n    }, {\n      action: '月签到奖励',\n      points: '+50积分/月',\n      description: '连续签到30天可获得额外积分奖励',\n      icon: SparklesIcon,\n      bgColor: 'bg-indigo-50',\n      iconColor: 'text-indigo-500',\n      textColor: 'text-indigo-500',\n      borderColor: 'border-indigo-100'\n    }, {\n      action: '活动参与',\n      points: '+30积分/次',\n      description: '参与平台举办的活动可获得积分奖励',\n      icon: GiftIcon,\n      bgColor: 'bg-red-50',\n      iconColor: 'text-red-500',\n      textColor: 'text-red-500',\n      borderColor: 'border-red-100'\n    }, {\n      action: '好评分享',\n      points: '+20积分/次',\n      description: '分享使用体验并好评可获得积分奖励',\n      icon: HeartIcon,\n      bgColor: 'bg-rose-50',\n      iconColor: 'text-rose-500',\n      textColor: 'text-rose-500',\n      borderColor: 'border-rose-100'\n    }];\n\n    // 展开的订单列表\n    const expandedOrders = ref([]);\n\n    // 切换订单详情显示\n    const toggleOrderDetail = orderNo => {\n      const index = expandedOrders.value.indexOf(orderNo);\n      if (index === -1) {\n        expandedOrders.value.push(orderNo);\n      } else {\n        expandedOrders.value.splice(index, 1);\n      }\n    };\n\n    // 处理支付\n    const handlePayment = order => {\n      // 实现支付逻辑\n      router.push(`/payment?order_no=${order.order_no}`);\n    };\n\n    // 查看订单详情\n    const showOrderDetail = order => {\n      // 实现查看详情逻辑\n      router.push(`/orders/${order.order_no}`);\n    };\n    onMounted(async () => {\n      await Promise.all([fetchPointsInfo(), fetchOrders(), fetchPointsRecords()]);\n\n      // 添加窗口大小变化监听\n      window.addEventListener('resize', () => {\n        if (showTooltip.value) {\n          showTooltip.value = false;\n        }\n      });\n    });\n\n    // 在 onUnmounted 中清理\n    onUnmounted(() => {\n      window.removeEventListener('resize', () => {\n        if (showTooltip.value) {\n          showTooltip.value = false;\n        }\n      });\n    });\n    const __returned__ = {\n      router,\n      accountStore,\n      memberBenefits,\n      pointsInfo,\n      orders,\n      currentFilter,\n      pointsRecords,\n      currentPage,\n      hasMore,\n      loading,\n      pointsFilters,\n      filteredRecords,\n      fetchPointsInfo,\n      fetchOrders,\n      fetchPointsRecords,\n      loadMore,\n      vipTypeText,\n      vipExpireText,\n      vipButtonText,\n      handleVipButton,\n      getLevelTitle,\n      showTooltip,\n      tooltipPosition,\n      calculateTooltipPosition,\n      handleMouseEnter,\n      getNextLevelPoints,\n      getLevelProgress,\n      canSignIn,\n      handleSignIn,\n      getLevelThreshold,\n      getSignInTip,\n      getLevelRange,\n      getLevelPrivileges,\n      formatOrderStatus,\n      formatPaymentMethod,\n      formatDate,\n      formatDuration,\n      formatMembershipType,\n      tabs,\n      currentTab,\n      pointRules,\n      expandedOrders,\n      toggleOrderDetail,\n      handlePayment,\n      showOrderDetail,\n      ref,\n      computed,\n      onMounted,\n      watch,\n      onUnmounted,\n      get useRouter() {\n        return useRouter;\n      },\n      get useAccountStore() {\n        return useAccountStore;\n      },\n      get membership() {\n        return membership;\n      },\n      get SparklesIcon() {\n        return SparklesIcon;\n      },\n      get CloudArrowUpIcon() {\n        return CloudArrowUpIcon;\n      },\n      get ChatBubbleLeftRightIcon() {\n        return ChatBubbleLeftRightIcon;\n      },\n      get QuestionMarkCircleIcon() {\n        return QuestionMarkCircleIcon;\n      },\n      get CheckCircleIcon() {\n        return CheckCircleIcon;\n      },\n      get GiftIcon() {\n        return GiftIcon;\n      },\n      get ClipboardDocumentListIcon() {\n        return ClipboardDocumentListIcon;\n      },\n      get StarIcon() {\n        return StarIcon;\n      },\n      get PencilSquareIcon() {\n        return PencilSquareIcon;\n      },\n      get CalendarDaysIcon() {\n        return CalendarDaysIcon;\n      },\n      get DocumentTextIcon() {\n        return DocumentTextIcon;\n      },\n      get CloudIcon() {\n        return CloudIcon;\n      },\n      get DocumentChartBarIcon() {\n        return DocumentChartBarIcon;\n      },\n      get UserGroupIcon() {\n        return UserGroupIcon;\n      },\n      get CheckIcon() {\n        return CheckIcon;\n      },\n      get DocumentIcon() {\n        return DocumentIcon;\n      },\n      get BoltIcon() {\n        return BoltIcon;\n      },\n      get HeartIcon() {\n        return HeartIcon;\n      },\n      get UserIcon() {\n        return UserIcon;\n      },\n      get TrophyIcon() {\n        return TrophyIcon;\n      },\n      get ChevronDownIcon() {\n        return ChevronDownIcon;\n      },\n      get CrownIcon() {\n        return CrownIcon;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","computed","onMounted","watch","onUnmounted","useRouter","useAccountStore","membership","SparklesIcon","CloudArrowUpIcon","ChatBubbleLeftRightIcon","QuestionMarkCircleIcon","CheckCircleIcon","GiftIcon","ClipboardDocumentListIcon","StarIcon","PencilSquareIcon","CalendarDaysIcon","DocumentTextIcon","CloudIcon","DocumentChartBarIcon","UserGroupIcon","CheckIcon","DocumentIcon","BoltIcon","HeartIcon","UserIcon","TrophyIcon","ChevronDownIcon","CrownIcon","router","accountStore","memberBenefits","key","name","desc","icon","pointsInfo","balance","total_earned","total_spent","level","orders","currentFilter","pointsRecords","currentPage","hasMore","loading","pointsFilters","label","value","filteredRecords","filter","record","points","fetchPointsInfo","response","getPointsInfo","data","code","error","console","fetchOrders","getOrders","fetchPointsRecords","page","getPointsRecords","page_size","records","has_more","push","loadMore","vipTypeText","userInfo","is_vip","vip_status","vipExpireText","vip_type","vip_expire_time","expireDate","Date","now","diffDays","Math","floor","vipButtonText","handleVipButton","getLevelTitle","levelConfig","title","range","showTooltip","tooltipPosition","x","y","calculateTooltipPosition","event","iconRect","target","getBoundingClientRect","tooltipWidth","tooltipHeight","left","width","top","adjustedX","max","min","window","innerWidth","adjustedY","handleMouseEnter","getNextLevelPoints","currentLevel","currentPoints","levelThresholds","Infinity","nextLevelThreshold","getLevelProgress","levelRanges","total","current","canSignIn","signed_today","handleSignIn","signIn","showToast","getLevelThreshold","thresholds","getSignInTip","sign_in_days","getLevelRange","ranges","getLevelPrivileges","privileges","description","formatOrderStatus","status","statusMap","formatPaymentMethod","method","methodMap","formatDate","dateString","date","toLocaleString","year","month","day","hour","minute","formatDuration","days","years","quarters","months","formatMembershipType","order","tier_name","tier","tabs","currentTab","pointRules","action","bgColor","iconColor","textColor","borderColor","expandedOrders","toggleOrderDetail","orderNo","index","indexOf","splice","handlePayment","order_no","showOrderDetail","Promise","all","addEventListener","removeEventListener"],"sources":["/Users/liuzhao/Documents/Projects/flybird/flybird-web/src/views/user/Membership/index.vue"],"sourcesContent":["<template>\n  <div class=\"space-y-8\">\n    <!-- 会员状态卡片 -->\n    <div class=\"bg-white rounded-lg shadow overflow-hidden\">\n      <div class=\"px-6 py-8 bg-gradient-to-br from-[#1A56DB] via-blue-600 to-blue-500 relative overflow-hidden\">\n        <!-- 装饰背景 -->\n        <div class=\"absolute inset-0\">\n          <div class=\"absolute right-0 top-0 w-64 h-64 bg-white/10 rounded-full blur-3xl transform translate-x-1/2 -translate-y-1/2\"></div>\n          <div class=\"absolute left-0 bottom-0 w-32 h-32 bg-white/5 rounded-full blur-2xl\"></div>\n        </div>\n        <!-- 内容 -->\n        <div class=\"flex flex-col lg:flex-row items-start lg:items-center justify-between relative space-y-4 lg:space-y-0\">\n          <div class=\"text-white\">\n            <h3 class=\"text-2xl font-bold tracking-tight\">{{ vipTypeText }}</h3>\n            <p class=\"mt-2 text-white/80 font-medium\">{{ vipExpireText }}</p>\n          </div>\n          <button \n            @click=\"handleVipButton\"\n            class=\"w-full lg:w-auto px-6 py-2.5 bg-white/10 backdrop-blur-sm text-white border border-white/20 rounded-full text-sm font-medium hover:bg-white/20 transition-all duration-300\"\n          >\n            {{ vipButtonText }}\n          </button>\n        </div>\n      </div>\n      \n      <!-- 会员权益 -->\n      <div class=\"px-6 py-4\">\n        <h4 class=\"text-base font-medium text-gray-900 mb-4\">专属会员权益</h4>\n        <div class=\"grid grid-cols-1 lg:grid-cols-5 gap-4 lg:gap-6\">\n          <div v-for=\"benefit in memberBenefits\" :key=\"benefit.key\" \n            class=\"flex lg:flex-col items-center lg:text-center p-3 lg:p-0 bg-gray-50/50 lg:bg-transparent rounded-lg lg:rounded-none\"\n          >\n            <div class=\"w-10 lg:w-12 h-10 lg:h-12 rounded-full bg-gradient-to-br from-blue-50 to-blue-100/50 flex items-center justify-center\">\n              <component :is=\"benefit.icon\" class=\"w-6 h-6 text-[#1A56DB]\" />\n            </div>\n            <div class=\"ml-3 lg:ml-0 lg:mt-3\">\n              <div class=\"text-sm font-medium text-gray-900\">{{ benefit.name }}</div>\n              <div class=\"text-xs text-gray-600 mt-1\">{{ benefit.desc }}</div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <!-- 积分信息 -->\n    <div class=\"bg-white rounded-lg shadow overflow-hidden\">\n      <!-- 积分和等级概览 -->\n      <div class=\"relative px-4 lg:px-8 py-6 lg:py-10 overflow-hidden  border-b border-gray-100\">\n        <!-- 装饰背景 -->\n        <div class=\"absolute inset-0 opacity-10\">\n          <div class=\"absolute right-0 top-0 w-64 h-64 bg-gradient-to-br from-violet-100/20 to-purple-100/20 rounded-full transform translate-x-1/3 -translate-y-1/3\"></div>\n        </div>\n        \n        <div class=\"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0\">\n          <div>\n            <div class=\"flex items-center\">\n              <h3 class=\"text-lg lg:text-xl font-semibold text-gray-900\">我的积分</h3>\n            </div>\n            <div class=\"mt-3\">\n              <span class=\"text-4xl lg:text-5xl font-bold bg-gradient-to-r from-[#1A56DB] to-blue-500 bg-clip-text text-transparent\">{{ pointsInfo.balance || 0 }}</span>\n              <span class=\"text-sm text-gray-600 ml-1\">积分</span>\n            </div>\n          </div>\n          \n          <!-- 等级展示 -->\n          <div class=\"text-right\">\n            <div class=\"inline-flex items-center px-4 py-2 rounded-full bg-blue-50 border border-blue-100\">\n              <StarIcon class=\"w-5 h-5 text-[#1A56DB] mr-2\" />\n              <span class=\"text-base font-semibold text-[#1A56DB]\">Lv.{{ pointsInfo.level || 1 }}</span>\n            </div>\n            <div class=\"mt-2 text-sm font-medium text-gray-600\">{{ getLevelTitle(pointsInfo.level) }}</div>\n          </div>\n        </div>\n        \n        <!-- 等级进度条 -->\n        <div class=\"mt-6\">\n          <div class=\"flex items-center justify-between mb-2\">\n            <div class=\"text-sm text-gray-700\">\n              距离 Lv.{{ Math.min((pointsInfo.level || 1) + 1, 5) }} 还需 \n              <span class=\"font-medium text-violet-600\">{{ getNextLevelPoints(pointsInfo.level, pointsInfo.balance) }}</span> 分\n            </div>\n            <div class=\"text-sm text-gray-600\">\n              {{ pointsInfo.balance || 0 }}/{{ getLevelThreshold(pointsInfo.level) }}\n            </div>\n          </div>\n          <div class=\"h-2 bg-gray-100 rounded-full overflow-hidden\">\n            <div \n              class=\"h-full bg-gradient-to-r from-[#1A56DB] to-blue-500 transition-all duration-500\"\n              :style=\"{ width: `${getLevelProgress(pointsInfo.level, pointsInfo.balance)}%` }\"\n            ></div>\n          </div>\n        </div>\n\n        <!-- 签到信息 -->\n        <div class=\"mt-6 flex items-center\">\n          <div class=\"flex flex-wrap lg:flex-nowrap items-center space-x-2 lg:space-x-3 px-3 lg:px-4 py-2 bg-blue-50 rounded-lg border border-blue-100\">\n            <CalendarDaysIcon class=\"w-5 h-5 text-[#1A56DB]\" />\n            <div>\n              <div class=\"text-sm font-medium text-blue-900\">连续签到</div>\n              <div class=\"flex items-baseline space-x-1\">\n                <span class=\"text-xl font-bold text-[#1A56DB]\">{{ pointsInfo.sign_in_days || 0 }}</span>\n                <span class=\"text-sm text-[#1A56DB]\">天</span>\n              </div>\n            </div>\n            <button \n              v-if=\"canSignIn\"\n              @click=\"handleSignIn\"\n              class=\"mt-2 lg:mt-0 w-full lg:w-auto lg:ml-4 px-3 py-1.5 bg-blue-100 hover:bg-blue-200 text-[#1A56DB] text-sm font-medium rounded-full transition-colors\"\n            >\n              立即签到\n            </button>\n            <div v-else class=\"mt-2 lg:mt-0 w-full lg:w-auto lg:ml-4 text-center lg:text-left text-sm text-violet-600\">\n              今日已签到\n            </div>\n          </div>\n          \n          <div class=\"hidden lg:block ml-auto text-sm text-gray-500\">\n            {{ getSignInTip() }}\n          </div>\n        </div>\n      </div>\n\n      <!-- 积分明细 -->\n      <div class=\"px-4 lg:px-6 py-4\">\n        <div class=\"flex items-center justify-between mb-3\">\n          <h4 class=\"text-base font-medium text-gray-900\">积分明细</h4>\n          <div class=\"flex space-x-1 lg:space-x-2\">\n            <button \n              v-for=\"filter in pointsFilters\" \n              :key=\"filter.value\"\n              @click=\"currentFilter = filter.value\"\n              class=\"px-1.5 lg:px-2 py-1 text-xs rounded-full transition-colors whitespace-nowrap\"\n              :class=\"[\n                currentFilter === filter.value \n                  ? 'bg-gray-100 text-gray-800' \n                  : 'text-gray-500 hover:text-gray-700'\n              ]\"\n            >\n              {{ filter.label }}\n            </button>\n          </div>\n        </div>\n        <div class=\"divide-y divide-gray-100 max-h-[400px] overflow-y-auto\">\n          <div v-if=\"pointsRecords.length === 0\" class=\"py-8 text-center text-gray-500\">\n            暂无积分记录\n          </div>\n          <div \n            v-else\n            v-for=\"record in filteredRecords\" \n            :key=\"record.id\" \n            class=\"py-3 lg:py-3.5 flex items-center justify-between hover:bg-gray-50 transition-colors px-2\"\n          >\n            <div>\n              <div class=\"text-xs lg:text-sm font-medium text-gray-900\">{{ record.description }}</div>\n              <div class=\"text-[10px] lg:text-xs text-gray-500 mt-0.5\">\n                {{ formatDate(record.created_at, window.innerWidth < 640 ? 'MM-DD HH:mm' : 'YYYY-MM-DD HH:mm') }}\n              </div>\n            </div>\n            <div :class=\"[\n              'text-xs lg:text-sm font-medium ml-2 lg:ml-4',\n              record.points > 0 ? 'text-gray-800' : 'text-red-600'\n            ]\">\n              {{ record.points > 0 ? '+' : '' }}{{ record.points }}\n            </div>\n          </div>\n        </div>\n        <!-- 加载更多按钮 -->\n        <div v-if=\"hasMore\" class=\"mt-4 text-center\">\n          <button \n            @click=\"loadMore\"\n            class=\"text-xs lg:text-sm text-gray-500 hover:text-gray-700 px-3 lg:px-4 py-1.5 lg:py-2 rounded-full hover:bg-gray-100 transition-colors\"\n            :disabled=\"loading\"\n          >\n            {{ loading ? '加载中...' : '加载更多' }}\n          </button>\n        </div>\n      </div>\n    </div>\n\n    <!-- Tab 导航 -->\n    <div class=\"bg-white rounded-lg shadow\">\n      <!-- Tab 头部 -->\n      <div class=\"border-b border-gray-200\">\n        <nav class=\"-mb-px flex\" aria-label=\"Tabs\">\n          <button\n            v-for=\"tab in tabs\"\n            :key=\"tab.key\"\n            @click=\"currentTab = tab.key\"\n            :class=\"[\n              currentTab === tab.key\n                ? 'border-primary-500 text-primary-600'\n                : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300',\n              'w-1/3 py-4 px-1 text-center border-b-2 font-medium text-sm transition-colors duration-200'\n            ]\"\n          >\n            {{ tab.name }}\n          </button>\n        </nav>\n      </div>\n\n      <!-- Tab 内容 -->\n      <div class=\"p-6\">\n        <!-- 积分规则 -->\n        <div v-if=\"currentTab === 'points'\" class=\"space-y-6\">\n          <h3 class=\"text-lg font-medium text-gray-900\">积分获取规则</h3>\n          <div class=\"space-y-3\">\n            <div v-for=\"rule in pointRules\" :key=\"rule.action\" \n              class=\"flex items-center p-4 bg-white border rounded-lg transition-all hover:shadow-sm\"\n              :class=\"rule.borderColor\"\n            >\n              <div :class=\"[\n                'w-10 h-10 rounded-lg flex items-center justify-center',\n                rule.bgColor\n              ]\">\n                <component :is=\"rule.icon\" class=\"w-5 h-5\" :class=\"rule.iconColor\" />\n              </div>\n              <div class=\"ml-4 flex-1\">\n                <div class=\"flex items-center justify-between\">\n                  <div class=\"font-medium text-gray-900\">{{ rule.action }}</div>\n                  <div class=\"text-sm font-medium\" :class=\"rule.textColor\">{{ rule.points }}</div>\n                </div>\n                <div class=\"mt-1 text-sm text-gray-500\">{{ rule.description }}</div>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <!-- 等级权益 -->\n        <div v-if=\"currentTab === 'privileges'\" class=\"space-y-6\">\n          <h3 class=\"text-lg font-medium text-gray-900\">等级特权</h3>\n          <div class=\"space-y-6\">\n            <div v-for=\"level in 5\" :key=\"level\" \n              class=\"bg-white border rounded-lg overflow-hidden transition-all hover:shadow-sm\"\n              :class=\"[\n                level === pointsInfo.level ? 'border-primary-500' : 'border-gray-100',\n              ]\"\n            >\n              <!-- 等级头部 -->\n              <div class=\"px-6 py-4 flex items-center justify-between border-b border-gray-100\"\n                :class=\"level === pointsInfo.level ? 'bg-primary-50' : 'bg-gray-50'\"\n              >\n                <div class=\"flex items-center space-x-3\">\n                  <div class=\"w-10 h-10 rounded-lg flex items-center justify-center\"\n                    :class=\"level === pointsInfo.level ? 'bg-primary-100' : 'bg-white'\"\n                  >\n                    <TrophyIcon \n                      class=\"w-6 h-6\"\n                      :class=\"level === pointsInfo.level ? 'text-primary-500' : 'text-gray-400'\"\n                    />\n                  </div>\n                  <div>\n                    <div class=\"flex items-center\">\n                      <span class=\"text-lg font-semibold text-gray-900\">\n                        Lv.{{ level }} {{ getLevelTitle(level) }}\n                      </span>\n                      <span v-if=\"level === pointsInfo.level\"\n                        class=\"ml-2 px-2 py-0.5 text-xs font-medium text-primary-600 bg-primary-100 rounded-full\"\n                      >\n                        当前等级\n                      </span>\n                    </div>\n                    <div class=\"text-sm text-gray-500 mt-0.5\">{{ getLevelRange(level) }}</div>\n                  </div>\n                </div>\n                <div class=\"text-sm text-gray-500\">\n                  {{ level < 5 ? `距离下一级还需 ${getNextLevelPoints(level, pointsInfo.total_earned)} 积分` : '已达到最高等级' }}\n                </div>\n              </div>\n\n              <!-- 等级特权列表 -->\n              <div class=\"p-6\">\n                <div class=\"grid grid-cols-1 sm:grid-cols-2 gap-4\">\n                  <div v-for=\"(privilege, index) in getLevelPrivileges(level)\" \n                    :key=\"index\"\n                    class=\"flex items-start space-x-3 p-3 rounded-lg\"\n                    :class=\"level === pointsInfo.level ? 'bg-primary-50' : 'bg-gray-50'\"\n                  >\n                    <div class=\"flex-shrink-0\">\n                      <CheckCircleIcon \n                        class=\"w-5 h-5\"\n                        :class=\"level === pointsInfo.level ? 'text-primary-500' : 'text-gray-400'\"\n                      />\n                    </div>\n                    <div>\n                      <div class=\"text-sm font-medium text-gray-900\">{{ privilege.title }}</div>\n                      <div class=\"text-xs text-gray-500 mt-0.5\">{{ privilege.description }}</div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <!-- 订单记录 -->\n        <div v-if=\"currentTab === 'orders'\" class=\"space-y-4\">\n          <div v-if=\"orders.length === 0\" class=\"text-center py-8 text-gray-500\">\n            暂无订单记录\n          </div>\n          \n          <!-- 订单列表 -->\n          <div v-else class=\"space-y-4\">\n            <div v-for=\"order in orders\" :key=\"order.order_no\" \n              class=\"bg-white border rounded-lg overflow-hidden transition-all hover:border-gray-300\"\n            >\n              <!-- 订单基本信息 -->\n              <div class=\"px-4 py-3 flex items-center justify-between border-b border-gray-100\">\n                <div class=\"flex items-center space-x-4\">\n                  <div class=\"text-sm text-gray-500\">订单号：{{ order.order_no }}</div>\n                  <div :class=\"[\n                    'px-2 py-1 text-xs font-medium rounded-full',\n                    {\n                      'bg-yellow-100 text-yellow-800': order.status === 'pending',\n                      'bg-green-100 text-green-800': order.status === 'paid',\n                      'bg-gray-100 text-gray-800': order.status === 'cancelled',\n                      'bg-red-100 text-red-800': order.status === 'refunded'\n                    }\n                  ]\">\n                    {{ formatOrderStatus(order.status) }}\n                  </div>\n                </div>\n                <button \n                  class=\"text-sm text-gray-500 hover:text-gray-700\"\n                  @click=\"toggleOrderDetail(order.order_no)\"\n                >\n                  {{ expandedOrders.includes(order.order_no) ? '收起' : '展开' }}\n                  <ChevronDownIcon \n                    class=\"w-4 h-4 inline-block ml-1 transition-transform\"\n                    :class=\"{ 'rotate-180': expandedOrders.includes(order.order_no) }\"\n                  />\n                </button>\n              </div>\n              \n              <!-- 订单主要信息 -->\n              <div class=\"px-4 py-3 flex items-center justify-between bg-gray-50\">\n                <div class=\"flex items-center space-x-3\">\n                  <div class=\"w-10 h-10 rounded-lg bg-violet-100 flex items-center justify-center\">\n                    <SparklesIcon class=\"w-5 h-5 text-violet-600\" />\n                  </div>\n                  <div>\n                    <div class=\"font-medium\">{{ formatMembershipType(order) }}</div>\n                    <div class=\"text-sm text-gray-500\">{{ formatDate(order.created_at) }}</div>\n                  </div>\n                </div>\n                <div class=\"text-lg font-medium text-gray-900\">\n                  ¥{{ order.amount }}\n                </div>\n              </div>\n              \n              <!-- 展开的详细信息 -->\n              <div v-show=\"expandedOrders.includes(order.order_no)\"\n                class=\"px-4 py-3 space-y-3 bg-gray-50 border-t border-gray-100\"\n              >\n                <div class=\"grid grid-cols-2 gap-4 text-sm\">\n                  <div>\n                    <div class=\"text-gray-500\">支付方式</div>\n                    <div class=\"mt-1\">{{ formatPaymentMethod(order.payment_method) }}</div>\n                  </div>\n                  <div>\n                    <div class=\"text-gray-500\">支付时间</div>\n                    <div class=\"mt-1\">{{ order.paid_at ? formatDate(order.paid_at) : '-' }}</div>\n                  </div>\n                  <div>\n                    <div class=\"text-gray-500\">订单创建时间</div>\n                    <div class=\"mt-1\">{{ formatDate(order.created_at) }}</div>\n                  </div>\n                  <div>\n                    <div class=\"text-gray-500\">订单更新时间</div>\n                    <div class=\"mt-1\">{{ formatDate(order.updated_at) }}</div>\n                  </div>\n                </div>\n                \n                <!-- 如果有备注信息 -->\n                <div v-if=\"order.remarks\" class=\"text-sm\">\n                  <div class=\"text-gray-500\">备注信息</div>\n                  <div class=\"mt-1 text-gray-700\">{{ order.remarks }}</div>\n                </div>\n                \n                <!-- 订单操作按钮 -->\n                <div class=\"flex justify-end space-x-3 pt-2\">\n                  <button v-if=\"order.status === 'pending'\"\n                    class=\"px-3 py-1 text-sm text-violet-600 hover:text-violet-700 border border-violet-200 rounded-md hover:bg-violet-50\"\n                    @click=\"handlePayment(order)\"\n                  >\n                    立即支付\n                  </button>\n                  <button v-if=\"['pending', 'paid'].includes(order.status)\"\n                    class=\"px-3 py-1 text-sm text-gray-600 hover:text-gray-700 border border-gray-200 rounded-md hover:bg-gray-50\"\n                    @click=\"showOrderDetail(order)\"\n                  >\n                    查看详情\n                  </button>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { ref, computed, onMounted, watch, onUnmounted } from 'vue'\nimport { useRouter } from 'vue-router'\nimport { useAccountStore } from '@/stores/account'\nimport { membership } from '@/api/membership'\nimport { \n  SparklesIcon, \n  CloudArrowUpIcon, \n  ChatBubbleLeftRightIcon, \n  QuestionMarkCircleIcon, \n  CheckCircleIcon, \n  GiftIcon, \n  ClipboardDocumentListIcon, \n  StarIcon, \n  PencilSquareIcon, \n  CalendarDaysIcon,\n  DocumentTextIcon,\n  CloudIcon,\n  DocumentChartBarIcon,\n  UserGroupIcon,\n  CheckIcon,\n  DocumentIcon,\n  BoltIcon,\n  HeartIcon,\n  UserIcon,\n  TrophyIcon,\n  ChevronDownIcon,\n  SparklesIcon as CrownIcon\n} from '@heroicons/vue/24/outline'\n\nconst router = useRouter()\nconst accountStore = useAccountStore()\n\n// 会员权益\nconst memberBenefits = [\n  { \n    key: 'template', \n    name: '会员模板', \n    desc: '进阶模板无限用',\n    icon: DocumentIcon\n  },\n  { \n    key: 'points', \n    name: '双倍积分', \n    desc: '所有活动双倍奖',\n    icon: StarIcon\n  },\n  { \n    key: 'ai', \n    name: 'AI助手', \n    desc: '智能档案优化',\n    icon: BoltIcon\n  },\n  { \n    key: 'storage', \n    name: '超大空间', \n    desc: '100G专属云盘',\n    icon: CloudIcon\n  },\n  {\n    key: 'support',\n    name: '专属客服',\n    desc: '7×24小时服务',\n    icon: HeartIcon\n  }\n]\n\n// 积分信息\nconst pointsInfo = ref({\n  balance: 0,\n  total_earned: 0,\n  total_spent: 0,\n  level: 1\n})\n\n// 订单记录\nconst orders = ref([])\n\n// 积分记录相关\nconst currentFilter = ref('all')\nconst pointsRecords = ref([])\nconst currentPage = ref(1)\nconst hasMore = ref(true)\nconst loading = ref(false)\n\nconst pointsFilters = [\n  { label: '全部', value: 'all' },\n  { label: '获得', value: 'earned' },\n  { label: '使用', value: 'spent' }\n]\n\n// 过滤后的记录\nconst filteredRecords = computed(() => {\n  if (currentFilter.value === 'all') return pointsRecords.value\n  \n  return pointsRecords.value.filter(record => \n    currentFilter.value === 'earned' \n      ? record.points > 0 \n      : record.points < 0\n  )\n})\n\n// 获取积分信息\nconst fetchPointsInfo = async () => {\n  try {\n    const response = await membership.getPointsInfo()\n    if (response?.data?.code === 200) {\n      pointsInfo.value = response.data.data\n    }\n  } catch (error) {\n    console.error('获取积分信息失败:', error)\n  }\n}\n\n// 获取订单记录\nconst fetchOrders = async () => {\n  try {\n    const response = await membership.getOrders()\n    if (response?.data?.code === 200) {\n      orders.value = response.data.data || []\n    }\n  } catch (error) {\n    console.error('获取订单列表失败:', error)\n  }\n}\n\n// 获取积分记录\nconst fetchPointsRecords = async (page = 1) => {\n  if (loading.value) return\n  \n  loading.value = true\n  try {\n    const response = await membership.getPointsRecords({ \n      page,\n      page_size: 10\n    })\n    if (response?.data?.code === 200) {\n      const { records, has_more } = response.data.data\n      if (page === 1) {\n        pointsRecords.value = records\n      } else {\n        pointsRecords.value.push(...records)\n      }\n      hasMore.value = has_more\n      currentPage.value = page\n    }\n  } catch (error) {\n    console.error('获取积分记录失败:', error)\n  } finally {\n    loading.value = false\n  }\n}\n\n// 加载更多\nconst loadMore = () => {\n  fetchPointsRecords(currentPage.value + 1)\n}\n\n// 监听筛选变化\nwatch(currentFilter, () => {\n  // 切换筛选时重置到第一页\n  currentPage.value = 1\n  fetchPointsRecords(1)\n})\n\n// 会员类型文本\nconst vipTypeText = computed(() => {\n  const userInfo = accountStore.userInfo\n  if (!userInfo?.is_vip) return '普通用户'\n  return userInfo.vip_status\n})\n\n// 会员到期文本\nconst vipExpireText = computed(() => {\n  const userInfo = accountStore.userInfo\n  if (!userInfo?.is_vip) return '开通会员享专属权益'\n  if (userInfo.vip_type === 'lifetime') return '终身会员'\n  if (userInfo.vip_expire_time) {\n    const expireDate = new Date(userInfo.vip_expire_time)\n    const now = new Date()\n    const diffDays = Math.floor((expireDate - now) / (1000 * 60 * 60 * 24))\n    return diffDays > 0 ? `剩余 ${diffDays} 天` : '已过期'\n  }\n  return ''\n})\n\n// 会员按钮文本和处理\nconst vipButtonText = computed(() => {\n  const userInfo = accountStore.userInfo\n  if (!userInfo?.is_vip) return '立即开通'\n  if (userInfo.vip_type === 'lifetime') return '查看权益'\n  return '立即续费'\n})\n\nconst handleVipButton = () => {\n  const userInfo = accountStore.userInfo\n  if (!userInfo?.is_vip) {\n    router.push('/pro')\n  } else if (userInfo.vip_type === 'lifetime') {\n    // 显示会员权益详情\n  } else {\n    router.push('/pro')\n  }\n}\n\n// 获取等级称号\nconst getLevelTitle = (level) => {\n  const levelConfig = {\n    1: { title: '初级会员', range: '0-1000积分' },\n    2: { title: '进阶会员', range: '1001-3000积分' },\n    3: { title: '高级会员', range: '3001-8000积分' },\n    4: { title: '精英会员', range: '8001-15000积分' },\n    5: { title: '至尊会员', range: '15000+积分' }\n  }\n  return levelConfig[level]?.title || '普通会员'\n}\n\nconst showTooltip = ref(false)\n\n// 提示框位置\nconst tooltipPosition = ref({ x: 0, y: 0 })\n\n// 计算提示框位置\nconst calculateTooltipPosition = (event) => {\n  const iconRect = event.target.getBoundingClientRect()\n  const tooltipWidth = 320 // w-80 = 20rem = 320px\n  const tooltipHeight = 480 // 预估高度\n  \n  // 水平居中于图标\n  const x = iconRect.left + (iconRect.width / 2) - (tooltipWidth / 2)\n  // 位于图标上方，留出足够空间\n  const y = iconRect.top - tooltipHeight - 10\n  \n  // 确保不超出视窗边界\n  const adjustedX = Math.max(16, Math.min(x, window.innerWidth - tooltipWidth - 16))\n  const adjustedY = Math.max(16, y)\n  \n  tooltipPosition.value = {\n    x: adjustedX,\n    y: adjustedY\n  }\n}\n\n// 修改鼠标进入事件处理\nconst handleMouseEnter = (event) => {\n  calculateTooltipPosition(event)\n  showTooltip.value = true\n}\n\n// 获取下一等级所需积分\nconst getNextLevelPoints = (currentLevel, currentPoints) => {\n  const levelThresholds = {\n    1: 1000,\n    2: 3000,\n    3: 8000,\n    4: 15000,\n    5: Infinity\n  }\n  \n  if (currentLevel >= 5) return 0\n  \n  const nextLevelThreshold = levelThresholds[currentLevel + 1]\n  return nextLevelThreshold - currentPoints\n}\n\n// 获取当前等级进度\nconst getLevelProgress = (currentLevel, currentPoints) => {\n  const levelRanges = {\n    1: { min: 0, max: 1000 },\n    2: { min: 1001, max: 3000 },\n    3: { min: 3001, max: 8000 },\n    4: { min: 8001, max: 15000 },\n    5: { min: 15001, max: 15001 } // 最高等级\n  }\n  \n  const range = levelRanges[currentLevel]\n  if (!range) return 0\n  \n  const total = range.max - range.min\n  const current = currentPoints - range.min\n  return Math.min(100, Math.max(0, (current / total) * 100))\n}\n\n// 是否可以签到\nconst canSignIn = computed(() => !pointsInfo.value.signed_today)\n\n// 处理签到\nconst handleSignIn = async () => {\n  if (!canSignIn.value) return\n  \n  try {\n    const response = await membership.signIn()\n    if (response?.data?.code === 200) {\n      await fetchPointsInfo() // 刷新积分信息\n      showToast('签到成功', 'success')\n    }\n  } catch (error) {\n    console.error('签到失败:', error)\n    showToast('签到失败，请重试', 'error')\n  }\n}\n\n// 获取等级阈值\nconst getLevelThreshold = (level) => {\n  const thresholds = {\n    1: 1000,\n    2: 3000,\n    3: 8000,\n    4: 15000,\n    5: Infinity\n  }\n  return thresholds[level] || 1000\n}\n\n// 获取签到提示\nconst getSignInTip = () => {\n  if (!pointsInfo.value.signed_today) {\n    return '今日签到可获得3积分'\n  }\n  if (pointsInfo.value.sign_in_days % 7 === 6) {\n    return '明日签到可获得额外10积分奖励'\n  }\n  if (pointsInfo.value.sign_in_days % 30 === 29) {\n    return '明日签到可获得额外50积分奖励'\n  }\n  return `已连续签到 ${pointsInfo.value.sign_in_days} 天`\n}\n\n// 获取等级范围说明\nconst getLevelRange = (level) => {\n  const ranges = {\n    1: '0-1,000积分',\n    2: '1,001-3,000积分',\n    3: '3,001-8,000积分',\n    4: '8,001-15,000积分',\n    5: '15,000+积分'\n  }\n  return ranges[level] || ''\n}\n\n// 获取等级特权说明\nconst getLevelPrivileges = (level) => {\n  const privileges = {\n    1: [\n      {\n        title: '发布简历动态',\n        description: '可以发布个人简历动态，提高求职机会'\n      },\n      {\n        title: '参与社区讨论',\n        description: '可以在社区中发表观点和建议'\n      },\n      {\n        title: '基础积分奖励',\n        description: '参与平台活动获得基础积分奖励'\n      },\n      {\n        title: '个人主页展示',\n        description: '拥有独立的个人主页展示空间'\n      }\n    ],\n    2: [\n      {\n        title: '简历曝光加成',\n        description: '简历展示机会提升30%'\n      },\n      {\n        title: '简历动态置顶',\n        description: '简历动态可享受置顶展示特权'\n      },\n      {\n        title: '积分加速成长',\n        description: '所有积分奖励增加20%'\n      },\n      {\n        title: '社区徽章展示',\n        description: '专属的社区等级徽章展示'\n      }\n    ],\n    3: [\n      {\n        title: '专属等级标识',\n        description: '拥有专属的等级标识'\n      },\n      {\n        title: '简历优先推荐',\n        description: '简历优先推荐给高级用户'\n      },\n      {\n        title: '开通打赏功能',\n        description: '可以开通打赏功能'\n      },\n      {\n        title: '高级积分特权',\n        description: '获得高级积分特权'\n      }\n    ],\n    4: [\n      {\n        title: '内容免审发布',\n        description: '可以发布内容，无需审核'\n      },\n      {\n        title: '简历优先投递',\n        description: '简历优先投递给高级用户'\n      },\n      {\n        title: '打赏特权加成',\n        description: '打赏金额增加20%'\n      },\n      {\n        title: '社区荣誉称号',\n        description: '获得社区荣誉称号'\n      }\n    ],\n    5: [\n      {\n        title: '资深用户认证',\n        description: '获得资深用户认证'\n      },\n      {\n        title: '内容审核特权',\n        description: '获得内容审核特权'\n      },\n      {\n        title: '打赏收益加成',\n        description: '打赏金额增加20%'\n      },\n      {\n        title: '专属成就徽章',\n        description: '获得专属成就徽章'\n      }\n    ]\n  }\n  return privileges[level] || []\n}\n\n// 格式化订单状态\nconst formatOrderStatus = (status) => {\n  const statusMap = {\n    'pending': '待支付',\n    'paid': '已支付',\n    'cancelled': '已取消',\n    'refunded': '已退款'\n  }\n  return statusMap[status] || status\n}\n\n// 格式化支付方式\nconst formatPaymentMethod = (method) => {\n  const methodMap = {\n    'alipay': '支付宝',\n    'wechat': '微信支付'\n  }\n  return methodMap[method] || method\n}\n\n// 格式化时间\nconst formatDate = (dateString) => {\n  if (!dateString) return ''\n  const date = new Date(dateString)\n  return date.toLocaleString('zh-CN', {\n    year: 'numeric',\n    month: '2-digit',\n    day: '2-digit',\n    hour: '2-digit',\n    minute: '2-digit'\n  })\n}\n\n// 格式化会员时长\nconst formatDuration = (days) => {\n  if (!days) return '-'\n  if (days >= 365) {\n    const years = Math.floor(days / 365)\n    return `${years}年会员`\n  }\n  if (days >= 90) {\n    const quarters = Math.floor(days / 90)\n    return `${quarters}季会员`\n  }\n  if (days >= 30) {\n    const months = Math.floor(days / 30)\n    return `${months}月会员`\n  }\n  return `${days}天会员`\n}\n\n// 格式化会员类型\nconst formatMembershipType = (order) => {\n  // 优先使用 tier_name\n  if (order.tier_name) return order.tier_name\n  \n  // 然后尝试使用 tier.name\n  if (order.tier?.name) return order.tier.name\n  \n  // 最后根据天数判断会员类型\n  const days = order.days\n  if (!days) return '-'\n  \n  if (days === 365) return '年度会员'\n  if (days === 90) return '季度会员'\n  if (days === 30) return '月度会员'\n  \n  // 如果是其他天数，显示具体天数\n  return `${days}天会员`\n}\n\n// Tab 配置\nconst tabs = [\n  { key: 'points', name: '积分规则' },\n  { key: 'privileges', name: '等级权益' },\n  { key: 'orders', name: '我的订单' }\n]\n\n// 当前选中的 tab\nconst currentTab = ref('points')\n\n// 积分规则数据\nconst pointRules = [\n  { \n    action: '每日签到', \n    points: '+3积分/次',\n    description: '每日登录签到即可获得积分奖励',\n    icon: CalendarDaysIcon,\n    bgColor: 'bg-blue-50',\n    iconColor: 'text-blue-500',\n    textColor: 'text-blue-500',\n    borderColor: 'border-blue-100'\n  },\n  { \n    action: '完善档案', \n    points: '+20积分/项',\n    description: '完善个人档案信息可获得积分奖励',\n    icon: UserIcon,\n    bgColor: 'bg-purple-50',\n    iconColor: 'text-purple-500',\n    textColor: 'text-purple-500',\n    borderColor: 'border-purple-100'\n  },\n  { \n    action: '发布简历', \n    points: '+50积分/份',\n    description: '创建并发布简历可获得积分奖励',\n    icon: DocumentTextIcon,\n    bgColor: 'bg-green-50',\n    iconColor: 'text-green-500',\n    textColor: 'text-green-500',\n    borderColor: 'border-green-100'\n  },\n  { \n    action: '邀请好友', \n    points: '+100积分/人',\n    description: '成功邀请好友注册可获得积分奖励',\n    icon: UserGroupIcon,\n    bgColor: 'bg-pink-50',\n    iconColor: 'text-pink-500',\n    textColor: 'text-pink-500',\n    borderColor: 'border-pink-100'\n  },\n  { \n    action: '社区互动', \n    points: '+5积分/次',\n    description: '参与社区讨论、评论可获得积分奖励',\n    icon: ChatBubbleLeftRightIcon,\n    bgColor: 'bg-orange-50',\n    iconColor: 'text-orange-500',\n    textColor: 'text-orange-500',\n    borderColor: 'border-orange-100'\n  },\n  { \n    action: '周签到奖励', \n    points: '+10积分/周',\n    description: '连续签到7天可获得额外积分奖励',\n    icon: StarIcon,\n    bgColor: 'bg-yellow-50',\n    iconColor: 'text-yellow-500',\n    textColor: 'text-yellow-500',\n    borderColor: 'border-yellow-100'\n  },\n  { \n    action: '月签到奖励', \n    points: '+50积分/月',\n    description: '连续签到30天可获得额外积分奖励',\n    icon: SparklesIcon,\n    bgColor: 'bg-indigo-50',\n    iconColor: 'text-indigo-500',\n    textColor: 'text-indigo-500',\n    borderColor: 'border-indigo-100'\n  },\n  { \n    action: '活动参与', \n    points: '+30积分/次',\n    description: '参与平台举办的活动可获得积分奖励',\n    icon: GiftIcon,\n    bgColor: 'bg-red-50',\n    iconColor: 'text-red-500',\n    textColor: 'text-red-500',\n    borderColor: 'border-red-100'\n  },\n  { \n    action: '好评分享', \n    points: '+20积分/次',\n    description: '分享使用体验并好评可获得积分奖励',\n    icon: HeartIcon,\n    bgColor: 'bg-rose-50',\n    iconColor: 'text-rose-500',\n    textColor: 'text-rose-500',\n    borderColor: 'border-rose-100'\n  }\n]\n\n// 展开的订单列表\nconst expandedOrders = ref([])\n\n// 切换订单详情显示\nconst toggleOrderDetail = (orderNo) => {\n  const index = expandedOrders.value.indexOf(orderNo)\n  if (index === -1) {\n    expandedOrders.value.push(orderNo)\n  } else {\n    expandedOrders.value.splice(index, 1)\n  }\n}\n\n// 处理支付\nconst handlePayment = (order) => {\n  // 实现支付逻辑\n  router.push(`/payment?order_no=${order.order_no}`)\n}\n\n// 查看订单详情\nconst showOrderDetail = (order) => {\n  // 实现查看详情逻辑\n  router.push(`/orders/${order.order_no}`)\n}\n\nonMounted(async () => {\n  await Promise.all([\n    fetchPointsInfo(),\n    fetchOrders(),\n    fetchPointsRecords()\n  ])\n  \n  // 添加窗口大小变化监听\n  window.addEventListener('resize', () => {\n    if (showTooltip.value) {\n      showTooltip.value = false\n    }\n  })\n})\n\n// 在 onUnmounted 中清理\nonUnmounted(() => {\n  window.removeEventListener('resize', () => {\n    if (showTooltip.value) {\n      showTooltip.value = false\n    }\n  })\n})\n</script> \n\n<style scoped>\n/* 添加表格响应式滚动 */\n.overflow-x-auto {\n  -webkit-overflow-scrolling: touch;\n}\n\n/* 确保表格内容不会被截断 */\ntable {\n  table-layout: fixed;\n  width: 100%;\n}\n\n/* 添加工具提示样式 */\n[title] {\n  position: relative;\n  cursor: help;\n}\n\n/* 优化表格单元格样式 */\ntd, th {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n\n/* 设置合适的列宽 */\nth:nth-child(1), td:nth-child(1) { width: 25%; } /* 订单号 */\nth:nth-child(2), td:nth-child(2) { width: 15%; } /* 类型 */\nth:nth-child(3), td:nth-child(3) { width: 10%; } /* 金额 */\nth:nth-child(4), td:nth-child(4) { width: 15%; } /* 支付方式 */\nth:nth-child(5), td:nth-child(5) { width: 15%; } /* 状态 */\nth:nth-child(6), td:nth-child(6) { width: 20%; } /* 时间 */\n\n/* 添加渐变过渡效果 */\n.hover\\:shadow-sm {\n  transition: all 0.3s ease;\n}\n\n/* 当前等级卡片特效 */\n.border-primary-500 {\n  box-shadow: 0 0 0 1px var(--primary-500);\n}\n</style> "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}