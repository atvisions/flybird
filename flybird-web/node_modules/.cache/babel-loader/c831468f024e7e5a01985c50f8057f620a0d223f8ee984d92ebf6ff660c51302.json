{"ast":null,"code":"import _objectSpread from \"/Users/liuzhao/Documents/Projects/flybird/flybird-web/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport { ref, watch } from 'vue';\nexport default {\n  __name: 'Experience',\n  props: {\n    config: {\n      type: Object,\n      default: () => ({\n        experiences: []\n      })\n    }\n  },\n  emits: ['update:config'],\n  setup(__props, {\n    expose: __expose,\n    emit: __emit\n  }) {\n    __expose();\n    const props = __props;\n    const emit = __emit;\n    const experiences = ref(props.config.experiences || []);\n\n    // 监听配置变化\n    watch(() => props.config, newConfig => {\n      experiences.value = newConfig.experiences || [];\n    }, {\n      deep: true\n    });\n\n    // 添加工作经历\n    const addExperience = () => {\n      experiences.value.push({\n        company: '',\n        position: '',\n        duration: '',\n        location: '',\n        description: '',\n        achievements: ''\n      });\n      updateConfig();\n    };\n\n    // 移除工作经历\n    const removeExperience = index => {\n      experiences.value.splice(index, 1);\n      updateConfig();\n    };\n\n    // 更新配置\n    const updateConfig = () => {\n      emit('update:config', _objectSpread(_objectSpread({}, props.config), {}, {\n        experiences: experiences.value\n      }));\n    };\n    const __returned__ = {\n      props,\n      emit,\n      experiences,\n      addExperience,\n      removeExperience,\n      updateConfig,\n      ref,\n      watch\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","watch","props","__props","emit","__emit","experiences","config","newConfig","value","deep","addExperience","push","company","position","duration","location","description","achievements","updateConfig","removeExperience","index","splice","_objectSpread"],"sources":["/Users/liuzhao/Documents/Projects/flybird/flybird-web/src/views/resume-editor/components/Experience.vue"],"sourcesContent":["<template>\n  <div class=\"experience\">\n    <v-container>\n      <div v-for=\"(exp, index) in experiences\" :key=\"index\" class=\"experience-item\">\n        <div class=\"d-flex align-center justify-space-between mb-2\">\n          <h3 class=\"text-h6\">工作经历 {{ index + 1 }}</h3>\n          <v-btn\n            icon=\"mdi-delete\"\n            size=\"small\"\n            color=\"error\"\n            variant=\"text\"\n            @click=\"removeExperience(index)\"\n          ></v-btn>\n        </div>\n        \n        <v-row>\n          <v-col cols=\"12\" md=\"6\">\n            <v-text-field\n              v-model=\"exp.company\"\n              label=\"公司\"\n              required\n              :rules=\"[v => !!v || '请输入公司名称']\"\n              @input=\"updateConfig\"\n            ></v-text-field>\n          </v-col>\n          <v-col cols=\"12\" md=\"6\">\n            <v-text-field\n              v-model=\"exp.position\"\n              label=\"职位\"\n              required\n              :rules=\"[v => !!v || '请输入职位名称']\"\n              @input=\"updateConfig\"\n            ></v-text-field>\n          </v-col>\n          <v-col cols=\"12\" md=\"6\">\n            <v-text-field\n              v-model=\"exp.duration\"\n              label=\"工作时间\"\n              placeholder=\"例如: 2020.07 - 至今\"\n              @input=\"updateConfig\"\n            ></v-text-field>\n          </v-col>\n          <v-col cols=\"12\" md=\"6\">\n            <v-text-field\n              v-model=\"exp.location\"\n              label=\"工作地点\"\n              @input=\"updateConfig\"\n            ></v-text-field>\n          </v-col>\n          <v-col cols=\"12\">\n            <v-textarea\n              v-model=\"exp.description\"\n              label=\"工作内容\"\n              rows=\"3\"\n              @input=\"updateConfig\"\n            ></v-textarea>\n          </v-col>\n          <v-col cols=\"12\">\n            <v-textarea\n              v-model=\"exp.achievements\"\n              label=\"工作成就\"\n              rows=\"3\"\n              @input=\"updateConfig\"\n            ></v-textarea>\n          </v-col>\n        </v-row>\n        \n        <v-divider v-if=\"index < experiences.length - 1\" class=\"my-4\"></v-divider>\n      </div>\n\n      <div class=\"text-center mt-4\">\n        <v-btn\n          color=\"primary\"\n          variant=\"text\"\n          prepend-icon=\"mdi-plus\"\n          @click=\"addExperience\"\n        >\n          添加工作经历\n        </v-btn>\n      </div>\n    </v-container>\n  </div>\n</template>\n\n<script setup>\nimport { ref, watch } from 'vue'\n\nconst props = defineProps({\n  config: {\n    type: Object,\n    default: () => ({\n      experiences: []\n    })\n  }\n})\n\nconst emit = defineEmits(['update:config'])\n\nconst experiences = ref(props.config.experiences || [])\n\n// 监听配置变化\nwatch(() => props.config, (newConfig) => {\n  experiences.value = newConfig.experiences || []\n}, { deep: true })\n\n// 添加工作经历\nconst addExperience = () => {\n  experiences.value.push({\n    company: '',\n    position: '',\n    duration: '',\n    location: '',\n    description: '',\n    achievements: ''\n  })\n  updateConfig()\n}\n\n// 移除工作经历\nconst removeExperience = (index) => {\n  experiences.value.splice(index, 1)\n  updateConfig()\n}\n\n// 更新配置\nconst updateConfig = () => {\n  emit('update:config', {\n    ...props.config,\n    experiences: experiences.value\n  })\n}\n</script>\n\n<style scoped>\n.experience {\n  padding: 16px;\n}\n\n.experience-item {\n  margin-bottom: 24px;\n}\n</style> "],"mappings":";AAqFA,SAASA,GAAG,EAAEC,KAAK,QAAQ,KAAI;;;;;;;;;;;;;;;;;IAE/B,MAAMC,KAAK,GAAGC,OAAA;IASd,MAAMC,IAAI,GAAGC,MAAA;IAEb,MAAMC,WAAW,GAAGN,GAAG,CAACE,KAAK,CAACK,MAAM,CAACD,WAAW,IAAI,EAAE;;IAEtD;IACAL,KAAK,CAAC,MAAMC,KAAK,CAACK,MAAM,EAAGC,SAAS,IAAK;MACvCF,WAAW,CAACG,KAAK,GAAGD,SAAS,CAACF,WAAW,IAAI,EAAC;IAChD,CAAC,EAAE;MAAEI,IAAI,EAAE;IAAK,CAAC;;IAEjB;IACA,MAAMC,aAAa,GAAGA,CAAA,KAAM;MAC1BL,WAAW,CAACG,KAAK,CAACG,IAAI,CAAC;QACrBC,OAAO,EAAE,EAAE;QACXC,QAAQ,EAAE,EAAE;QACZC,QAAQ,EAAE,EAAE;QACZC,QAAQ,EAAE,EAAE;QACZC,WAAW,EAAE,EAAE;QACfC,YAAY,EAAE;MAChB,CAAC;MACDC,YAAY,CAAC;IACf;;IAEA;IACA,MAAMC,gBAAgB,GAAIC,KAAK,IAAK;MAClCf,WAAW,CAACG,KAAK,CAACa,MAAM,CAACD,KAAK,EAAE,CAAC;MACjCF,YAAY,CAAC;IACf;;IAEA;IACA,MAAMA,YAAY,GAAGA,CAAA,KAAM;MACzBf,IAAI,CAAC,eAAe,EAAAmB,aAAA,CAAAA,aAAA,KACfrB,KAAK,CAACK,MAAM;QACfD,WAAW,EAAEA,WAAW,CAACG;MAAI,EAC9B;IACH","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}