{"ast":null,"code":"import _objectSpread from \"/Users/liuzhao/Documents/Projects/flybird/flybird-web/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport { ref, watch, computed } from 'vue';\nexport default {\n  __name: 'PropertyPanel',\n  props: {\n    selectedElement: {\n      type: Object,\n      default: null\n    }\n  },\n  emits: ['update'],\n  setup(__props, {\n    expose: __expose,\n    emit: __emit\n  }) {\n    __expose();\n    const props = __props;\n    const emit = __emit;\n\n    // 属性状态\n    const borderRadius = ref(0);\n    const backgroundColor = ref('#409EFF');\n    const width = ref(200);\n    const height = ref(200);\n\n    // 计算属性\n    const panelTitle = computed(() => {\n      if (!props.selectedElement) return '';\n      switch (props.selectedElement.type) {\n        case 'image':\n          return '图片属性';\n        case 'shape':\n          return '形状属性';\n        default:\n          return '元素属性';\n      }\n    });\n    const showBorderRadius = computed(() => {\n      return props.selectedElement?.type === 'image' || props.selectedElement?.type === 'shape' && props.selectedElement?.shapeType !== 'triangle';\n    });\n    const showBackgroundColor = computed(() => {\n      return props.selectedElement?.type === 'shape';\n    });\n\n    // 监听选中元素变化\n    watch(() => props.selectedElement, newElement => {\n      if (newElement) {\n        // 更新圆角值\n        borderRadius.value = parseInt(newElement.styles?.borderRadius || 0);\n        // 更新背景色\n        backgroundColor.value = newElement.styles?.backgroundColor || '#409EFF';\n        // 更新尺寸\n        width.value = newElement.width;\n        height.value = newElement.height;\n      }\n    }, {\n      immediate: true\n    });\n\n    // 监听圆角变化\n    watch(borderRadius, newValue => {\n      handleStyleChange('borderRadius', `${newValue}px`);\n    });\n\n    // 监听背景色变化\n    watch(backgroundColor, newValue => {\n      handleStyleChange('backgroundColor', newValue);\n    });\n\n    // 监听尺寸变化\n    watch([width, height], () => {\n      handleSizeChange();\n    });\n\n    // 处理样式变化\n    const handleStyleChange = (property, value) => {\n      if (!props.selectedElement) return;\n      emit('update', _objectSpread(_objectSpread({}, props.selectedElement), {}, {\n        styles: _objectSpread(_objectSpread({}, props.selectedElement.styles), {}, {\n          [property]: value\n        })\n      }));\n    };\n\n    // 处理尺寸变化\n    const handleSizeChange = () => {\n      if (!props.selectedElement) return;\n      emit('update', _objectSpread(_objectSpread({}, props.selectedElement), {}, {\n        width: width.value,\n        height: height.value\n      }));\n    };\n    const __returned__ = {\n      props,\n      emit,\n      borderRadius,\n      backgroundColor,\n      width,\n      height,\n      panelTitle,\n      showBorderRadius,\n      showBackgroundColor,\n      handleStyleChange,\n      handleSizeChange,\n      ref,\n      watch,\n      computed\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","watch","computed","props","__props","emit","__emit","borderRadius","backgroundColor","width","height","panelTitle","selectedElement","type","showBorderRadius","shapeType","showBackgroundColor","newElement","value","parseInt","styles","immediate","newValue","handleStyleChange","handleSizeChange","property","_objectSpread"],"sources":["/Users/liuzhao/Documents/Projects/flybird/flybird-web/src/views/resume-editor/components/PropertyPanel.vue"],"sourcesContent":["<template>\n  <div class=\"property-panel\">\n    <template v-if=\"selectedElement\">\n      <div class=\"panel-header\">\n        <h3 class=\"panel-title\">{{ panelTitle }}</h3>\n      </div>\n      \n      <div class=\"panel-content\">\n        <!-- 圆角设置 -->\n        <div class=\"form-item\" v-if=\"showBorderRadius\">\n          <label>圆角</label>\n          <div class=\"slider-wrapper\">\n            <div class=\"d-flex align-center\">\n              <v-slider\n                v-model=\"borderRadius\"\n                :min=\"0\"\n                :max=\"100\"\n                :step=\"1\"\n                hide-details\n                class=\"mr-2\"\n              ></v-slider>\n              <v-text-field\n                v-model=\"borderRadius\"\n                type=\"number\"\n                style=\"width: 70px\"\n                density=\"compact\"\n                hide-details\n                variant=\"outlined\"\n              ></v-text-field>\n            </div>\n          </div>\n        </div>\n\n        <!-- 背景色设置 -->\n        <div class=\"form-item\" v-if=\"showBackgroundColor\">\n          <label>背景色</label>\n          <v-color-picker\n            v-model=\"backgroundColor\"\n            hide-inputs\n            mode=\"hex\"\n            width=\"100%\"\n            class=\"mt-2\"\n          ></v-color-picker>\n        </div>\n\n        <!-- 尺寸信息 -->\n        <div class=\"form-item\">\n          <label>尺寸</label>\n          <div class=\"size-inputs\">\n            <v-text-field\n              v-model.number=\"width\"\n              type=\"number\"\n              label=\"宽度\"\n              density=\"compact\"\n              hide-details\n              variant=\"outlined\"\n            ></v-text-field>\n            <v-text-field\n              v-model.number=\"height\"\n              type=\"number\"\n              label=\"高度\"\n              density=\"compact\"\n              hide-details\n              variant=\"outlined\"\n            ></v-text-field>\n          </div>\n        </div>\n      </div>\n    </template>\n    \n    <div v-else class=\"empty-state\">\n      <v-icon icon=\"mdi-select\" size=\"40\" color=\"grey-lighten-1\"></v-icon>\n      <p>请选择一个元素</p>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { ref, watch, computed } from 'vue'\n\nconst props = defineProps({\n  selectedElement: {\n    type: Object,\n    default: null\n  }\n})\n\nconst emit = defineEmits(['update'])\n\n// 属性状态\nconst borderRadius = ref(0)\nconst backgroundColor = ref('#409EFF')\nconst width = ref(200)\nconst height = ref(200)\n\n// 计算属性\nconst panelTitle = computed(() => {\n  if (!props.selectedElement) return ''\n  switch (props.selectedElement.type) {\n    case 'image':\n      return '图片属性'\n    case 'shape':\n      return '形状属性'\n    default:\n      return '元素属性'\n  }\n})\n\nconst showBorderRadius = computed(() => {\n  return props.selectedElement?.type === 'image' || \n         (props.selectedElement?.type === 'shape' && props.selectedElement?.shapeType !== 'triangle')\n})\n\nconst showBackgroundColor = computed(() => {\n  return props.selectedElement?.type === 'shape'\n})\n\n// 监听选中元素变化\nwatch(() => props.selectedElement, (newElement) => {\n  if (newElement) {\n    // 更新圆角值\n    borderRadius.value = parseInt(newElement.styles?.borderRadius || 0)\n    // 更新背景色\n    backgroundColor.value = newElement.styles?.backgroundColor || '#409EFF'\n    // 更新尺寸\n    width.value = newElement.width\n    height.value = newElement.height\n  }\n}, { immediate: true })\n\n// 监听圆角变化\nwatch(borderRadius, (newValue) => {\n  handleStyleChange('borderRadius', `${newValue}px`)\n})\n\n// 监听背景色变化\nwatch(backgroundColor, (newValue) => {\n  handleStyleChange('backgroundColor', newValue)\n})\n\n// 监听尺寸变化\nwatch([width, height], () => {\n  handleSizeChange()\n})\n\n// 处理样式变化\nconst handleStyleChange = (property, value) => {\n  if (!props.selectedElement) return\n  \n  emit('update', {\n    ...props.selectedElement,\n    styles: {\n      ...props.selectedElement.styles,\n      [property]: value\n    }\n  })\n}\n\n// 处理尺寸变化\nconst handleSizeChange = () => {\n  if (!props.selectedElement) return\n  \n  emit('update', {\n    ...props.selectedElement,\n    width: width.value,\n    height: height.value\n  })\n}\n</script>\n\n<style scoped>\n.property-panel {\n  width: 300px;\n  height: 100%;\n  border-left: 1px solid #e0e0e0;\n  background: #ffffff;\n  display: flex;\n  flex-direction: column;\n}\n\n.panel-header {\n  padding: 16px;\n  border-bottom: 1px solid #e0e0e0;\n}\n\n.panel-title {\n  font-size: 16px;\n  font-weight: 500;\n  color: #333;\n  margin: 0;\n}\n\n.panel-content {\n  flex: 1;\n  padding: 16px;\n  overflow-y: auto;\n}\n\n.form-item {\n  margin-bottom: 20px;\n}\n\n.form-item label {\n  display: block;\n  font-size: 14px;\n  color: #606266;\n  margin-bottom: 8px;\n}\n\n.slider-wrapper {\n  padding: 0 8px;\n}\n\n.size-inputs {\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  gap: 12px;\n}\n\n.empty-state {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  color: #909399;\n  gap: 12px;\n}\n\n.empty-state p {\n  font-size: 14px;\n  margin: 0;\n}\n</style> "],"mappings":";AA8EA,SAASA,GAAG,EAAEC,KAAK,EAAEC,QAAQ,QAAQ,KAAI;;;;;;;;;;;;;;;IAEzC,MAAMC,KAAK,GAAGC,OAAA;IAOd,MAAMC,IAAI,GAAGC,MAAA;;IAEb;IACA,MAAMC,YAAY,GAAGP,GAAG,CAAC,CAAC;IAC1B,MAAMQ,eAAe,GAAGR,GAAG,CAAC,SAAS;IACrC,MAAMS,KAAK,GAAGT,GAAG,CAAC,GAAG;IACrB,MAAMU,MAAM,GAAGV,GAAG,CAAC,GAAG;;IAEtB;IACA,MAAMW,UAAU,GAAGT,QAAQ,CAAC,MAAM;MAChC,IAAI,CAACC,KAAK,CAACS,eAAe,EAAE,OAAO,EAAC;MACpC,QAAQT,KAAK,CAACS,eAAe,CAACC,IAAI;QAChC,KAAK,OAAO;UACV,OAAO,MAAK;QACd,KAAK,OAAO;UACV,OAAO,MAAK;QACd;UACE,OAAO,MAAK;MAChB;IACF,CAAC;IAED,MAAMC,gBAAgB,GAAGZ,QAAQ,CAAC,MAAM;MACtC,OAAOC,KAAK,CAACS,eAAe,EAAEC,IAAI,KAAK,OAAO,IACtCV,KAAK,CAACS,eAAe,EAAEC,IAAI,KAAK,OAAO,IAAIV,KAAK,CAACS,eAAe,EAAEG,SAAS,KAAK,UAAU;IACpG,CAAC;IAED,MAAMC,mBAAmB,GAAGd,QAAQ,CAAC,MAAM;MACzC,OAAOC,KAAK,CAACS,eAAe,EAAEC,IAAI,KAAK,OAAM;IAC/C,CAAC;;IAED;IACAZ,KAAK,CAAC,MAAME,KAAK,CAACS,eAAe,EAAGK,UAAU,IAAK;MACjD,IAAIA,UAAU,EAAE;QACd;QACAV,YAAY,CAACW,KAAK,GAAGC,QAAQ,CAACF,UAAU,CAACG,MAAM,EAAEb,YAAY,IAAI,CAAC;QAClE;QACAC,eAAe,CAACU,KAAK,GAAGD,UAAU,CAACG,MAAM,EAAEZ,eAAe,IAAI,SAAQ;QACtE;QACAC,KAAK,CAACS,KAAK,GAAGD,UAAU,CAACR,KAAI;QAC7BC,MAAM,CAACQ,KAAK,GAAGD,UAAU,CAACP,MAAK;MACjC;IACF,CAAC,EAAE;MAAEW,SAAS,EAAE;IAAK,CAAC;;IAEtB;IACApB,KAAK,CAACM,YAAY,EAAGe,QAAQ,IAAK;MAChCC,iBAAiB,CAAC,cAAc,EAAE,GAAGD,QAAQ,IAAI;IACnD,CAAC;;IAED;IACArB,KAAK,CAACO,eAAe,EAAGc,QAAQ,IAAK;MACnCC,iBAAiB,CAAC,iBAAiB,EAAED,QAAQ;IAC/C,CAAC;;IAED;IACArB,KAAK,CAAC,CAACQ,KAAK,EAAEC,MAAM,CAAC,EAAE,MAAM;MAC3Bc,gBAAgB,CAAC;IACnB,CAAC;;IAED;IACA,MAAMD,iBAAiB,GAAGA,CAACE,QAAQ,EAAEP,KAAK,KAAK;MAC7C,IAAI,CAACf,KAAK,CAACS,eAAe,EAAE;MAE5BP,IAAI,CAAC,QAAQ,EAAAqB,aAAA,CAAAA,aAAA,KACRvB,KAAK,CAACS,eAAe;QACxBQ,MAAM,EAAAM,aAAA,CAAAA,aAAA,KACDvB,KAAK,CAACS,eAAe,CAACQ,MAAM;UAC/B,CAACK,QAAQ,GAAGP;QAAI;MAClB,EACD;IACH;;IAEA;IACA,MAAMM,gBAAgB,GAAGA,CAAA,KAAM;MAC7B,IAAI,CAACrB,KAAK,CAACS,eAAe,EAAE;MAE5BP,IAAI,CAAC,QAAQ,EAAAqB,aAAA,CAAAA,aAAA,KACRvB,KAAK,CAACS,eAAe;QACxBH,KAAK,EAAEA,KAAK,CAACS,KAAK;QAClBR,MAAM,EAAEA,MAAM,CAACQ;MAAI,EACpB;IACH","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}