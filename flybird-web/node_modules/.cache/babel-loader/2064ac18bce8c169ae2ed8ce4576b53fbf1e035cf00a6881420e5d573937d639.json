{"ast":null,"code":"import _objectSpread from \"/Users/liuzhao/Documents/Projects/flybird/flybird-web/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport { createVNode as _createVNode, mergeProps as _mergeProps } from \"vue\";\n// Styles\nimport \"./VTooltip.css\";\n\n// Components\nimport { VOverlay } from \"../VOverlay/index.mjs\";\nimport { makeVOverlayProps } from \"../VOverlay/VOverlay.mjs\"; // Composables\nimport { forwardRefs } from \"../../composables/forwardRefs.mjs\";\nimport { useProxiedModel } from \"../../composables/proxiedModel.mjs\";\nimport { useScopeId } from \"../../composables/scopeId.mjs\"; // Utilities\nimport { computed, mergeProps, ref } from 'vue';\nimport { genericComponent, getUid, omit, propsFactory, useRender } from \"../../util/index.mjs\"; // Types\nexport const makeVTooltipProps = propsFactory(_objectSpread({\n  id: String,\n  text: String\n}, omit(makeVOverlayProps({\n  closeOnBack: false,\n  location: 'end',\n  locationStrategy: 'connected',\n  eager: true,\n  minWidth: 0,\n  offset: 10,\n  openOnClick: false,\n  openOnHover: true,\n  origin: 'auto',\n  scrim: false,\n  scrollStrategy: 'reposition',\n  transition: false\n}), ['absolute', 'persistent'])), 'VTooltip');\nexport const VTooltip = genericComponent()({\n  name: 'VTooltip',\n  props: makeVTooltipProps(),\n  emits: {\n    'update:modelValue': value => true\n  },\n  setup(props, _ref) {\n    let {\n      slots\n    } = _ref;\n    const isActive = useProxiedModel(props, 'modelValue');\n    const {\n      scopeId\n    } = useScopeId();\n    const uid = getUid();\n    const id = computed(() => props.id || `v-tooltip-${uid}`);\n    const overlay = ref();\n    const location = computed(() => {\n      return props.location.split(' ').length > 1 ? props.location : props.location + ' center';\n    });\n    const origin = computed(() => {\n      return props.origin === 'auto' || props.origin === 'overlap' || props.origin.split(' ').length > 1 || props.location.split(' ').length > 1 ? props.origin : props.origin + ' center';\n    });\n    const transition = computed(() => {\n      if (props.transition) return props.transition;\n      return isActive.value ? 'scale-transition' : 'fade-transition';\n    });\n    const activatorProps = computed(() => mergeProps({\n      'aria-describedby': id.value\n    }, props.activatorProps));\n    useRender(() => {\n      const overlayProps = VOverlay.filterProps(props);\n      return _createVNode(VOverlay, _mergeProps({\n        \"ref\": overlay,\n        \"class\": ['v-tooltip', props.class],\n        \"style\": props.style,\n        \"id\": id.value\n      }, overlayProps, {\n        \"modelValue\": isActive.value,\n        \"onUpdate:modelValue\": $event => isActive.value = $event,\n        \"transition\": transition.value,\n        \"absolute\": true,\n        \"location\": location.value,\n        \"origin\": origin.value,\n        \"persistent\": true,\n        \"role\": \"tooltip\",\n        \"activatorProps\": activatorProps.value,\n        \"_disableGlobalStack\": true\n      }, scopeId), {\n        activator: slots.activator,\n        default: function () {\n          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n            args[_key] = arguments[_key];\n          }\n          return slots.default?.(...args) ?? props.text;\n        }\n      });\n    });\n    return forwardRefs({}, overlay);\n  }\n});","map":{"version":3,"names":["VOverlay","makeVOverlayProps","forwardRefs","useProxiedModel","useScopeId","computed","mergeProps","ref","genericComponent","getUid","omit","propsFactory","useRender","makeVTooltipProps","_objectSpread","id","String","text","closeOnBack","location","locationStrategy","eager","minWidth","offset","openOnClick","openOnHover","origin","scrim","scrollStrategy","transition","VTooltip","name","props","emits","value","setup","_ref","slots","isActive","scopeId","uid","overlay","split","length","activatorProps","overlayProps","filterProps","_createVNode","_mergeProps","class","style","$event","activator","default","_len","arguments","args","Array","_key"],"sources":["../../../src/components/VTooltip/VTooltip.tsx"],"sourcesContent":["// Styles\nimport './VTooltip.sass'\n\n// Components\nimport { VOverlay } from '@/components/VOverlay'\nimport { makeVOverlayProps } from '@/components/VOverlay/VOverlay'\n\n// Composables\nimport { forwardRefs } from '@/composables/forwardRefs'\nimport { useProxiedModel } from '@/composables/proxiedModel'\nimport { useScopeId } from '@/composables/scopeId'\n\n// Utilities\nimport { computed, mergeProps, ref } from 'vue'\nimport { genericComponent, getUid, omit, propsFactory, useRender } from '@/util'\n\n// Types\nimport type { StrategyProps } from '@/components/VOverlay/locationStrategies'\nimport type { OverlaySlots } from '@/components/VOverlay/VOverlay'\n\nexport const makeVTooltipProps = propsFactory({\n  id: String,\n  text: String,\n\n  ...omit(makeVOverlayProps({\n    closeOnBack: false,\n    location: 'end' as const,\n    locationStrategy: 'connected' as const,\n    eager: true,\n    minWidth: 0,\n    offset: 10,\n    openOnClick: false,\n    openOnHover: true,\n    origin: 'auto' as const,\n    scrim: false,\n    scrollStrategy: 'reposition' as const,\n    transition: false,\n  }), [\n    'absolute',\n    'persistent',\n  ]),\n}, 'VTooltip')\n\nexport const VTooltip = genericComponent<OverlaySlots>()({\n  name: 'VTooltip',\n\n  props: makeVTooltipProps(),\n\n  emits: {\n    'update:modelValue': (value: boolean) => true,\n  },\n\n  setup (props, { slots }) {\n    const isActive = useProxiedModel(props, 'modelValue')\n    const { scopeId } = useScopeId()\n\n    const uid = getUid()\n    const id = computed(() => props.id || `v-tooltip-${uid}`)\n\n    const overlay = ref<VOverlay>()\n\n    const location = computed(() => {\n      return props.location.split(' ').length > 1\n        ? props.location\n        : props.location + ' center' as StrategyProps['location']\n    })\n\n    const origin = computed(() => {\n      return (\n        props.origin === 'auto' ||\n        props.origin === 'overlap' ||\n        props.origin.split(' ').length > 1 ||\n        props.location.split(' ').length > 1\n      ) ? props.origin\n        : props.origin + ' center' as StrategyProps['origin']\n    })\n\n    const transition = computed(() => {\n      if (props.transition) return props.transition\n      return isActive.value ? 'scale-transition' : 'fade-transition'\n    })\n\n    const activatorProps = computed(() =>\n      mergeProps({\n        'aria-describedby': id.value,\n      }, props.activatorProps)\n    )\n\n    useRender(() => {\n      const overlayProps = VOverlay.filterProps(props)\n\n      return (\n        <VOverlay\n          ref={ overlay }\n          class={[\n            'v-tooltip',\n            props.class,\n          ]}\n          style={ props.style }\n          id={ id.value }\n          { ...overlayProps }\n          v-model={ isActive.value }\n          transition={ transition.value }\n          absolute\n          location={ location.value }\n          origin={ origin.value }\n          persistent\n          role=\"tooltip\"\n          activatorProps={ activatorProps.value }\n          _disableGlobalStack\n          { ...scopeId }\n        >\n          {{\n            activator: slots.activator,\n            default: (...args) => slots.default?.(...args) ?? props.text,\n          }}\n        </VOverlay>\n      )\n    })\n\n    return forwardRefs({}, overlay)\n  },\n})\n\nexport type VTooltip = InstanceType<typeof VTooltip>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}