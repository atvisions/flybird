{"ast":null,"code":"import { defineStore } from 'pinia';\nimport { ref, computed } from 'vue';\nexport const useUserStore = defineStore('user', () => {\n  const token = ref(localStorage.getItem('token') || '');\n  const userInfo = ref(null);\n\n  // 判断是否登录\n  const isLoggedIn = computed(() => {\n    return !!token.value;\n  });\n\n  // 判断是否是会员\n  const isPro = computed(() => {\n    return userInfo.value?.is_pro || false;\n  });\n\n  // 设置用户信息\n  const setUserInfo = info => {\n    userInfo.value = info;\n  };\n\n  // 设置 token\n  const setToken = newToken => {\n    token.value = newToken;\n    localStorage.setItem('token', newToken);\n  };\n\n  // 清除用户信息\n  const clearUser = () => {\n    token.value = '';\n    userInfo.value = null;\n    localStorage.removeItem('token');\n  };\n  return {\n    token,\n    userInfo,\n    isLoggedIn,\n    isPro,\n    setUserInfo,\n    setToken,\n    clearUser\n  };\n});","map":{"version":3,"names":["defineStore","ref","computed","useUserStore","token","localStorage","getItem","userInfo","isLoggedIn","value","isPro","is_pro","setUserInfo","info","setToken","newToken","setItem","clearUser","removeItem"],"sources":["/Users/liuzhao/Documents/Projects/flybird/flybird-web/src/stores/user.js"],"sourcesContent":["import { defineStore } from 'pinia'\nimport { ref, computed } from 'vue'\n\nexport const useUserStore = defineStore('user', () => {\n  const token = ref(localStorage.getItem('token') || '')\n  const userInfo = ref(null)\n  \n  // 判断是否登录\n  const isLoggedIn = computed(() => {\n    return !!token.value\n  })\n  \n  // 判断是否是会员\n  const isPro = computed(() => {\n    return userInfo.value?.is_pro || false\n  })\n  \n  // 设置用户信息\n  const setUserInfo = (info) => {\n    userInfo.value = info\n  }\n  \n  // 设置 token\n  const setToken = (newToken) => {\n    token.value = newToken\n    localStorage.setItem('token', newToken)\n  }\n  \n  // 清除用户信息\n  const clearUser = () => {\n    token.value = ''\n    userInfo.value = null\n    localStorage.removeItem('token')\n  }\n  \n  return {\n    token,\n    userInfo,\n    isLoggedIn,\n    isPro,\n    setUserInfo,\n    setToken,\n    clearUser\n  }\n}) "],"mappings":"AAAA,SAASA,WAAW,QAAQ,OAAO;AACnC,SAASC,GAAG,EAAEC,QAAQ,QAAQ,KAAK;AAEnC,OAAO,MAAMC,YAAY,GAAGH,WAAW,CAAC,MAAM,EAAE,MAAM;EACpD,MAAMI,KAAK,GAAGH,GAAG,CAACI,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,IAAI,EAAE,CAAC;EACtD,MAAMC,QAAQ,GAAGN,GAAG,CAAC,IAAI,CAAC;;EAE1B;EACA,MAAMO,UAAU,GAAGN,QAAQ,CAAC,MAAM;IAChC,OAAO,CAAC,CAACE,KAAK,CAACK,KAAK;EACtB,CAAC,CAAC;;EAEF;EACA,MAAMC,KAAK,GAAGR,QAAQ,CAAC,MAAM;IAC3B,OAAOK,QAAQ,CAACE,KAAK,EAAEE,MAAM,IAAI,KAAK;EACxC,CAAC,CAAC;;EAEF;EACA,MAAMC,WAAW,GAAIC,IAAI,IAAK;IAC5BN,QAAQ,CAACE,KAAK,GAAGI,IAAI;EACvB,CAAC;;EAED;EACA,MAAMC,QAAQ,GAAIC,QAAQ,IAAK;IAC7BX,KAAK,CAACK,KAAK,GAAGM,QAAQ;IACtBV,YAAY,CAACW,OAAO,CAAC,OAAO,EAAED,QAAQ,CAAC;EACzC,CAAC;;EAED;EACA,MAAME,SAAS,GAAGA,CAAA,KAAM;IACtBb,KAAK,CAACK,KAAK,GAAG,EAAE;IAChBF,QAAQ,CAACE,KAAK,GAAG,IAAI;IACrBJ,YAAY,CAACa,UAAU,CAAC,OAAO,CAAC;EAClC,CAAC;EAED,OAAO;IACLd,KAAK;IACLG,QAAQ;IACRC,UAAU;IACVE,KAAK;IACLE,WAAW;IACXE,QAAQ;IACRG;EACF,CAAC;AACH,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}