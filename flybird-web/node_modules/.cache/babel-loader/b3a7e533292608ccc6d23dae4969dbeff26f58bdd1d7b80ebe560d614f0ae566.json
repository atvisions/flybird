{"ast":null,"code":"import { createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, createCommentVNode as _createCommentVNode, openBlock as _openBlock, createBlock as _createBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"fixed inset-0 overflow-y-auto\"\n};\nconst _hoisted_2 = {\n  class: \"flex min-h-full items-center justify-center p-4 text-center\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_TransitionChild = _resolveComponent(\"TransitionChild\");\n  const _component_Dialog = _resolveComponent(\"Dialog\");\n  const _component_TransitionRoot = _resolveComponent(\"TransitionRoot\");\n  return _openBlock(), _createBlock(_component_TransitionRoot, {\n    appear: \"\",\n    show: _ctx.modelValue,\n    as: \"div\"\n  }, {\n    default: _withCtx(() => [_createVNode(_component_Dialog, {\n      as: \"div\",\n      class: \"relative z-50\",\n      onClose: _ctx.handleClose\n    }, {\n      default: _withCtx(() => [_createVNode(_component_TransitionChild, {\n        as: \"div\",\n        show: true,\n        enter: \"duration-300 ease-out\",\n        \"enter-from\": \"opacity-0\",\n        \"enter-to\": \"opacity-100\",\n        leave: \"duration-200 ease-in\",\n        \"leave-from\": \"opacity-100\",\n        \"leave-to\": \"opacity-0\"\n      }, {\n        default: _withCtx(() => _cache[0] || (_cache[0] = [_createElementVNode(\"div\", {\n          class: \"fixed inset-0 bg-black/25\"\n        }, null, -1 /* HOISTED */)])),\n        _: 1 /* STABLE */\n      }), _createElementVNode(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createVNode(_component_TransitionChild, {\n        as: \"div\",\n        show: true,\n        enter: \"duration-300 ease-out\",\n        \"enter-from\": \"opacity-0 scale-95\",\n        \"enter-to\": \"opacity-100 scale-100\",\n        leave: \"duration-200 ease-in\",\n        \"leave-from\": \"opacity-100 scale-100\",\n        \"leave-to\": \"opacity-0 scale-95\"\n      }, {\n        default: _withCtx(() => [_createCommentVNode(\" 预览内容保持不变 \")]),\n        _: 1 /* STABLE */\n      })])])]),\n      _: 1 /* STABLE */\n    }, 8 /* PROPS */, [\"onClose\"])]),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"show\"]);\n}","map":{"version":3,"names":["class","_createBlock","_component_TransitionRoot","appear","show","_ctx","modelValue","as","default","_withCtx","_createVNode","_component_Dialog","onClose","handleClose","_component_TransitionChild","enter","leave","_cache","_createElementVNode","_","_hoisted_1","_hoisted_2","_createCommentVNode"],"sources":["/Users/liuzhao/Documents/Projects/flybird/flybird-web/src/views/user/MyProfile/components/ProfilePreview.vue"],"sourcesContent":["<template>\n  <TransitionRoot appear :show=\"modelValue\" as=\"div\">\n    <Dialog as=\"div\" class=\"relative z-50\" @close=\"handleClose\">\n      <TransitionChild\n        as=\"div\"\n        :show=\"true\"\n        enter=\"duration-300 ease-out\"\n        enter-from=\"opacity-0\"\n        enter-to=\"opacity-100\"\n        leave=\"duration-200 ease-in\"\n        leave-from=\"opacity-100\"\n        leave-to=\"opacity-0\"\n      >\n        <div class=\"fixed inset-0 bg-black/25\" />\n      </TransitionChild>\n\n      <div class=\"fixed inset-0 overflow-y-auto\">\n        <div class=\"flex min-h-full items-center justify-center p-4 text-center\">\n          <TransitionChild\n            as=\"div\"\n            :show=\"true\"\n            enter=\"duration-300 ease-out\"\n            enter-from=\"opacity-0 scale-95\"\n            enter-to=\"opacity-100 scale-100\"\n            leave=\"duration-200 ease-in\"\n            leave-from=\"opacity-100 scale-100\"\n            leave-to=\"opacity-0 scale-95\"\n          >\n            <!-- 预览内容保持不变 -->\n          </TransitionChild>\n        </div>\n      </div>\n    </Dialog>\n  </TransitionRoot>\n</template>\n\n<script setup>\nimport { ref, onMounted, computed } from 'vue'\nimport { \n  UserIcon,\n  BriefcaseIcon,\n  BuildingOfficeIcon,\n  AcademicCapIcon,\n  SparklesIcon,\n  PhoneIcon, \n  EnvelopeIcon, \n  MapPinIcon \n} from '@heroicons/vue/24/outline'\nimport { profile } from '@/api/profile'\nimport defaultAvatarImage from '@/assets/images/default-avatar.png'\nimport { useStore } from 'vuex'\n\nconst store = useStore()\n\nconst completeness = ref(0)\nconst basicInfo = ref({})\nconst jobIntention = ref({})\nconst workExperiences = ref([])\nconst educations = ref([])\nconst skills = ref([])\n\n// 字段标签映射\nconst fieldLabels = {\n  // 基本信息\n  name: '姓名',\n  gender: '性别',\n  birth_date: '出生日期',\n  phone: '手机号',\n  email: '邮箱',\n  location: '所在地',\n  \n  // 求职意向\n  job_type: '工作类型',\n  job_status: '求职状态',\n  expected_salary: '期望薪资',\n  expected_city: '期望城市',\n  industries: '期望行业'\n}\n\n// 获取字段标签\nconst getFieldLabel = (key) => {\n  return fieldLabels[key] || key\n}\n\n// 格式化城市\nconst formatCity = (city) => {\n  if (!city) return '未设置'\n  return city.split('-').join('、')\n}\n\n// 格式化行业\nconst formatIndustries = (industries) => {\n  if (!industries) return '未设置'\n  return industries.split(',').join('、')\n}\n\n// 格式化求职意向的值\nconst formatJobIntentionValue = (key, value) => {\n  if (!value) return '未设置'\n  \n  switch (key) {\n    case 'job_type':\n      const jobTypes = {\n        'full_time': '全职',\n        'part_time': '兼职',\n        'internship': '实习',\n        'freelance': '自由职业'\n      }\n      return jobTypes[value] || value\n      \n    case 'job_status':\n      const statusMap = {\n        'unemployed_looking': '离职-找工作',\n        'employed_not_looking': '在职-暂不考虑',\n        'employed_looking': '在职-看机会',\n        'student_internship': '在校-找实习',\n        'fresh_graduate': '应届生'\n      }\n      return statusMap[value] || value\n      \n    case 'expected_city':\n      return formatCity(value)\n      \n    case 'industries':\n      return formatIndustries(value)\n      \n    default:\n      return value || '未设置'\n  }\n}\n\n// 格式化日期范围\nconst formatDateRange = (startDate, endDate, isCurrent) => {\n  if (!startDate) return ''\n  \n  const start = new Date(startDate).toLocaleDateString('zh-CN', {\n    year: 'numeric',\n    month: 'numeric'\n  })\n  \n  if (isCurrent) {\n    return `${start} - 至今`\n  }\n  \n  if (endDate) {\n    const end = new Date(endDate).toLocaleDateString('zh-CN', {\n      year: 'numeric',\n      month: 'numeric'\n    })\n    return `${start} - ${end}`\n  }\n  \n  return start\n}\n\n// 获取档案数据\nconst fetchProfileData = async () => {\n  try {\n    const response = await profile.getComplete()\n    if (response.data?.code === 200) {\n      const data = response.data.data\n      completeness.value = data.completeness || 0\n      basicInfo.value = data.basic_info || {}\n      jobIntention.value = data.job_intention || {}\n      workExperiences.value = data.work_experiences || []\n      educations.value = data.educations || []\n      skills.value = data.skills || []\n    }\n  } catch (error) {\n    console.error('获取档案数据失败:', error)\n  }\n}\n\n// 获取头像\nconst avatarUrl = computed(() => store.getters.getUserAvatar)\n\n// 处理头像加载错误\nconst handleImageError = (e) => {\n  e.target.src = defaultAvatarImage\n}\n\nonMounted(() => {\n  fetchProfileData()\n})\n</script>\n\n<style scoped>\n/* 移动端适配 */\n@media (max-width: 640px) {\n  /* 调整头部区域 */\n  .max-w-4xl {\n    padding: 0 1rem;\n  }\n\n  .px-8 {\n    padding-left: 1rem;\n    padding-right: 1rem;\n  }\n\n  /* 调整联系信息在移动端的布局 */\n  .flex.justify-center.gap-6 {\n    @apply flex-col gap-3;\n  }\n\n  /* 调整头像大小 */\n  .w-32.h-32 {\n    width: 6rem;\n    height: 6rem;\n  }\n\n  /* 调整文字大小 */\n  .text-2xl {\n    font-size: 1.25rem;\n  }\n\n  /* 调整简介宽度 */\n  .max-w-xl {\n    max-width: 100%;\n  }\n\n  /* 调整内边距 */\n  .py-12 {\n    padding-top: 2rem;\n    padding-bottom: 2rem;\n  }\n\n  .mb-6 {\n    margin-bottom: 1rem;\n  }\n\n  .mt-6 {\n    margin-top: 1rem;\n  }\n}\n\n/* 打印样式 */\n@media print {\n  .bg-gray-50 {\n    background-color: white !important;\n  }\n  \n  .shadow-md {\n    box-shadow: none !important;\n  }\n  \n  .border-b {\n    border-color: #e5e7eb !important;\n  }\n}\n\n/* 添加一些动画效果 */\n.rounded-xl {\n  transition: all 0.3s ease;\n}\n\n.hover\\:shadow-md:hover {\n  transform: translateY(-1px);\n}\n\n/* 技能标签悬浮效果 */\n.rounded-full {\n  transition: all 0.2s ease;\n}\n\n.rounded-full:hover {\n  transform: scale(1.05);\n}\n\n/* 渐变文字效果 */\n.bg-gradient-to-r {\n  background-size: 200% auto;\n  animation: gradient 8s ease infinite;\n}\n\n@keyframes gradient {\n  0% { background-position: 0% center; }\n  50% { background-position: 100% center; }\n  100% { background-position: 0% center; }\n}\n</style> "],"mappings":";;EAgBWA,KAAK,EAAC;AAA+B;;EACnCA,KAAK,EAAC;AAA6D;;;;;uBAhB9EC,YAAA,CAgCiBC,yBAAA;IAhCDC,MAAM,EAAN,EAAM;IAAEC,IAAI,EAAEC,IAAA,CAAAC,UAAU;IAAEC,EAAE,EAAC;;IAD/CC,OAAA,EAAAC,QAAA,CAEI,MA8BS,CA9BTC,YAAA,CA8BSC,iBAAA;MA9BDJ,EAAE,EAAC,KAAK;MAACP,KAAK,EAAC,eAAe;MAAEY,OAAK,EAAEP,IAAA,CAAAQ;;MAFnDL,OAAA,EAAAC,QAAA,CAGM,MAWkB,CAXlBC,YAAA,CAWkBI,0BAAA;QAVhBP,EAAE,EAAC,KAAK;QACPH,IAAI,EAAE,IAAI;QACXW,KAAK,EAAC,uBAAuB;QAC7B,YAAU,EAAC,WAAW;QACtB,UAAQ,EAAC,aAAa;QACtBC,KAAK,EAAC,sBAAsB;QAC5B,YAAU,EAAC,aAAa;QACxB,UAAQ,EAAC;;QAXjBR,OAAA,EAAAC,QAAA,CAaQ,MAAyCQ,MAAA,QAAAA,MAAA,OAAzCC,mBAAA,CAAyC;UAApClB,KAAK,EAAC;QAA2B,2B;QAb9CmB,CAAA;UAgBMD,mBAAA,CAeM,OAfNE,UAeM,GAdJF,mBAAA,CAaM,OAbNG,UAaM,GAZJX,YAAA,CAWkBI,0BAAA;QAVhBP,EAAE,EAAC,KAAK;QACPH,IAAI,EAAE,IAAI;QACXW,KAAK,EAAC,uBAAuB;QAC7B,YAAU,EAAC,oBAAoB;QAC/B,UAAQ,EAAC,uBAAuB;QAChCC,KAAK,EAAC,sBAAsB;QAC5B,YAAU,EAAC,uBAAuB;QAClC,UAAQ,EAAC;;QA1BrBR,OAAA,EAAAC,QAAA,CA4BY,MAAiB,CAAjBa,mBAAA,cAAiB,C;QA5B7BH,CAAA;;MAAAA,CAAA;;IAAAA,CAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}