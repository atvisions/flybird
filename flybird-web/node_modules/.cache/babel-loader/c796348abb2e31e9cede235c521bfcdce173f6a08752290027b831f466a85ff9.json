{"ast":null,"code":"import { createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, renderList as _renderList, Fragment as _Fragment, normalizeStyle as _normalizeStyle, normalizeClass as _normalizeClass, createBlock as _createBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"canvas-container\"\n};\nconst _hoisted_2 = {\n  class: \"canvas-wrapper\"\n};\nconst _hoisted_3 = {\n  key: 0,\n  class: \"canvas-placeholder\"\n};\nconst _hoisted_4 = {\n  class: \"column-placeholder\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_v_icon = _resolveComponent(\"v-icon\");\n  const _component_v_card_text = _resolveComponent(\"v-card-text\");\n  const _component_v_card = _resolveComponent(\"v-card\");\n  return _openBlock(), _createBlock(_component_v_card, {\n    class: \"h-100\"\n  }, {\n    default: _withCtx(() => [_createVNode(_component_v_card_text, {\n      class: \"fill-height d-flex align-center justify-center pa-0\"\n    }, {\n      default: _withCtx(() => [_createElementVNode(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", {\n        class: \"canvas-content\",\n        style: _normalizeStyle({\n          transform: `scale(${$props.scale})`\n        }),\n        onDragenter: _cache[0] || (_cache[0] = (...args) => $setup.handleDragEnter && $setup.handleDragEnter(...args)),\n        onDragleave: _cache[1] || (_cache[1] = (...args) => $setup.handleDragLeave && $setup.handleDragLeave(...args)),\n        onDragover: _cache[2] || (_cache[2] = (...args) => $setup.handleDragOver && $setup.handleDragOver(...args)),\n        onDrop: _cache[3] || (_cache[3] = (...args) => $setup.handleDrop && $setup.handleDrop(...args))\n      }, [!$setup.currentLayout ? (_openBlock(), _createElementBlock(\"div\", _hoisted_3, [_createVNode(_component_v_icon, {\n        size: \"48\",\n        color: \"rgba(0,0,0,0.2)\",\n        class: \"mb-4\"\n      }, {\n        default: _withCtx(() => _cache[4] || (_cache[4] = [_createTextVNode(\"mdi-file-document-outline\")])),\n        _: 1 /* STABLE */\n      }), _cache[5] || (_cache[5] = _createElementVNode(\"div\", {\n        class: \"text-body-1 text-medium-emphasis\"\n      }, \"拖拽布局到此处开始设计\", -1 /* HOISTED */))])) : (_openBlock(), _createElementBlock(\"div\", {\n        key: 1,\n        class: _normalizeClass([\"resume-layout\", $setup.currentLayout.config.layout.type])\n      }, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.currentLayout.config.layout.columns, (column, index) => {\n        return _openBlock(), _createElementBlock(\"div\", {\n          key: index,\n          class: \"layout-column\",\n          style: _normalizeStyle({\n            gap: $setup.currentLayout.config.layout.gap\n          })\n        }, [_createCommentVNode(\" 列占位符 \"), _createElementVNode(\"div\", _hoisted_4, [_createVNode(_component_v_icon, {\n          size: \"24\",\n          color: \"rgba(0,0,0,0.2)\"\n        }, {\n          default: _withCtx(() => [...(_cache[6] || (_cache[6] = [_createTextVNode(\"mdi-plus\")]))]),\n          _: 1 /* STABLE */\n        }), _cache[7] || (_cache[7] = _createElementVNode(\"div\", {\n          class: \"text-caption text-medium-emphasis\"\n        }, \"拖拽组件到此处\", -1 /* HOISTED */))])], 4 /* STYLE */);\n      }), 128 /* KEYED_FRAGMENT */))], 2 /* CLASS */))], 36 /* STYLE, NEED_HYDRATION */)])])]),\n      _: 1 /* STABLE */\n    })]),\n    _: 1 /* STABLE */\n  });\n}","map":{"version":3,"names":["class","key","_createBlock","_component_v_card","default","_withCtx","_createVNode","_component_v_card_text","_createElementVNode","_hoisted_1","_hoisted_2","style","_normalizeStyle","transform","$props","scale","onDragenter","_cache","args","$setup","handleDragEnter","onDragleave","handleDragLeave","onDragover","handleDragOver","onDrop","handleDrop","currentLayout","_createElementBlock","_hoisted_3","_component_v_icon","size","color","_createTextVNode","_","_normalizeClass","config","layout","type","_Fragment","_renderList","columns","column","index","gap","_createCommentVNode","_hoisted_4"],"sources":["/Users/liuzhao/Documents/Projects/flybird/flybird-web/src/views/resume-editor/components/Canvas.vue"],"sourcesContent":["<template>\n  <v-card class=\"h-100\">\n    <v-card-text class=\"fill-height d-flex align-center justify-center pa-0\">\n      <div class=\"canvas-container\">\n        <div class=\"canvas-wrapper\">\n          <div class=\"canvas-content\" \n            :style=\"{ transform: `scale(${scale})` }\"\n            @dragenter=\"handleDragEnter\"\n            @dragleave=\"handleDragLeave\"\n            @dragover=\"handleDragOver\"\n            @drop=\"handleDrop\">\n            <template v-if=\"!currentLayout\">\n              <div class=\"canvas-placeholder\">\n                <v-icon size=\"48\" color=\"rgba(0,0,0,0.2)\" class=\"mb-4\">mdi-file-document-outline</v-icon>\n                <div class=\"text-body-1 text-medium-emphasis\">拖拽布局到此处开始设计</div>\n              </div>\n            </template>\n            <template v-else>\n              <div class=\"resume-layout\" :class=\"currentLayout.config.layout.type\">\n                <div v-for=\"(column, index) in currentLayout.config.layout.columns\" \n                  :key=\"index\" \n                  class=\"layout-column\"\n                  :style=\"{ gap: currentLayout.config.layout.gap }\">\n                  <!-- 列占位符 -->\n                  <div class=\"column-placeholder\">\n                    <v-icon size=\"24\" color=\"rgba(0,0,0,0.2)\">mdi-plus</v-icon>\n                    <div class=\"text-caption text-medium-emphasis\">拖拽组件到此处</div>\n                  </div>\n                </div>\n              </div>\n            </template>\n          </div>\n        </div>\n      </div>\n    </v-card-text>\n  </v-card>\n</template>\n\n<script setup>\nimport { useDragDrop } from '../composables/useDragDrop'\n\nconst props = defineProps({\n  scale: {\n    type: Number,\n    required: true\n  }\n})\n\nconst {\n  currentLayout,\n  handleDragEnter,\n  handleDragLeave,\n  handleDragOver,\n  handleDrop\n} = useDragDrop()\n</script>\n\n<style scoped>\n.canvas-container {\n  width: 100%;\n  height: 100%;\n  overflow: v-bind('scale >= 1 ? \"auto\" : \"hidden\"');\n  background-color: #e0e0e0;\n  border-radius: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  position: relative;\n}\n\n.canvas-wrapper {\n  padding: v-bind('scale >= 1 ? \"40px\" : \"0\"');\n  width: 100%;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n}\n\n.canvas-content {\n  background-color: white;\n  width: 595px; /* A4 纸张宽度 */\n  height: 842px; /* A4 纸张高度 */\n  box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);\n  transform-origin: center center;\n  transition: transform 0.25s cubic-bezier(0.4, 0, 0.2, 1);\n  flex-shrink: 0;\n}\n\n.canvas-placeholder {\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  background-color: rgba(0, 0, 0, 0.02);\n  border: 2px dashed rgba(0, 0, 0, 0.1);\n  border-radius: 8px;\n  transition: all 0.3s;\n}\n\n.drag-over {\n  background-color: rgba(24, 103, 192, 0.05);\n  border-color: rgba(24, 103, 192, 0.3);\n}\n\n.resume-layout {\n  width: 100%;\n  height: 100%;\n  display: flex;\n  gap: 1rem;\n  padding: 1rem;\n\n  &.single {\n    flex-direction: column;\n  }\n\n  &.double {\n    .layout-column {\n      width: 50%;\n    }\n  }\n\n  &.triple {\n    .layout-column {\n      width: 33.33%;\n    }\n  }\n}\n\n.layout-column {\n  display: flex;\n  flex-direction: column;\n  min-height: 100%;\n  background-color: rgba(0, 0, 0, 0.02);\n  border: 2px dashed rgba(0, 0, 0, 0.1);\n  border-radius: 8px;\n  padding: 1rem;\n  transition: all 0.3s;\n\n  &.drag-over {\n    background-color: rgba(24, 103, 192, 0.05);\n    border-color: rgba(24, 103, 192, 0.3);\n  }\n}\n\n.column-placeholder {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  min-height: 100px;\n  color: rgba(0, 0, 0, 0.4);\n}\n</style> "],"mappings":";;EAGWA,KAAK,EAAC;AAAkB;;EACtBA,KAAK,EAAC;AAAgB;;EAJnCC,GAAA;EAYmBD,KAAK,EAAC;;;EAYFA,KAAK,EAAC;AAAoB;;;;;uBAvB/CE,YAAA,CAkCSC,iBAAA;IAlCDH,KAAK,EAAC;EAAO;IADvBI,OAAA,EAAAC,QAAA,CAEI,MAgCc,CAhCdC,YAAA,CAgCcC,sBAAA;MAhCDP,KAAK,EAAC;IAAqD;MAF5EI,OAAA,EAAAC,QAAA,CAGM,MA8BM,CA9BNG,mBAAA,CA8BM,OA9BNC,UA8BM,GA7BJD,mBAAA,CA4BM,OA5BNE,UA4BM,GA3BJF,mBAAA,CA0BM;QA1BDR,KAAK,EAAC,gBAAgB;QACxBW,KAAK,EANlBC,eAAA;UAAAC,SAAA,WAM0CC,MAAA,CAAAC,KAAK;QAAA;QAClCC,WAAS,EAAAC,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEC,MAAA,CAAAC,eAAA,IAAAD,MAAA,CAAAC,eAAA,IAAAF,IAAA,CAAe;QAC1BG,WAAS,EAAAJ,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEC,MAAA,CAAAG,eAAA,IAAAH,MAAA,CAAAG,eAAA,IAAAJ,IAAA,CAAe;QAC1BK,UAAQ,EAAAN,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEC,MAAA,CAAAK,cAAA,IAAAL,MAAA,CAAAK,cAAA,IAAAN,IAAA,CAAc;QACxBO,MAAI,EAAAR,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEC,MAAA,CAAAO,UAAA,IAAAP,MAAA,CAAAO,UAAA,IAAAR,IAAA,CAAU;WACAC,MAAA,CAAAQ,aAAa,I,cAC5BC,mBAAA,CAGM,OAHNC,UAGM,GAFJvB,YAAA,CAAyFwB,iBAAA;QAAjFC,IAAI,EAAC,IAAI;QAACC,KAAK,EAAC,iBAAiB;QAAChC,KAAK,EAAC;;QAbhEI,OAAA,EAAAC,QAAA,CAauE,MAAyBY,MAAA,QAAAA,MAAA,OAbhGgB,gBAAA,CAauE,2BAAyB,E;QAbhGC,CAAA;oCAcgB1B,mBAAA,CAA+D;QAA1DR,KAAK,EAAC;MAAkC,GAAC,aAAW,qB,oBAI3D4B,mBAAA,CAWM;QA7BpB3B,GAAA;QAkBmBD,KAAK,EAlBxBmC,eAAA,EAkByB,eAAe,EAAShB,MAAA,CAAAQ,aAAa,CAACS,MAAM,CAACC,MAAM,CAACC,IAAI;6BACjEV,mBAAA,CASMW,SAAA,QA5BtBC,WAAA,CAmB+CrB,MAAA,CAAAQ,aAAa,CAACS,MAAM,CAACC,MAAM,CAACI,OAAO,EAnBlF,CAmB6BC,MAAM,EAAEC,KAAK;6BAA1Bf,mBAAA,CASM;UARH3B,GAAG,EAAE0C,KAAK;UACX3C,KAAK,EAAC,eAAe;UACpBW,KAAK,EAtBxBC,eAAA;YAAAgC,GAAA,EAsBiCzB,MAAA,CAAAQ,aAAa,CAACS,MAAM,CAACC,MAAM,CAACO;UAAG;YAC9CC,mBAAA,UAAa,EACbrC,mBAAA,CAGM,OAHNsC,UAGM,GAFJxC,YAAA,CAA2DwB,iBAAA;UAAnDC,IAAI,EAAC,IAAI;UAACC,KAAK,EAAC;;UAzB5C5B,OAAA,EAAAC,QAAA,CAyB8D,MAAQ,KAAAY,MAAA,QAAAA,MAAA,OAzBtEgB,gBAAA,CAyB8D,UAAQ,E;UAzBtEC,CAAA;sCA0BoB1B,mBAAA,CAA4D;UAAvDR,KAAK,EAAC;QAAmC,GAAC,SAAO,qB;;MA1B1EkC,CAAA;;IAAAA,CAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}