{"ast":null,"code":"import \"core-js/modules/esnext.iterator.map.js\";\nimport { ref, computed, onMounted } from 'vue';\nimport { membership } from '@/api/membership';\nimport { useRouter } from 'vue-router';\nimport { showToast } from '@/components/ToastMessage';\nimport HeadView from '@/components/HeadView.vue';\nimport FootView from '@/components/FootView.vue';\nimport { DocumentArrowDownIcon, SparklesIcon, UserGroupIcon, DocumentTextIcon, ChatBubbleLeftRightIcon, CheckIcon, CalendarIcon, StarIcon, InformationCircleIcon, LinkIcon, ShareIcon, EnvelopeIcon, IdentificationIcon } from '@heroicons/vue/24/outline';\nexport default {\n  __name: 'ProView',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const router = useRouter();\n\n    // 状态\n    const activeTab = ref('purchase');\n    const membershipTiers = ref([]);\n    const selectedPlan = ref(null);\n    const selectedPaymentMethod = ref(null);\n    const showPaymentModal = ref(false);\n    const showQRCode = ref(false);\n    const qrCodeUrl = ref('');\n    const isLoading = ref(false);\n\n    // Tab 选项\n    const tabs = [{\n      id: 'purchase',\n      name: '购买会员'\n    }, {\n      id: 'student',\n      name: '学生认证'\n    }, {\n      id: 'invite',\n      name: '邀请返利'\n    }];\n\n    // 支付方式\n    const paymentMethods = [{\n      id: 'alipay',\n      name: '支付宝支付',\n      icon: '/images/alipay.png'\n    }, {\n      id: 'wechat',\n      name: '微信支付',\n      icon: '/images/wechat.png'\n    }];\n\n    // 获取会员等级数据\n    const fetchMembershipTiers = async () => {\n      try {\n        const response = await membership.getTiers();\n        if (response?.data?.code === 200) {\n          membershipTiers.value = response.data.data;\n        }\n      } catch (error) {\n        console.error('获取会员等级失败:', error);\n        showToast('获取会员等级失败', 'error');\n      }\n    };\n\n    // 转换会员等级数据为展示格式\n    const plans = computed(() => {\n      if (!membershipTiers.value.length) return [];\n      const tier = membershipTiers.value[0]; // 使用第一个会员等级\n\n      // 生成三个不同时长的会员卡片\n      return [{\n        id: `${tier.id}_monthly`,\n        name: '月度会员',\n        icon: CalendarIcon,\n        price: tier.price_monthly,\n        originalPrice: (parseFloat(tier.price_monthly) * 1.5).toFixed(2),\n        period: '月',\n        hot: false,\n        features: Object.values(tier.benefits).map(benefit => benefit.description)\n      }, {\n        id: `${tier.id}_quarterly`,\n        name: '季度会员',\n        icon: SparklesIcon,\n        price: tier.price_quarterly,\n        originalPrice: (parseFloat(tier.price_quarterly) * 1.5).toFixed(2),\n        period: '季',\n        hot: true,\n        // 标记为热门选择\n        features: Object.values(tier.benefits).map(benefit => benefit.description)\n      }, {\n        id: `${tier.id}_yearly`,\n        name: '年度会员',\n        icon: StarIcon,\n        price: tier.price_yearly,\n        originalPrice: (parseFloat(tier.price_yearly) * 1.5).toFixed(2),\n        period: '年',\n        features: Object.values(tier.benefits).map(benefit => benefit.description)\n      }];\n    });\n\n    // 会员特权列表\n    const memberFeatures = computed(() => {\n      if (!membershipTiers.value.length) return [];\n      const tier = membershipTiers.value[0];\n      return Object.entries(tier.benefits).map(([key, benefit]) => ({\n        id: key,\n        name: benefit.name,\n        description: benefit.description,\n        icon: getFeatureIcon(key)\n      }));\n    });\n\n    // 辅助函数\n    const getPlanIcon = name => {\n      if (name.includes('月')) return CalendarIcon;\n      if (name.includes('年')) return StarIcon;\n      return SparklesIcon;\n    };\n    const getFeatureIcon = key => {\n      const iconMap = {\n        'resume_export': DocumentArrowDownIcon,\n        'ai_chat': SparklesIcon,\n        'job_apply': UserGroupIcon,\n        'resume_optimization': DocumentTextIcon,\n        'priority_support': ChatBubbleLeftRightIcon\n      };\n      return iconMap[key] || DocumentTextIcon;\n    };\n\n    // 方法\n    const handleTabClick = tabId => {\n      activeTab.value = tabId;\n    };\n    const openPaymentModal = plan => {\n      // 直接显示支付弹窗\n      selectedPlan.value = plan;\n      selectedPaymentMethod.value = null;\n      showPaymentModal.value = true;\n    };\n    const closePaymentModal = () => {\n      showPaymentModal.value = false;\n      selectedPlan.value = null;\n      selectedPaymentMethod.value = null;\n    };\n    const selectPaymentMethod = method => {\n      selectedPaymentMethod.value = method;\n    };\n    const handlePayment = async () => {\n      if (!selectedPlan.value || !selectedPaymentMethod.value) {\n        showToast('请选择支付方式', 'warning');\n        return;\n      }\n      try {\n        isLoading.value = true;\n\n        // 从选中计划的ID中提取会员等级ID和时长\n        const [tierId, duration] = selectedPlan.value.id.split('_');\n\n        // 创建订单\n        const orderResponse = await membership.createOrder({\n          tier_id: parseInt(tierId),\n          duration: duration,\n          payment_method: selectedPaymentMethod.value.id\n        });\n        if (orderResponse?.data?.code === 200) {\n          const orderData = orderResponse.data.data;\n\n          // 创建支付\n          const paymentResponse = await membership.createPayment({\n            order_no: orderData.order_no,\n            payment_method: selectedPaymentMethod.value.id\n          });\n          if (paymentResponse?.data?.code === 200) {\n            const paymentData = paymentResponse.data.data;\n            if (selectedPaymentMethod.value.id === 'alipay') {\n              showPaymentModal.value = false;\n              // 在新窗口打开支付链接\n              const payWindow = window.open(paymentData.payment_url, '_blank');\n              if (payWindow) {\n                // 支付窗口打开成功\n                showToast('请在新窗口完成支付', 'info');\n              } else {\n                // 弹窗被拦截\n                showToast('请允许弹出窗口以完成支付', 'warning');\n                // 提供备选方案\n                const confirmOpen = confirm('支付窗口被拦截，是否手动打开支付页面？');\n                if (confirmOpen) {\n                  window.location.href = paymentData.payment_url;\n                }\n              }\n            }\n          }\n        }\n      } catch (error) {\n        console.error('支付失败:', error);\n        showToast(error.response?.data?.message || '支付失败，请重试', 'error');\n      } finally {\n        isLoading.value = false;\n      }\n    };\n\n    // 生命周期钩子\n    onMounted(async () => {\n      await fetchMembershipTiers();\n    });\n\n    // 其他状态\n    const selectedMethod = ref('edu_email');\n    const __returned__ = {\n      router,\n      activeTab,\n      membershipTiers,\n      selectedPlan,\n      selectedPaymentMethod,\n      showPaymentModal,\n      showQRCode,\n      qrCodeUrl,\n      isLoading,\n      tabs,\n      paymentMethods,\n      fetchMembershipTiers,\n      plans,\n      memberFeatures,\n      getPlanIcon,\n      getFeatureIcon,\n      handleTabClick,\n      openPaymentModal,\n      closePaymentModal,\n      selectPaymentMethod,\n      handlePayment,\n      selectedMethod,\n      ref,\n      computed,\n      onMounted,\n      get membership() {\n        return membership;\n      },\n      get useRouter() {\n        return useRouter;\n      },\n      get showToast() {\n        return showToast;\n      },\n      HeadView,\n      FootView,\n      get DocumentArrowDownIcon() {\n        return DocumentArrowDownIcon;\n      },\n      get SparklesIcon() {\n        return SparklesIcon;\n      },\n      get UserGroupIcon() {\n        return UserGroupIcon;\n      },\n      get DocumentTextIcon() {\n        return DocumentTextIcon;\n      },\n      get ChatBubbleLeftRightIcon() {\n        return ChatBubbleLeftRightIcon;\n      },\n      get CheckIcon() {\n        return CheckIcon;\n      },\n      get CalendarIcon() {\n        return CalendarIcon;\n      },\n      get StarIcon() {\n        return StarIcon;\n      },\n      get InformationCircleIcon() {\n        return InformationCircleIcon;\n      },\n      get LinkIcon() {\n        return LinkIcon;\n      },\n      get ShareIcon() {\n        return ShareIcon;\n      },\n      get EnvelopeIcon() {\n        return EnvelopeIcon;\n      },\n      get IdentificationIcon() {\n        return IdentificationIcon;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","computed","onMounted","membership","useRouter","showToast","HeadView","FootView","DocumentArrowDownIcon","SparklesIcon","UserGroupIcon","DocumentTextIcon","ChatBubbleLeftRightIcon","CheckIcon","CalendarIcon","StarIcon","InformationCircleIcon","LinkIcon","ShareIcon","EnvelopeIcon","IdentificationIcon","router","activeTab","membershipTiers","selectedPlan","selectedPaymentMethod","showPaymentModal","showQRCode","qrCodeUrl","isLoading","tabs","id","name","paymentMethods","icon","fetchMembershipTiers","response","getTiers","data","code","value","error","console","plans","length","tier","price","price_monthly","originalPrice","parseFloat","toFixed","period","hot","features","Object","values","benefits","map","benefit","description","price_quarterly","price_yearly","memberFeatures","entries","key","getFeatureIcon","getPlanIcon","includes","iconMap","handleTabClick","tabId","openPaymentModal","plan","closePaymentModal","selectPaymentMethod","method","handlePayment","tierId","duration","split","orderResponse","createOrder","tier_id","parseInt","payment_method","orderData","paymentResponse","createPayment","order_no","paymentData","payWindow","window","open","payment_url","confirmOpen","confirm","location","href","message","selectedMethod"],"sources":["/Users/liuzhao/Documents/Projects/flybird/flybird-web/src/views/ProView.vue"],"sourcesContent":["<template>\n  <div>\n    <HeadView />\n    <div class=\"min-h-screen relative overflow-hidden\" style=\"padding-top: calc(var(--navbar-height) + 2rem);\">\n      <!-- 页面标题区域 -->\n      <div class=\"text-center mb-12\">\n        <h2 class=\"text-4xl font-bold text-gray-900 mb-4\">选择会员计划</h2>\n        <p class=\"text-xl text-gray-600\">Select the best membership plan for you</p>\n      </div>\n\n      <!-- Tab 导航 -->\n      <div class=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 mb-8\">\n        <div class=\"flex justify-center\">\n          <div class=\"inline-flex rounded-full bg-white p-1 shadow-sm\">\n            <button v-for=\"tab in tabs\" :key=\"tab.id\" @click=\"handleTabClick(tab.id)\" :class=\"[\n              'px-6 py-2 text-sm font-medium rounded-full whitespace-nowrap',\n              activeTab === tab.id\n                ? 'bg-black text-white'\n                : 'text-gray-500 hover:text-gray-700 hover:bg-gray-50'\n            ]\">\n              {{ tab.name }}\n            </button>\n          </div>\n        </div>\n      </div>\n\n      <!-- 内容区域 -->\n      <div class=\"relative z-20\">\n        <div class=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n          <!-- 会员计划部分 -->\n          <div v-if=\"activeTab === 'purchase'\" class=\"max-w-7xl mx-auto\">\n            <!-- 会员卡片列表 -->\n            <div class=\"grid grid-cols-1 gap-6 sm:grid-cols-3 mt-12\">\n              <div \n                v-for=\"plan in plans\" \n                :key=\"plan.id\"\n                class=\"relative bg-white rounded-xl transition-all duration-300 hover:-translate-y-1\"\n                :class=\"[\n                  plan.hot \n                    ? 'border-2 border-black shadow-lg' \n                    : 'border border-gray-200 hover:border-black'\n                ]\"\n              >\n                <!-- 热门标签 -->\n                <div \n                  v-if=\"plan.hot\"\n                  class=\"absolute -top-3 left-1/2 transform -translate-x-1/2 bg-black text-white text-xs px-4 py-1 rounded-full font-medium\"\n                >\n                  热门 / Popular\n                </div>\n\n                <div class=\"p-6\">\n                  <!-- 标题 -->\n                  <div class=\"text-center mb-6\">\n                    <component :is=\"plan.icon\" class=\"w-8 h-8 mx-auto mb-3 text-gray-900\" />\n                    <h3 class=\"text-xl font-bold text-gray-900\">{{ plan.name }}</h3>\n                  </div>\n\n                  <!-- 价格 -->\n                  <div class=\"text-center mb-6\">\n                    <div class=\"text-gray-400 line-through text-sm\">¥{{ plan.originalPrice }}</div>\n                    <div class=\"flex items-center justify-center\">\n                      <span class=\"text-sm\">¥</span>\n                      <span class=\"text-4xl font-bold mx-1\">{{ plan.price }}</span>\n                      <span class=\"text-gray-500\">/{{ plan.period }}</span>\n                    </div>\n                  </div>\n\n                  <!-- 功能列表 -->\n                  <ul class=\"space-y-3 mb-6\">\n                    <li \n                      v-for=\"feature in plan.features\" \n                      :key=\"feature\"\n                      class=\"flex items-start text-sm text-gray-600\"\n                    >\n                      <CheckIcon class=\"h-5 w-5 text-black shrink-0 mr-2\" />\n                      <span>{{ feature }}</span>\n                    </li>\n                  </ul>\n\n                  <!-- 按钮 -->\n                  <button\n                    @click=\"openPaymentModal(plan)\"\n                    class=\"w-full py-3 text-center rounded-lg font-medium transition-colors duration-200\"\n                    :class=\"[\n                      plan.hot \n                        ? 'bg-black text-white hover:bg-gray-800' \n                        : 'border-2 border-black text-black hover:bg-black hover:text-white'\n                    ]\"\n                  >\n                    开通 / Subscribe\n                  </button>\n                </div>\n              </div>\n            </div>\n\n            <!-- 会员特权 -->\n            <div class=\"mt-20\">\n              <h3 class=\"text-2xl font-bold text-center mb-12\">会员特权 / Benefits</h3>\n              <div class=\"grid grid-cols-2 md:grid-cols-4 gap-6\">\n                <div \n                  v-for=\"feature in memberFeatures\"\n                  :key=\"feature.id\"\n                  class=\"p-6 bg-white border border-gray-200 rounded-lg hover:border-black transition-colors duration-200\"\n                >\n                  <component \n                    :is=\"feature.icon\"\n                    class=\"w-8 h-8 text-black mb-4\"\n                  />\n                  <h4 class=\"font-bold mb-2\">{{ feature.name }}</h4>\n                  <p class=\"text-sm text-gray-600\">{{ feature.description }}</p>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <!-- 学生认证部分 -->\n          <div v-else-if=\"activeTab === 'student'\" class=\"max-w-3xl mx-auto px-4 sm:px-0\">\n            <div class=\"mt-12 bg-white rounded-xl p-6 sm:p-12 shadow-lg\">\n              <!-- 顶部区域 -->\n              <div class=\"flex flex-col sm:flex-row items-start sm:items-center justify-between mb-8 sm:mb-12 border-b border-gray-100 pb-4 sm:pb-8\">\n                <div>\n                  <h3 class=\"text-xl sm:text-2xl font-bold text-gray-900\">学生专属特权</h3>\n                  <p class=\"mt-2 text-gray-500\">认证后即可获得 1 年会员资格</p>\n                </div>\n                <div class=\"flex items-center space-x-2 mt-4 sm:mt-0\">\n                  <span class=\"text-sm text-gray-400\">认证时长</span>\n                  <span class=\"text-xl sm:text-2xl font-bold text-black\">365</span>\n                  <span class=\"text-sm text-gray-400\">天</span>\n                </div>\n              </div>\n\n              <!-- 认证方式选择 -->\n              <div class=\"space-y-4\">\n                <!-- 教育邮箱认证 -->\n                <div \n                  class=\"group relative p-4 sm:p-6 border-2 rounded-xl cursor-pointer transition-all duration-300\"\n                  :class=\"[\n                    selectedMethod === 'edu_email' \n                      ? 'border-black' \n                      : 'border-gray-100 hover:border-black'\n                  ]\"\n                  @click=\"selectedMethod = 'edu_email'\"\n                >\n                  <div class=\"flex items-center justify-between\">\n                    <div class=\"flex items-center space-x-4\">\n                      <div class=\"w-10 sm:w-12 h-10 sm:h-12 bg-gray-50 rounded-lg flex items-center justify-center\">\n                        <EnvelopeIcon class=\"w-5 sm:w-6 h-5 sm:h-6 text-gray-900\" />\n                      </div>\n                      <div>\n                        <h4 class=\"font-medium text-gray-900\">教育邮箱认证</h4>\n                        <p class=\"text-sm text-gray-500 mt-1\">使用学校邮箱，在线自动认证</p>\n                      </div>\n                    </div>\n                    <div class=\"w-5 sm:w-6 h-5 sm:h-6 rounded-full border-2 border-gray-200 group-hover:border-black flex items-center justify-center\">\n                      <div \n                        class=\"w-2 sm:w-3 h-2 sm:h-3 rounded-full transition-all duration-300\"\n                        :class=\"selectedMethod === 'edu_email' ? 'bg-black' : 'bg-transparent'\"\n                      ></div>\n                    </div>\n                  </div>\n                  <!-- 详细说明 - 默认展开 -->\n                  <div class=\"mt-4 text-sm text-gray-500\">\n                    <ul class=\"list-disc pl-5 space-y-1\">\n                      <li>输入教育邮箱，系统校验域名</li>\n                      <li>发送验证码到教育邮箱</li>\n                      <li>输入验证码完成认证</li>\n                      <li>自动化程度高，用户体验好</li>\n                    </ul>\n                  </div>\n                </div>\n\n                <!-- 学生证认证 -->\n                <div \n                  class=\"group relative p-4 sm:p-6 border-2 rounded-xl cursor-pointer transition-all duration-300\"\n                  :class=\"[\n                    selectedMethod === 'student_card' \n                      ? 'border-black' \n                      : 'border-gray-100 hover:border-black'\n                  ]\"\n                  @click=\"selectedMethod = 'student_card'\"\n                >\n                  <div class=\"flex items-center justify-between\">\n                    <div class=\"flex items-center space-x-4\">\n                      <div class=\"w-10 sm:w-12 h-10 sm:h-12 bg-gray-50 rounded-lg flex items-center justify-center\">\n                        <IdentificationIcon class=\"w-5 sm:w-6 h-5 sm:h-6 text-gray-900\" />\n                      </div>\n                      <div>\n                        <h4 class=\"font-medium text-gray-900\">学生证认证</h4>\n                        <p class=\"text-sm text-gray-500 mt-1\">上传学生证照片，快速完成认证</p>\n                      </div>\n                    </div>\n                    <div class=\"w-5 sm:w-6 h-5 sm:h-6 rounded-full border-2 border-gray-200 group-hover:border-black flex items-center justify-center\">\n                      <div \n                        class=\"w-2 sm:w-3 h-2 sm:h-3 rounded-full transition-all duration-300\"\n                        :class=\"selectedMethod === 'student_card' ? 'bg-black' : 'bg-transparent'\"\n                      ></div>\n                    </div>\n                  </div>\n                  <!-- 详细说明 -->\n                  <div v-if=\"selectedMethod === 'student_card'\" class=\"mt-4 text-sm text-gray-500\">\n                    <ul class=\"list-disc pl-5 space-y-1\">\n                      <li>上传学生证正面和手持学生证自拍照</li>\n                      <li>OCR识别学生证信息</li>\n                      <li>人脸识别对比自拍照与用户头像</li>\n                      <li>仅认可正规高校</li>\n                    </ul>\n                  </div>\n                </div>\n              </div>\n\n              <!-- 底部说明和按钮 -->\n              <div class=\"mt-8 sm:mt-12 flex flex-col sm:flex-row items-center justify-between\">\n                <div class=\"flex items-center space-x-2 text-sm text-gray-500 mb-4 sm:mb-0\">\n                  <InformationCircleIcon class=\"w-5 h-5\" />\n                  <span>认证通过后立即生效</span>\n                </div>\n                <button \n                  @click=\"handleVerification\"\n                  class=\"w-full sm:w-auto px-8 py-3 bg-black text-white rounded-lg font-medium hover:bg-gray-800 transition-colors duration-200\"\n                >\n                  开始认证\n                </button>\n              </div>\n            </div>\n          </div>\n\n          <!-- 邀请好友部分 -->\n          <div v-else-if=\"activeTab === 'invite'\" class=\"max-w-3xl mx-auto px-4 sm:px-0\">\n            <div class=\"mt-12 bg-white rounded-xl p-6 sm:p-12 shadow-lg\">\n              <!-- 顶部区域 -->\n              <div class=\"flex flex-col sm:flex-row items-start sm:items-center justify-between mb-8 sm:mb-12 border-b border-gray-100 pb-4 sm:pb-8\">\n                <div>\n                  <h3 class=\"text-xl sm:text-2xl font-bold text-gray-900\">邀请好友特权</h3>\n                  <p class=\"mt-2 text-gray-500\">邀请好友注册，双方都可获得会员奖励</p>\n                </div>\n                <div class=\"flex items-center space-x-2 mt-4 sm:mt-0\">\n                  <span class=\"text-sm text-gray-400\">已邀请</span>\n                  <span class=\"text-xl sm:text-2xl font-bold text-black\">{{ inviteCount }}</span>\n                  <span class=\"text-sm text-gray-400\">人</span>\n                </div>\n              </div>\n\n              <!-- 邀请方式选择 -->\n              <div class=\"space-y-4\">\n                <!-- 分享链接 -->\n                <div class=\"group relative p-4 sm:p-6 border-2 rounded-xl cursor-pointer transition-all duration-300\"\n                  :class=\"[\n                    selectedInviteMethod === 'share_link' \n                      ? 'border-black' \n                      : 'border-gray-100 hover:border-black'\n                  ]\"\n                  @click=\"selectedInviteMethod = 'share_link'\"\n                >\n                  <div class=\"flex items-center justify-between\">\n                    <div class=\"flex items-center space-x-4\">\n                      <div class=\"w-10 sm:w-12 h-10 sm:h-12 bg-gray-50 rounded-lg flex items-center justify-center\">\n                        <LinkIcon class=\"w-5 sm:w-6 h-5 sm:h-6 text-gray-900\" />\n                      </div>\n                      <div>\n                        <h4 class=\"font-medium text-gray-900\">分享邀请链接</h4>\n                        <p class=\"text-sm text-gray-500 mt-1\">复制链接分享给好友</p>\n                      </div>\n                    </div>\n                    <div class=\"w-5 sm:w-6 h-5 sm:h-6 rounded-full border-2 border-gray-200 group-hover:border-black flex items-center justify-center\">\n                      <div class=\"w-2 sm:w-3 h-2 sm:h-3 rounded-full transition-all duration-300\"\n                        :class=\"selectedInviteMethod === 'share_link' ? 'bg-black' : 'bg-transparent'\"\n                      ></div>\n                    </div>\n                  </div>\n                  <!-- 详细说明 -->\n                  <div class=\"mt-4\">\n                    <div class=\"flex items-center space-x-2 bg-gray-50 rounded-lg p-3\">\n                      <input \n                        type=\"text\" \n                        :value=\"inviteLink\" \n                        readonly \n                        class=\"flex-1 bg-transparent border-none text-sm text-gray-600 focus:ring-0\"\n                      >\n                      <button \n                        @click.stop=\"handleCopyLink\"\n                        class=\"px-4 py-1.5 bg-black text-white text-sm rounded-lg hover:bg-gray-800\"\n                      >\n                        复制链接\n                      </button>\n                    </div>\n                  </div>\n                </div>\n\n                <!-- 社交分享 -->\n                <div class=\"group relative p-4 sm:p-6 border-2 rounded-xl cursor-pointer transition-all duration-300\"\n                  :class=\"[\n                    selectedInviteMethod === 'social_share' \n                      ? 'border-black' \n                      : 'border-gray-100 hover:border-black'\n                  ]\"\n                  @click=\"selectedInviteMethod = 'social_share'\"\n                >\n                  <div class=\"flex items-center justify-between\">\n                    <div class=\"flex items-center space-x-4\">\n                      <div class=\"w-10 sm:w-12 h-10 sm:h-12 bg-gray-50 rounded-lg flex items-center justify-center\">\n                        <ShareIcon class=\"w-5 sm:w-6 h-5 sm:h-6 text-gray-900\" />\n                      </div>\n                      <div>\n                        <h4 class=\"font-medium text-gray-900\">社交分享</h4>\n                        <p class=\"text-sm text-gray-500 mt-1\">分享到社交平台</p>\n                      </div>\n                    </div>\n                    <div class=\"w-5 sm:w-6 h-5 sm:h-6 rounded-full border-2 border-gray-200 group-hover:border-black flex items-center justify-center\">\n                      <div class=\"w-2 sm:w-3 h-2 sm:h-3 rounded-full transition-all duration-300\"\n                        :class=\"selectedInviteMethod === 'social_share' ? 'bg-black' : 'bg-transparent'\"\n                      ></div>\n                    </div>\n                  </div>\n                  <!-- 详细说明 -->\n                  <div v-if=\"selectedInviteMethod === 'social_share'\" class=\"mt-4\">\n                    <button \n                      @click.stop=\"handleShare\"\n                      class=\"w-full py-2 bg-black text-white rounded-lg hover:bg-gray-800\"\n                    >\n                      一键分享\n                    </button>\n                  </div>\n                </div>\n              </div>\n\n              <!-- 奖励规则 -->\n              <div class=\"mt-8 sm:mt-12 space-y-6\">\n                <h4 class=\"font-medium text-gray-900\">奖励规则</h4>\n                <div class=\"grid grid-cols-1 sm:grid-cols-3 gap-4\">\n                  <div class=\"p-4 bg-gray-50 rounded-lg text-center\">\n                    <div class=\"text-xl font-bold text-black mb-1\">2人</div>\n                    <div class=\"text-sm text-gray-500\">获得1个月会员</div>\n                  </div>\n                  <div class=\"p-4 bg-gray-50 rounded-lg text-center\">\n                    <div class=\"text-xl font-bold text-black mb-1\">5人</div>\n                    <div class=\"text-sm text-gray-500\">获得1年会员</div>\n                  </div>\n                  <div class=\"p-4 bg-gray-50 rounded-lg text-center\">\n                    <div class=\"text-xl font-bold text-black mb-1\">10人</div>\n                    <div class=\"text-sm text-gray-500\">获得终身会员</div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <!-- 支付弹窗 -->\n    <div v-if=\"showPaymentModal\" class=\"fixed inset-0 z-50\">\n      <!-- 遮罩层 -->\n      <div class=\"absolute inset-0 bg-black bg-opacity-50\" @click=\"closePaymentModal\"></div>\n      \n      <!-- 弹窗内容 -->\n      <div class=\"relative z-10 min-h-screen px-4 flex items-center justify-center\">\n        <div class=\"bg-white rounded-xl w-full max-w-lg p-8\">\n          <!-- 关闭按钮 -->\n          <button @click=\"closePaymentModal\" class=\"absolute top-4 right-4 text-gray-400 hover:text-gray-500\">\n            <svg class=\"h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n              <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M6 18L18 6M6 6l12 12\" />\n            </svg>\n          </button>\n          \n          <!-- 标题 -->\n          <h3 class=\"text-2xl font-bold text-gray-900 mb-6 text-center\">\n            确认订单\n          </h3>\n          \n          <!-- 订单信息 -->\n          <div class=\"bg-gray-50 rounded-lg p-6 mb-6\">\n            <div class=\"flex justify-between items-center mb-4\">\n              <span class=\"text-gray-600\">会员类型</span>\n              <span class=\"font-medium\">{{ selectedPlan?.name }}</span>\n            </div>\n            <div class=\"flex justify-between items-center mb-4\">\n              <span class=\"text-gray-600\">会员时长</span>\n              <span class=\"font-medium\">{{ selectedPlan?.period }}</span>\n            </div>\n            <div class=\"flex justify-between items-center text-lg\">\n              <span class=\"text-gray-600\">支付金额</span>\n              <span class=\"font-bold text-primary-600\">¥{{ selectedPlan?.price }}</span>\n            </div>\n          </div>\n          \n          <!-- 支付方式选择 -->\n          <div class=\"mb-6\">\n            <h4 class=\"font-medium text-gray-900 mb-4\">选择支付方式</h4>\n            <div class=\"grid grid-cols-2 gap-4\">\n              <button\n                v-for=\"method in paymentMethods\"\n                :key=\"method.id\"\n                @click=\"selectPaymentMethod(method)\"\n                class=\"flex items-center justify-center p-4 border rounded-lg transition-colors duration-200\"\n                :class=\"[\n                  selectedPaymentMethod?.id === method.id\n                    ? 'border-primary-600 bg-primary-50'\n                    : 'border-gray-200 hover:border-primary-600'\n                ]\"\n              >\n                <img :src=\"method.icon\" :alt=\"method.name\" class=\"h-8\">\n              </button>\n            </div>\n          </div>\n          \n          <!-- 温馨提示 -->\n          <div class=\"text-sm text-gray-500 mb-6\">\n            <p>温馨提示：</p>\n            <ul class=\"list-disc list-inside space-y-1\">\n              <li>支付完成后会员权益将立即生效</li>\n              <li>如遇支付问题请联系客服</li>\n            </ul>\n          </div>\n          \n          <!-- 底部按钮 -->\n          <div class=\"flex space-x-4\">\n            <button \n              @click=\"closePaymentModal\"\n              class=\"flex-1 px-4 py-3 border border-gray-300 text-gray-700 rounded-md font-medium hover:bg-gray-50 transition-colors duration-200\"\n            >\n              取消\n            </button>\n            <button \n              @click=\"handlePayment\"\n              :disabled=\"!selectedPaymentMethod\"\n              class=\"flex-1 px-4 py-3 bg-primary-600 text-white rounded-md font-medium hover:bg-primary-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors duration-200\"\n            >\n              立即支付\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <!-- 二维码弹窗 -->\n    <div v-if=\"showQRCode\" class=\"fixed inset-0 z-50\">\n      <div class=\"absolute inset-0 bg-black bg-opacity-50\" @click=\"closeQRCode\"></div>\n      <div class=\"relative z-10 min-h-screen px-4 flex items-center justify-center\">\n        <div class=\"bg-white rounded-lg w-full max-w-sm p-6 text-center\">\n          <button @click=\"closeQRCode\" class=\"absolute top-4 right-4 text-gray-400 hover:text-gray-500\">\n            <svg class=\"h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n              <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M6 18L18 6M6 6l12 12\" />\n            </svg>\n          </button>\n\n          <h3 class=\"text-lg font-medium text-gray-900 mb-4\">\n            {{ selectedPaymentMethod?.name }}扫码支付\n          </h3>\n\n          <div class=\"bg-white p-4 inline-block rounded-lg\">\n            <img :src=\"qrCodeUrl\" alt=\"支付二维码\" class=\"w-48 h-48\">\n          </div>\n\n          <p class=\"mt-4 text-sm text-gray-500\">\n            请使用{{ selectedPaymentMethod?.name }}扫描二维码完成支付\n          </p>\n        </div>\n      </div>\n    </div>\n\n    <!-- 加载状态 -->\n    <div v-if=\"isLoading\" class=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n      <div class=\"bg-white rounded-lg p-6 flex flex-col items-center\">\n        <div class=\"animate-spin rounded-full h-12 w-12 border-4 border-primary-500 border-t-transparent\"></div>\n        <span class=\"mt-4 text-gray-700\">处理中...</span>\n      </div>\n    </div>\n\n    <FootView />\n  </div>\n</template>\n<script setup>\nimport { ref, computed, onMounted } from 'vue'\nimport { membership } from '@/api/membership'\nimport { useRouter } from 'vue-router'\nimport { showToast } from '@/components/ToastMessage'\nimport HeadView from '@/components/HeadView.vue'\nimport FootView from '@/components/FootView.vue'\nimport {\n  DocumentArrowDownIcon, SparklesIcon, UserGroupIcon,\n  DocumentTextIcon, ChatBubbleLeftRightIcon, CheckIcon,\n  CalendarIcon, StarIcon,\n  InformationCircleIcon,\n  LinkIcon,\n  ShareIcon,\n  EnvelopeIcon,\n  IdentificationIcon\n} from '@heroicons/vue/24/outline'\n\nconst router = useRouter()\n\n// 状态\nconst activeTab = ref('purchase')\nconst membershipTiers = ref([])\nconst selectedPlan = ref(null)\nconst selectedPaymentMethod = ref(null)\nconst showPaymentModal = ref(false)\nconst showQRCode = ref(false)\nconst qrCodeUrl = ref('')\nconst isLoading = ref(false)\n\n// Tab 选项\nconst tabs = [\n  { id: 'purchase', name: '购买会员' },\n  { id: 'student', name: '学生认证' },\n  { id: 'invite', name: '邀请返利' }\n]\n\n// 支付方式\nconst paymentMethods = [\n  {\n    id: 'alipay',\n    name: '支付宝支付',\n    icon: '/images/alipay.png'\n  },\n  {\n    id: 'wechat',\n    name: '微信支付',\n    icon: '/images/wechat.png'\n  }\n]\n\n// 获取会员等级数据\nconst fetchMembershipTiers = async () => {\n  try {\n    const response = await membership.getTiers()\n    if (response?.data?.code === 200) {\n      membershipTiers.value = response.data.data\n    }\n  } catch (error) {\n    console.error('获取会员等级失败:', error)\n    showToast('获取会员等级失败', 'error')\n  }\n}\n\n// 转换会员等级数据为展示格式\nconst plans = computed(() => {\n  if (!membershipTiers.value.length) return []\n  \n  const tier = membershipTiers.value[0] // 使用第一个会员等级\n  \n  // 生成三个不同时长的会员卡片\n  return [\n    {\n      id: `${tier.id}_monthly`,\n      name: '月度会员',\n      icon: CalendarIcon,\n      price: tier.price_monthly,\n      originalPrice: (parseFloat(tier.price_monthly) * 1.5).toFixed(2),\n      period: '月',\n      hot: false,\n      features: Object.values(tier.benefits).map(benefit => benefit.description)\n    },\n    {\n      id: `${tier.id}_quarterly`,\n      name: '季度会员',\n      icon: SparklesIcon,\n      price: tier.price_quarterly,\n      originalPrice: (parseFloat(tier.price_quarterly) * 1.5).toFixed(2),\n      period: '季',\n      hot: true, // 标记为热门选择\n      features: Object.values(tier.benefits).map(benefit => benefit.description)\n    },\n    {\n      id: `${tier.id}_yearly`,\n      name: '年度会员',\n      icon: StarIcon,\n      price: tier.price_yearly,\n      originalPrice: (parseFloat(tier.price_yearly) * 1.5).toFixed(2),\n      period: '年',\n      features: Object.values(tier.benefits).map(benefit => benefit.description)\n    }\n  ]\n})\n\n// 会员特权列表\nconst memberFeatures = computed(() => {\n  if (!membershipTiers.value.length) return []\n  \n  const tier = membershipTiers.value[0]\n  return Object.entries(tier.benefits).map(([key, benefit]) => ({\n    id: key,\n    name: benefit.name,\n    description: benefit.description,\n    icon: getFeatureIcon(key)\n  }))\n})\n\n// 辅助函数\nconst getPlanIcon = (name) => {\n  if (name.includes('月')) return CalendarIcon\n  if (name.includes('年')) return StarIcon\n  return SparklesIcon\n}\n\nconst getFeatureIcon = (key) => {\n  const iconMap = {\n    'resume_export': DocumentArrowDownIcon,\n    'ai_chat': SparklesIcon,\n    'job_apply': UserGroupIcon,\n    'resume_optimization': DocumentTextIcon,\n    'priority_support': ChatBubbleLeftRightIcon\n  }\n  return iconMap[key] || DocumentTextIcon\n}\n\n// 方法\nconst handleTabClick = (tabId) => {\n  activeTab.value = tabId\n}\n\nconst openPaymentModal = (plan) => {\n  // 直接显示支付弹窗\n  selectedPlan.value = plan\n  selectedPaymentMethod.value = null\n  showPaymentModal.value = true\n}\n\nconst closePaymentModal = () => {\n  showPaymentModal.value = false\n  selectedPlan.value = null\n  selectedPaymentMethod.value = null\n}\n\nconst selectPaymentMethod = (method) => {\n  selectedPaymentMethod.value = method\n}\n\nconst handlePayment = async () => {\n  if (!selectedPlan.value || !selectedPaymentMethod.value) {\n    showToast('请选择支付方式', 'warning')\n    return\n  }\n\n  try {\n    isLoading.value = true\n    \n    // 从选中计划的ID中提取会员等级ID和时长\n    const [tierId, duration] = selectedPlan.value.id.split('_')\n    \n    // 创建订单\n    const orderResponse = await membership.createOrder({\n      tier_id: parseInt(tierId),\n      duration: duration,\n      payment_method: selectedPaymentMethod.value.id\n    })\n\n    if (orderResponse?.data?.code === 200) {\n      const orderData = orderResponse.data.data\n      \n      // 创建支付\n      const paymentResponse = await membership.createPayment({\n        order_no: orderData.order_no,\n        payment_method: selectedPaymentMethod.value.id\n      })\n\n      if (paymentResponse?.data?.code === 200) {\n        const paymentData = paymentResponse.data.data\n        \n        if (selectedPaymentMethod.value.id === 'alipay') {\n          showPaymentModal.value = false\n          // 在新窗口打开支付链接\n          const payWindow = window.open(paymentData.payment_url, '_blank')\n          if (payWindow) {\n            // 支付窗口打开成功\n            showToast('请在新窗口完成支付', 'info')\n          } else {\n            // 弹窗被拦截\n            showToast('请允许弹出窗口以完成支付', 'warning')\n            // 提供备选方案\n            const confirmOpen = confirm('支付窗口被拦截，是否手动打开支付页面？')\n            if (confirmOpen) {\n              window.location.href = paymentData.payment_url\n            }\n          }\n        }\n      }\n    }\n  } catch (error) {\n    console.error('支付失败:', error)\n    showToast(error.response?.data?.message || '支付失败，请重试', 'error')\n  } finally {\n    isLoading.value = false\n  }\n}\n\n// 生命周期钩子\nonMounted(async () => {\n  await fetchMembershipTiers()\n})\n\n// 其他状态\nconst selectedMethod = ref('edu_email')\n</script>\n<style>\n/* 渐变背景 */\n.gradient-bg {\n  background: linear-gradient(135deg, #000000, #1a1a1a);\n}\n\n/* 卡片悬浮效果 */\n.hover-card {\n  transition: all 0.3s ease;\n}\n\n.hover-card:hover {\n  transform: translateY(-8px);\n  box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n}\n\n/* 按钮样式 */\n.btn-hover-effect {\n  position: relative;\n  overflow: hidden;\n}\n\n.btn-hover-effect:after {\n  content: '';\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background: linear-gradient(135deg, rgba(255,255,255,0.1) 0%, rgba(255,255,255,0) 100%);\n  transform: translateX(-100%);\n  transition: transform 0.6s ease;\n}\n\n.btn-hover-effect:hover:after {\n  transform: translateX(0);\n}\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}