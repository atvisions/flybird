{"ast":null,"code":"import { createElementVNode as _createElementVNode, withCtx as _withCtx, createVNode as _createVNode, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, vModelText as _vModelText, withDirectives as _withDirectives, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, normalizeClass as _normalizeClass, Transition as _Transition, vModelCheckbox as _vModelCheckbox, withModifiers as _withModifiers, createBlock as _createBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"fixed inset-0 overflow-y-auto\"\n};\nconst _hoisted_2 = {\n  class: \"flex min-h-full items-center justify-center p-4 text-center\"\n};\nconst _hoisted_3 = {\n  class: \"text-lg font-medium text-gray-900\"\n};\nconst _hoisted_4 = {\n  class: \"space-y-4\"\n};\nconst _hoisted_5 = {\n  class: \"grid grid-cols-2 gap-4\"\n};\nconst _hoisted_6 = {\n  class: \"grid grid-cols-2 gap-4\"\n};\nconst _hoisted_7 = {\n  class: \"relative\"\n};\nconst _hoisted_8 = {\n  class: \"block truncate\"\n};\nconst _hoisted_9 = {\n  class: \"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-2\"\n};\nconst _hoisted_10 = {\n  key: 0,\n  class: /*@__PURE__*/_normalizeClass(['text-blue-600', 'absolute inset-y-0 right-0 flex items-center pr-4'])\n};\nconst _hoisted_11 = {\n  class: \"flex items-center h-full pt-7\"\n};\nconst _hoisted_12 = {\n  class: \"grid grid-cols-2 gap-4\"\n};\nconst _hoisted_13 = [\"min\", \"disabled\"];\nconst _hoisted_14 = {\n  class: \"mt-4\"\n};\nconst _hoisted_15 = {\n  class: \"mt-6 flex justify-end space-x-3\"\n};\nconst _hoisted_16 = [\"disabled\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createBlock($setup[\"TransitionRoot\"], {\n    appear: \"\",\n    show: $props.modelValue,\n    as: \"template\"\n  }, {\n    default: _withCtx(() => [_createVNode($setup[\"Dialog\"], {\n      as: \"div\",\n      class: \"relative z-50\",\n      onClose: $setup.handleClose\n    }, {\n      default: _withCtx(() => [_createVNode($setup[\"TransitionChild\"], {\n        as: \"div\",\n        show: true,\n        enter: \"duration-300 ease-out\",\n        \"enter-from\": \"opacity-0\",\n        \"enter-to\": \"opacity-100\",\n        leave: \"duration-200 ease-in\",\n        \"leave-from\": \"opacity-100\",\n        \"leave-to\": \"opacity-0\"\n      }, {\n        default: _withCtx(() => _cache[8] || (_cache[8] = [_createElementVNode(\"div\", {\n          class: \"fixed inset-0 bg-black/25\"\n        }, null, -1 /* HOISTED */)])),\n        _: 1 /* STABLE */\n      }), _createElementVNode(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createVNode($setup[\"TransitionChild\"], {\n        as: \"template\",\n        enter: \"duration-300 ease-out\",\n        \"enter-from\": \"opacity-0 scale-95\",\n        \"enter-to\": \"opacity-100 scale-100\",\n        leave: \"duration-200 ease-in\",\n        \"leave-from\": \"opacity-100 scale-100\",\n        \"leave-to\": \"opacity-0 scale-95\"\n      }, {\n        default: _withCtx(() => [_createVNode($setup[\"DialogPanel\"], {\n          class: \"w-full max-w-2xl transform overflow-hidden rounded-xl bg-white text-left align-middle shadow-xl transition-all\"\n        }, {\n          default: _withCtx(() => [_createCommentVNode(\" 头部 \"), _createVNode($setup[\"DialogTitle\"], {\n            as: \"div\",\n            class: \"flex items-center justify-between px-6 py-4 border-b border-gray-200\"\n          }, {\n            default: _withCtx(() => [_createElementVNode(\"h3\", _hoisted_3, _toDisplayString($props.initialData ? '编辑教育经历' : '添加教育经历'), 1 /* TEXT */), _createElementVNode(\"button\", {\n              onClick: $setup.handleClose,\n              class: \"p-1 rounded-full hover:bg-gray-100 transition-colors\"\n            }, [_createVNode($setup[\"XMarkIcon\"], {\n              class: \"w-5 h-5 text-gray-400\"\n            })])]),\n            _: 1 /* STABLE */\n          }), _createCommentVNode(\" 表单内容 \"), _createElementVNode(\"form\", {\n            onSubmit: _withModifiers($setup.handleSubmit, [\"prevent\"]),\n            class: \"p-6\"\n          }, [_createElementVNode(\"div\", _hoisted_4, [_createCommentVNode(\" 第一行：学校和专业 \"), _createElementVNode(\"div\", _hoisted_5, [_createCommentVNode(\" 学校名称 \"), _createElementVNode(\"div\", null, [_cache[9] || (_cache[9] = _createElementVNode(\"label\", {\n            class: \"block text-sm font-medium text-gray-700 mb-1\"\n          }, \" 学校名称 \", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n            \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $setup.formData.school = $event),\n            type: \"text\",\n            class: \"w-full rounded-lg border border-gray-300 px-3 py-2 text-gray-900 placeholder-gray-400 focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500\",\n            placeholder: \"请输入学校名称\",\n            required: \"\"\n          }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.formData.school]])]), _createCommentVNode(\" 专业名称 \"), _createElementVNode(\"div\", null, [_cache[10] || (_cache[10] = _createElementVNode(\"label\", {\n            class: \"block text-sm font-medium text-gray-700 mb-1\"\n          }, \" 专业名称 \", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n            \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $setup.formData.major = $event),\n            type: \"text\",\n            class: \"w-full rounded-lg border border-gray-300 px-3 py-2 text-gray-900 placeholder-gray-400 focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500\",\n            placeholder: \"请输入专业名称\",\n            required: \"\"\n          }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.formData.major]])])]), _createCommentVNode(\" 第二行：学历和在读状态 \"), _createElementVNode(\"div\", _hoisted_6, [_createCommentVNode(\" 学历 \"), _createElementVNode(\"div\", null, [_cache[11] || (_cache[11] = _createElementVNode(\"label\", {\n            class: \"block text-sm font-medium text-gray-700 mb-1\"\n          }, \" 学历 \", -1 /* HOISTED */)), _createVNode($setup[\"Listbox\"], {\n            modelValue: $setup.formData.degree,\n            \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $setup.formData.degree = $event)\n          }, {\n            default: _withCtx(() => [_createElementVNode(\"div\", _hoisted_7, [_createVNode($setup[\"ListboxButton\"], {\n              class: \"relative w-full cursor-pointer rounded-lg bg-white py-2 pl-3 pr-10 text-left border border-gray-300 hover:border-gray-400 focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500\"\n            }, {\n              default: _withCtx(() => [_createElementVNode(\"span\", _hoisted_8, _toDisplayString($setup.getDegreeLabel($setup.formData.degree) || '请选择学历'), 1 /* TEXT */), _createElementVNode(\"span\", _hoisted_9, [_createVNode($setup[\"ChevronUpDownIcon\"], {\n                class: \"h-5 w-5 text-gray-400\",\n                \"aria-hidden\": \"true\"\n              })])]),\n              _: 1 /* STABLE */\n            }), _createVNode(_Transition, {\n              \"leave-active-class\": \"transition duration-100 ease-in\",\n              \"leave-from-class\": \"opacity-100\",\n              \"leave-to-class\": \"opacity-0\"\n            }, {\n              default: _withCtx(() => [_createVNode($setup[\"ListboxOptions\"], {\n                class: \"absolute z-10 mt-1 max-h-60 w-full overflow-auto rounded-lg bg-white py-1 text-sm shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none\"\n              }, {\n                default: _withCtx(() => [(_openBlock(), _createElementBlock(_Fragment, null, _renderList($setup.degreeOptions, option => {\n                  return _createVNode($setup[\"ListboxOption\"], {\n                    key: option.value,\n                    value: option.value,\n                    as: \"template\"\n                  }, {\n                    default: _withCtx(({\n                      active,\n                      selected\n                    }) => [_createElementVNode(\"li\", {\n                      class: _normalizeClass([active ? 'bg-blue-50' : 'text-gray-900', 'relative cursor-pointer select-none py-2 pl-3 pr-9'])\n                    }, [_createElementVNode(\"span\", {\n                      class: _normalizeClass([selected ? 'font-semibold' : 'font-normal', 'block truncate'])\n                    }, _toDisplayString(option.label), 3 /* TEXT, CLASS */), selected ? (_openBlock(), _createElementBlock(\"span\", _hoisted_10, [_createVNode($setup[\"CheckIcon\"], {\n                      class: \"h-5 w-5\",\n                      \"aria-hidden\": \"true\"\n                    })])) : _createCommentVNode(\"v-if\", true)], 2 /* CLASS */)]),\n                    _: 2 /* DYNAMIC */\n                  }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"value\"]);\n                }), 64 /* STABLE_FRAGMENT */))]),\n                _: 1 /* STABLE */\n              })]),\n              _: 1 /* STABLE */\n            })])]),\n            _: 1 /* STABLE */\n          }, 8 /* PROPS */, [\"modelValue\"])]), _createCommentVNode(\" 在读状态 \"), _createElementVNode(\"div\", _hoisted_11, [_withDirectives(_createElementVNode(\"input\", {\n            type: \"checkbox\",\n            \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $setup.formData.is_current = $event),\n            class: \"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"\n          }, null, 512 /* NEED_PATCH */), [[_vModelCheckbox, $setup.formData.is_current]]), _cache[12] || (_cache[12] = _createElementVNode(\"label\", {\n            class: \"ml-2 text-sm text-gray-700\"\n          }, \" 目前在读 \", -1 /* HOISTED */))])]), _createCommentVNode(\" 第三行：起止时间 \"), _createElementVNode(\"div\", _hoisted_12, [_createElementVNode(\"div\", null, [_cache[13] || (_cache[13] = _createElementVNode(\"label\", {\n            class: \"block text-sm font-medium text-gray-700 mb-1\"\n          }, \" 入学时间 \", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n            \"onUpdate:modelValue\": _cache[4] || (_cache[4] = $event => $setup.formData.start_date = $event),\n            type: \"month\",\n            placeholder: \"YYYY-MM\",\n            class: \"w-full rounded-lg border border-gray-300 px-3 py-2 text-gray-900 focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500\",\n            required: \"\"\n          }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.formData.start_date]])]), _createElementVNode(\"div\", null, [_cache[14] || (_cache[14] = _createElementVNode(\"label\", {\n            class: \"block text-sm font-medium text-gray-700 mb-1\"\n          }, \" 毕业时间 \", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n            \"onUpdate:modelValue\": _cache[5] || (_cache[5] = $event => $setup.formData.end_date = $event),\n            type: \"month\",\n            placeholder: \"YYYY-MM\",\n            class: \"w-full rounded-lg border border-gray-300 px-3 py-2 text-gray-900 focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500\",\n            min: $setup.formData.start_date,\n            disabled: $setup.formData.is_current\n          }, null, 8 /* PROPS */, _hoisted_13), [[_vModelText, $setup.formData.end_date]])])]), _createCommentVNode(\" 第四行：在校经历和成就 \"), _createElementVNode(\"div\", null, [_createCommentVNode(\" 在校经历 \"), _createElementVNode(\"div\", null, [_cache[15] || (_cache[15] = _createElementVNode(\"label\", {\n            class: \"block text-sm font-medium text-gray-700 mb-1\"\n          }, \" 在校经历 \", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"textarea\", {\n            \"onUpdate:modelValue\": _cache[6] || (_cache[6] = $event => $setup.formData.description = $event),\n            rows: \"4\",\n            class: \"w-full rounded-lg border border-gray-300 px-3 py-2 text-gray-900 placeholder-gray-400 focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500\",\n            placeholder: \"请描述在校期间的主要经历\"\n          }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.formData.description]])]), _createCommentVNode(\" 在校成就 \"), _createElementVNode(\"div\", _hoisted_14, [_cache[16] || (_cache[16] = _createElementVNode(\"label\", {\n            class: \"block text-sm font-medium text-gray-700 mb-1\"\n          }, \" 在校成就 \", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"textarea\", {\n            \"onUpdate:modelValue\": _cache[7] || (_cache[7] = $event => $setup.formData.achievements = $event),\n            rows: \"4\",\n            class: \"w-full rounded-lg border border-gray-300 px-3 py-2 text-gray-900 placeholder-gray-400 focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500\",\n            placeholder: \"请描述在校期间取得的成就\"\n          }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.formData.achievements]])])])]), _createCommentVNode(\" 底部按钮 \"), _createElementVNode(\"div\", _hoisted_15, [_createElementVNode(\"button\", {\n            type: \"button\",\n            onClick: $setup.handleClose,\n            class: \"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50\"\n          }, \" 取消 \"), _createElementVNode(\"button\", {\n            type: \"submit\",\n            disabled: $props.loading,\n            class: \"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed\"\n          }, _toDisplayString($props.loading ? '保存中...' : '确认'), 9 /* TEXT, PROPS */, _hoisted_16)])], 32 /* NEED_HYDRATION */)]),\n          _: 1 /* STABLE */\n        })]),\n        _: 1 /* STABLE */\n      })])])]),\n      _: 1 /* STABLE */\n    })]),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"show\"]);\n}","map":{"version":3,"names":["class","key","_normalizeClass","_createBlock","$setup","appear","show","$props","modelValue","as","default","_withCtx","_createVNode","onClose","handleClose","enter","leave","_cache","_createElementVNode","_","_hoisted_1","_hoisted_2","_createCommentVNode","_hoisted_3","_toDisplayString","initialData","onClick","onSubmit","_withModifiers","handleSubmit","_hoisted_4","_hoisted_5","$event","formData","school","type","placeholder","required","major","_hoisted_6","degree","_hoisted_7","_hoisted_8","getDegreeLabel","_hoisted_9","_Transition","_createElementBlock","_Fragment","_renderList","degreeOptions","option","value","active","selected","label","_hoisted_10","_hoisted_11","is_current","_hoisted_12","start_date","end_date","min","disabled","_hoisted_13","description","rows","_hoisted_14","achievements","_hoisted_15","loading","_hoisted_16"],"sources":["/Users/liuzhao/Documents/Projects/flybird/flybird-web/src/views/user/MyProfile/dialogs/EditEducationDialog.vue"],"sourcesContent":["<template>\n  <TransitionRoot appear :show=\"modelValue\" as=\"template\">\n    <Dialog as=\"div\" class=\"relative z-50\" @close=\"handleClose\">\n      <TransitionChild\n        as=\"div\"\n        :show=\"true\"\n        enter=\"duration-300 ease-out\"\n        enter-from=\"opacity-0\"\n        enter-to=\"opacity-100\"\n        leave=\"duration-200 ease-in\"\n        leave-from=\"opacity-100\"\n        leave-to=\"opacity-0\"\n      >\n        <div class=\"fixed inset-0 bg-black/25\" />\n      </TransitionChild>\n\n      <div class=\"fixed inset-0 overflow-y-auto\">\n        <div class=\"flex min-h-full items-center justify-center p-4 text-center\">\n          <TransitionChild\n            as=\"template\"\n            enter=\"duration-300 ease-out\"\n            enter-from=\"opacity-0 scale-95\"\n            enter-to=\"opacity-100 scale-100\"\n            leave=\"duration-200 ease-in\"\n            leave-from=\"opacity-100 scale-100\"\n            leave-to=\"opacity-0 scale-95\"\n          >\n            <DialogPanel class=\"w-full max-w-2xl transform overflow-hidden rounded-xl bg-white text-left align-middle shadow-xl transition-all\">\n              <!-- 头部 -->\n              <DialogTitle as=\"div\" class=\"flex items-center justify-between px-6 py-4 border-b border-gray-200\">\n                <h3 class=\"text-lg font-medium text-gray-900\">\n                  {{ initialData ? '编辑教育经历' : '添加教育经历' }}\n                </h3>\n                <button\n                  @click=\"handleClose\"\n                  class=\"p-1 rounded-full hover:bg-gray-100 transition-colors\"\n                >\n                  <XMarkIcon class=\"w-5 h-5 text-gray-400\" />\n                </button>\n              </DialogTitle>\n\n              <!-- 表单内容 -->\n              <form @submit.prevent=\"handleSubmit\" class=\"p-6\">\n                <div class=\"space-y-4\">\n                  <!-- 第一行：学校和专业 -->\n                  <div class=\"grid grid-cols-2 gap-4\">\n                    <!-- 学校名称 -->\n                    <div>\n                      <label class=\"block text-sm font-medium text-gray-700 mb-1\">\n                        学校名称\n                      </label>\n                      <input\n                        v-model=\"formData.school\"\n                        type=\"text\"\n                        class=\"w-full rounded-lg border border-gray-300 px-3 py-2 text-gray-900 placeholder-gray-400 focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500\"\n                        placeholder=\"请输入学校名称\"\n                        required\n                      />\n                    </div>\n\n                    <!-- 专业名称 -->\n                    <div>\n                      <label class=\"block text-sm font-medium text-gray-700 mb-1\">\n                        专业名称\n                      </label>\n                      <input\n                        v-model=\"formData.major\"\n                        type=\"text\"\n                        class=\"w-full rounded-lg border border-gray-300 px-3 py-2 text-gray-900 placeholder-gray-400 focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500\"\n                        placeholder=\"请输入专业名称\"\n                        required\n                      />\n                    </div>\n                  </div>\n\n                  <!-- 第二行：学历和在读状态 -->\n                  <div class=\"grid grid-cols-2 gap-4\">\n                    <!-- 学历 -->\n                    <div>\n                      <label class=\"block text-sm font-medium text-gray-700 mb-1\">\n                        学历\n                      </label>\n                      <Listbox v-model=\"formData.degree\">\n                        <div class=\"relative\">\n                          <ListboxButton class=\"relative w-full cursor-pointer rounded-lg bg-white py-2 pl-3 pr-10 text-left border border-gray-300 hover:border-gray-400 focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500\">\n                            <span class=\"block truncate\">{{ getDegreeLabel(formData.degree) || '请选择学历' }}</span>\n                            <span class=\"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-2\">\n                              <ChevronUpDownIcon class=\"h-5 w-5 text-gray-400\" aria-hidden=\"true\" />\n                            </span>\n                          </ListboxButton>\n                          <transition\n                            leave-active-class=\"transition duration-100 ease-in\"\n                            leave-from-class=\"opacity-100\"\n                            leave-to-class=\"opacity-0\"\n                          >\n                            <ListboxOptions class=\"absolute z-10 mt-1 max-h-60 w-full overflow-auto rounded-lg bg-white py-1 text-sm shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none\">\n                              <ListboxOption\n                                v-for=\"option in degreeOptions\"\n                                :key=\"option.value\"\n                                :value=\"option.value\"\n                                v-slot=\"{ active, selected }\"\n                                as=\"template\"\n                              >\n                                <li :class=\"[\n                                  active ? 'bg-blue-50' : 'text-gray-900',\n                                  'relative cursor-pointer select-none py-2 pl-3 pr-9'\n                                ]\">\n                                  <span :class=\"[selected ? 'font-semibold' : 'font-normal', 'block truncate']\">\n                                    {{ option.label }}\n                                  </span>\n                                  <span v-if=\"selected\" :class=\"[\n                                    'text-blue-600',\n                                    'absolute inset-y-0 right-0 flex items-center pr-4'\n                                  ]\">\n                                    <CheckIcon class=\"h-5 w-5\" aria-hidden=\"true\" />\n                                  </span>\n                                </li>\n                              </ListboxOption>\n                            </ListboxOptions>\n                          </transition>\n                        </div>\n                      </Listbox>\n                    </div>\n\n                    <!-- 在读状态 -->\n                    <div class=\"flex items-center h-full pt-7\">\n                      <input\n                        type=\"checkbox\"\n                        v-model=\"formData.is_current\"\n                        class=\"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"\n                      />\n                      <label class=\"ml-2 text-sm text-gray-700\">\n                        目前在读\n                      </label>\n                    </div>\n                  </div>\n\n                  <!-- 第三行：起止时间 -->\n                  <div class=\"grid grid-cols-2 gap-4\">\n                    <div>\n                      <label class=\"block text-sm font-medium text-gray-700 mb-1\">\n                        入学时间\n                      </label>\n                      <input\n                        v-model=\"formData.start_date\"\n                        type=\"month\"\n                        placeholder=\"YYYY-MM\"\n                        class=\"w-full rounded-lg border border-gray-300 px-3 py-2 text-gray-900 focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500\"\n                        required\n                      />\n                    </div>\n                    <div>\n                      <label class=\"block text-sm font-medium text-gray-700 mb-1\">\n                        毕业时间\n                      </label>\n                      <input\n                        v-model=\"formData.end_date\"\n                        type=\"month\"\n                        placeholder=\"YYYY-MM\"\n                        class=\"w-full rounded-lg border border-gray-300 px-3 py-2 text-gray-900 focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500\"\n                        :min=\"formData.start_date\"\n                        :disabled=\"formData.is_current\"\n                      />\n                    </div>\n                  </div>\n\n                  <!-- 第四行：在校经历和成就 -->\n                  <div>\n                    <!-- 在校经历 -->\n                    <div>\n                      <label class=\"block text-sm font-medium text-gray-700 mb-1\">\n                        在校经历\n                      </label>\n                      <textarea\n                        v-model=\"formData.description\"\n                        rows=\"4\"\n                        class=\"w-full rounded-lg border border-gray-300 px-3 py-2 text-gray-900 placeholder-gray-400 focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500\"\n                        placeholder=\"请描述在校期间的主要经历\"\n                      ></textarea>\n                    </div>\n\n                    <!-- 在校成就 -->\n                    <div class=\"mt-4\">\n                      <label class=\"block text-sm font-medium text-gray-700 mb-1\">\n                        在校成就\n                      </label>\n                      <textarea\n                        v-model=\"formData.achievements\"\n                        rows=\"4\"\n                        class=\"w-full rounded-lg border border-gray-300 px-3 py-2 text-gray-900 placeholder-gray-400 focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500\"\n                        placeholder=\"请描述在校期间取得的成就\"\n                      ></textarea>\n                    </div>\n                  </div>\n                </div>\n\n                <!-- 底部按钮 -->\n                <div class=\"mt-6 flex justify-end space-x-3\">\n                  <button\n                    type=\"button\"\n                    @click=\"handleClose\"\n                    class=\"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50\"\n                  >\n                    取消\n                  </button>\n                  <button\n                    type=\"submit\"\n                    :disabled=\"loading\"\n                    class=\"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed\"\n                  >\n                    {{ loading ? '保存中...' : '确认' }}\n                  </button>\n                </div>\n              </form>\n            </DialogPanel>\n          </TransitionChild>\n        </div>\n      </div>\n    </Dialog>\n  </TransitionRoot>\n</template>\n\n<script setup>\nimport { ref, watch } from 'vue'\nimport {\n  Dialog,\n  DialogPanel,\n  DialogTitle,\n  TransitionRoot,\n  TransitionChild,\n  Listbox,\n  ListboxButton,\n  ListboxOptions,\n  ListboxOption\n} from '@headlessui/vue'\nimport { \n  XMarkIcon,\n  ChevronUpDownIcon,\n  CheckIcon \n} from '@heroicons/vue/24/outline'\n\nconst props = defineProps({\n  modelValue: {\n    type: Boolean,\n    default: false\n  },\n  initialData: {\n    type: Object,\n    default: () => ({})\n  },\n  loading: {\n    type: Boolean,\n    default: false\n  }\n})\n\nconst emit = defineEmits(['update:modelValue', 'submit'])\n\n// 表单数据\nconst formData = ref({\n  school: '',      // 学校名称\n  major: '',       // 专业名称\n  degree: '',      // 学历\n  start_date: '',  // 入学时间\n  end_date: '',    // 毕业时间\n  is_current: false, // 是否在读\n  description: '', // 在校经历\n  achievements: '' // 在校成就\n})\n\n// 监听初始数据变化\nwatch(() => props.initialData, (newData) => {\n  \n  if (newData) {\n    formData.value = {\n      ...newData,\n      start_date: newData.start_date?.slice(0, 7) || '',\n      end_date: newData.end_date?.slice(0, 7) || '',\n      is_current: !!newData.is_current,\n      description: newData.description || '',  // 确保字段名一致\n      achievements: newData.achievements || '' // 确保字段名一致\n    }\n    \n  } else {\n    formData.value = {\n      school: '',\n      major: '',\n      degree: '',\n      start_date: '',\n      end_date: '',\n      is_current: false,\n      description: '',  // 确保字段名一致\n      achievements: '' // 确保字段名一致\n    }\n  }\n}, { immediate: true })\n\n// 监听在读状态变化\nwatch(() => formData.value.is_current, (newVal) => {\n  if (newVal) {\n    formData.value.end_date = ''  // 在读时清空毕业时间\n  }\n})\n\n// 处理关闭\nconst handleClose = () => {\n  emit('update:modelValue', false)\n}\n\n// 处理提交\nconst handleSubmit = () => {\n  // 处理日期格式\n  const formatDate = (dateStr) => {\n    if (!dateStr) return null\n    return `${dateStr}-01`  // 添加日期，转换为 YYYY-MM-DD 格式\n  }\n\n  // 分别处理两个字段\n  const description = (formData.value.description || '').trim()\n  const achievements = (formData.value.achievements || '').trim()\n\n  console.log('【教育经历】表单字段检查:', {\n    原始description: formData.value.description,\n    处理后description: description,\n    原始achievements: formData.value.achievements,\n    处理后achievements: achievements\n  })\n\n  // 构建提交数据\n  const submitData = {\n    id: props.initialData?.id,\n    school: formData.value.school.trim(),\n    major: formData.value.major.trim(),\n    degree: formData.value.degree,\n    start_date: formatDate(formData.value.start_date),\n    end_date: formData.value.is_current ? null : formatDate(formData.value.end_date),\n    is_current: formData.value.is_current,\n    description,      // 使用处理后的值\n    achievements      // 使用处理后的值\n  }\n\n  console.log('【教育经历】最终提交数据:', {\n    完整数据: submitData,\n    description字段: submitData.description,\n    achievements字段: submitData.achievements\n  })\n\n  emit('submit', submitData)\n}\n\n// 学历选项\nconst degreeOptions = [\n  { value: 'high_school', label: '高中' },\n  { value: 'junior_college', label: '大专' },\n  { value: 'bachelor', label: '本科' },\n  { value: 'master', label: '硕士' },\n  { value: 'doctor', label: '博士' },\n  { value: 'other', label: '其他' }\n]\n\n// 获取学历显示文本\nconst getDegreeLabel = (value) => {\n  const option = degreeOptions.find(opt => opt.value === value)\n  return option ? option.label : ''\n}\n</script>\n\n<style scoped>\n/* 移动端适配 */\n@media (max-width: 640px) {\n  .p-6 {\n    @apply p-4;\n  }\n}\n\n/* 输入框样式优化 */\ninput[type=\"month\"] {\n  @apply appearance-none;\n}\n\n/* 禁用状态样式 */\n.disabled\\:opacity-50:disabled {\n  opacity: 0.5;\n}\n\n.disabled\\:cursor-not-allowed:disabled {\n  cursor: not-allowed;\n}\n</style> "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}