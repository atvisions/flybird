{"ast":null,"code":"import _objectSpread from \"/Users/liuzhao/Documents/Projects/flybird/flybird-web/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport { ref, watch } from 'vue';\nexport default {\n  __name: 'Education',\n  props: {\n    config: {\n      type: Object,\n      default: () => ({\n        educations: []\n      })\n    }\n  },\n  emits: ['update:config'],\n  setup(__props, {\n    expose: __expose,\n    emit: __emit\n  }) {\n    __expose();\n    const props = __props;\n    const emit = __emit;\n    const educations = ref(props.config.educations || []);\n\n    // 监听配置变化\n    watch(() => props.config, newConfig => {\n      educations.value = newConfig.educations || [];\n    }, {\n      deep: true\n    });\n\n    // 添加教育经历\n    const addEducation = () => {\n      educations.value.push({\n        school: '',\n        major: '',\n        degree: '',\n        duration: '',\n        description: ''\n      });\n      updateConfig();\n    };\n\n    // 移除教育经历\n    const removeEducation = index => {\n      educations.value.splice(index, 1);\n      updateConfig();\n    };\n\n    // 更新配置\n    const updateConfig = () => {\n      emit('update:config', _objectSpread(_objectSpread({}, props.config), {}, {\n        educations: educations.value\n      }));\n    };\n    const __returned__ = {\n      props,\n      emit,\n      educations,\n      addEducation,\n      removeEducation,\n      updateConfig,\n      ref,\n      watch\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","watch","props","__props","emit","__emit","educations","config","newConfig","value","deep","addEducation","push","school","major","degree","duration","description","updateConfig","removeEducation","index","splice","_objectSpread"],"sources":["/Users/liuzhao/Documents/Projects/flybird/flybird-web/src/views/resume-editor/components/Education.vue"],"sourcesContent":["<template>\n  <div class=\"education\">\n    <v-container>\n      <div v-for=\"(edu, index) in educations\" :key=\"index\" class=\"education-item\">\n        <div class=\"d-flex align-center justify-space-between mb-2\">\n          <h3 class=\"text-h6\">教育经历 {{ index + 1 }}</h3>\n          <v-btn\n            icon=\"mdi-delete\"\n            size=\"small\"\n            color=\"error\"\n            variant=\"text\"\n            @click=\"removeEducation(index)\"\n          ></v-btn>\n        </div>\n        \n        <v-row>\n          <v-col cols=\"12\" md=\"6\">\n            <v-text-field\n              v-model=\"edu.school\"\n              label=\"学校\"\n              required\n              :rules=\"[v => !!v || '请输入学校名称']\"\n              @input=\"updateConfig\"\n            ></v-text-field>\n          </v-col>\n          <v-col cols=\"12\" md=\"6\">\n            <v-text-field\n              v-model=\"edu.major\"\n              label=\"专业\"\n              required\n              :rules=\"[v => !!v || '请输入专业名称']\"\n              @input=\"updateConfig\"\n            ></v-text-field>\n          </v-col>\n          <v-col cols=\"12\" md=\"6\">\n            <v-text-field\n              v-model=\"edu.degree\"\n              label=\"学位\"\n              @input=\"updateConfig\"\n            ></v-text-field>\n          </v-col>\n          <v-col cols=\"12\" md=\"6\">\n            <v-text-field\n              v-model=\"edu.duration\"\n              label=\"就读时间\"\n              placeholder=\"例如: 2018.09 - 2022.06\"\n              @input=\"updateConfig\"\n            ></v-text-field>\n          </v-col>\n          <v-col cols=\"12\">\n            <v-textarea\n              v-model=\"edu.description\"\n              label=\"在校经历\"\n              rows=\"3\"\n              @input=\"updateConfig\"\n            ></v-textarea>\n          </v-col>\n        </v-row>\n        \n        <v-divider v-if=\"index < educations.length - 1\" class=\"my-4\"></v-divider>\n      </div>\n\n      <div class=\"text-center mt-4\">\n        <v-btn\n          color=\"primary\"\n          variant=\"text\"\n          prepend-icon=\"mdi-plus\"\n          @click=\"addEducation\"\n        >\n          添加教育经历\n        </v-btn>\n      </div>\n    </v-container>\n  </div>\n</template>\n\n<script setup>\nimport { ref, watch } from 'vue'\n\nconst props = defineProps({\n  config: {\n    type: Object,\n    default: () => ({\n      educations: []\n    })\n  }\n})\n\nconst emit = defineEmits(['update:config'])\n\nconst educations = ref(props.config.educations || [])\n\n// 监听配置变化\nwatch(() => props.config, (newConfig) => {\n  educations.value = newConfig.educations || []\n}, { deep: true })\n\n// 添加教育经历\nconst addEducation = () => {\n  educations.value.push({\n    school: '',\n    major: '',\n    degree: '',\n    duration: '',\n    description: ''\n  })\n  updateConfig()\n}\n\n// 移除教育经历\nconst removeEducation = (index) => {\n  educations.value.splice(index, 1)\n  updateConfig()\n}\n\n// 更新配置\nconst updateConfig = () => {\n  emit('update:config', {\n    ...props.config,\n    educations: educations.value\n  })\n}\n</script>\n\n<style scoped>\n.education {\n  padding: 16px;\n}\n\n.education-item {\n  margin-bottom: 24px;\n}\n</style> "],"mappings":";AA6EA,SAASA,GAAG,EAAEC,KAAK,QAAQ,KAAI;;;;;;;;;;;;;;;;;IAE/B,MAAMC,KAAK,GAAGC,OAAA;IASd,MAAMC,IAAI,GAAGC,MAAA;IAEb,MAAMC,UAAU,GAAGN,GAAG,CAACE,KAAK,CAACK,MAAM,CAACD,UAAU,IAAI,EAAE;;IAEpD;IACAL,KAAK,CAAC,MAAMC,KAAK,CAACK,MAAM,EAAGC,SAAS,IAAK;MACvCF,UAAU,CAACG,KAAK,GAAGD,SAAS,CAACF,UAAU,IAAI,EAAC;IAC9C,CAAC,EAAE;MAAEI,IAAI,EAAE;IAAK,CAAC;;IAEjB;IACA,MAAMC,YAAY,GAAGA,CAAA,KAAM;MACzBL,UAAU,CAACG,KAAK,CAACG,IAAI,CAAC;QACpBC,MAAM,EAAE,EAAE;QACVC,KAAK,EAAE,EAAE;QACTC,MAAM,EAAE,EAAE;QACVC,QAAQ,EAAE,EAAE;QACZC,WAAW,EAAE;MACf,CAAC;MACDC,YAAY,CAAC;IACf;;IAEA;IACA,MAAMC,eAAe,GAAIC,KAAK,IAAK;MACjCd,UAAU,CAACG,KAAK,CAACY,MAAM,CAACD,KAAK,EAAE,CAAC;MAChCF,YAAY,CAAC;IACf;;IAEA;IACA,MAAMA,YAAY,GAAGA,CAAA,KAAM;MACzBd,IAAI,CAAC,eAAe,EAAAkB,aAAA,CAAAA,aAAA,KACfpB,KAAK,CAACK,MAAM;QACfD,UAAU,EAAEA,UAAU,CAACG;MAAI,EAC5B;IACH","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}