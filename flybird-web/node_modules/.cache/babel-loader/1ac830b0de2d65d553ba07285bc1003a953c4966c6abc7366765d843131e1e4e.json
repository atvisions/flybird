{"ast":null,"code":"import HeadView from '@/components/HeadView.vue';\nimport FootView from '@/components/FootView.vue';\nimport { ref } from 'vue';\nimport { showToast } from '@/components/ToastMessage';\nimport request from '@/utils/request';\nexport default {\n  components: {\n    HeadView,\n    FootView\n  },\n  setup() {\n    const formData = ref({\n      name: '',\n      contact: '',\n      message: ''\n    });\n    const isSubmitting = ref(false);\n    const handleSubmit = async () => {\n      try {\n        isSubmitting.value = true;\n\n        // 这里添加表单验证\n        if (!formData.value.name.trim()) {\n          showToast('请输入您的称呼', 'warning');\n          return;\n        }\n        if (!formData.value.contact.trim()) {\n          showToast('请输入联系方式', 'warning');\n          return;\n        }\n        if (!formData.value.message.trim()) {\n          showToast('请输入留言内容', 'warning');\n          return;\n        }\n\n        // 发送留言请求\n        const response = await request({\n          url: '/api/v1/feedback/submit/',\n          method: 'post',\n          data: formData.value\n        });\n        if (response.data?.code === 200) {\n          showToast('留言提交成功，我们会尽快回复您', 'success');\n          // 清空表单\n          formData.value = {\n            name: '',\n            contact: '',\n            message: ''\n          };\n        } else {\n          throw new Error(response.data?.message || '提交失败');\n        }\n      } catch (error) {\n        showToast(error.message || '提交失败，请稍后重试', 'error');\n      } finally {\n        isSubmitting.value = false;\n      }\n    };\n    return {\n      formData,\n      isSubmitting,\n      handleSubmit\n    };\n  }\n};","map":{"version":3,"names":["HeadView","FootView","ref","showToast","request","components","setup","formData","name","contact","message","isSubmitting","handleSubmit","value","trim","response","url","method","data","code","Error","error"],"sources":["/Users/liuzhao/Documents/Projects/flybird/flybird-web/src/views/ContactView.vue"],"sourcesContent":["<template>\n  <HeadView />\n  <div class=\"max-w-4xl mx-auto px-4 py-12\">\n    <h1 class=\"text-4xl font-bold text-gray-900 mb-8 text-center\">联系我们</h1>\n    \n    <!-- 联系方式卡片 -->\n    <div class=\"grid md:grid-cols-2 gap-8 mb-12\">\n      <div class=\"bg-white rounded-lg shadow-sm p-6\">\n        <div class=\"flex items-center space-x-4 mb-4\">\n          <div class=\"w-12 h-12 bg-indigo-100 rounded-full flex items-center justify-center\">\n            <svg class=\"w-6 h-6 text-indigo-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" \n                d=\"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z\" />\n            </svg>\n          </div>\n          <div>\n            <h3 class=\"text-lg font-semibold text-gray-900\">电子邮件</h3>\n            <p class=\"text-gray-600\">support@flybird.com</p>\n            <p class=\"text-sm text-gray-500 mt-1\">工作日 24 小时内回复</p>\n          </div>\n        </div>\n      </div>\n\n      <div class=\"bg-white rounded-lg shadow-sm p-6\">\n        <div class=\"flex items-center space-x-4 mb-4\">\n          <div class=\"w-12 h-12 bg-indigo-100 rounded-full flex items-center justify-center\">\n            <svg class=\"w-6 h-6 text-indigo-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" \n                d=\"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z\" />\n            </svg>\n          </div>\n          <div>\n            <h3 class=\"text-lg font-semibold text-gray-900\">客服热线</h3>\n            <p class=\"text-gray-600\">400-123-4567</p>\n            <p class=\"text-sm text-gray-500 mt-1\">周一至周五 9:00-18:00</p>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <!-- 留言表单 -->\n    <div class=\"bg-white rounded-lg shadow-sm p-8\">\n      <h2 class=\"text-2xl font-bold text-gray-900 mb-6\">给我们留言</h2>\n      <form class=\"space-y-6\" @submit.prevent=\"handleSubmit\">\n        <div>\n          <label class=\"block text-sm font-medium text-gray-700 mb-2\">您的称呼</label>\n          <input \n            type=\"text\" \n            v-model=\"formData.name\"\n            class=\"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500\"\n            required\n          >\n        </div>\n        <div>\n          <label class=\"block text-sm font-medium text-gray-700 mb-2\">联系方式</label>\n          <input \n            type=\"text\"\n            v-model=\"formData.contact\"\n            class=\"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500\"\n            required\n          >\n        </div>\n        <div>\n          <label class=\"block text-sm font-medium text-gray-700 mb-2\">留言内容</label>\n          <textarea \n            rows=\"4\"\n            v-model=\"formData.message\"\n            class=\"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500\"\n            required\n          ></textarea>\n        </div>\n        <div>\n          <button \n            type=\"submit\"\n            :disabled=\"isSubmitting\"\n            class=\"w-full bg-indigo-600 text-white px-6 py-3 rounded-md hover:bg-indigo-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed\"\n          >\n            <span v-if=\"isSubmitting\">提交中...</span>\n            <span v-else>提交留言</span>\n          </button>\n        </div>\n      </form>\n    </div>\n  </div>\n  <FootView />\n</template>\n\n<script>\nimport HeadView from '@/components/HeadView.vue'\nimport FootView from '@/components/FootView.vue'\nimport { ref } from 'vue'\nimport { showToast } from '@/components/ToastMessage'\nimport request from '@/utils/request'\n\nexport default {\n  components: {\n    HeadView,\n    FootView\n  },\n  setup() {\n    const formData = ref({\n      name: '',\n      contact: '',\n      message: ''\n    })\n    \n    const isSubmitting = ref(false)\n\n    const handleSubmit = async () => {\n      try {\n        isSubmitting.value = true\n        \n        // 这里添加表单验证\n        if (!formData.value.name.trim()) {\n          showToast('请输入您的称呼', 'warning')\n          return\n        }\n        \n        if (!formData.value.contact.trim()) {\n          showToast('请输入联系方式', 'warning')\n          return\n        }\n        \n        if (!formData.value.message.trim()) {\n          showToast('请输入留言内容', 'warning')\n          return\n        }\n\n        // 发送留言请求\n        const response = await request({\n          url: '/api/v1/feedback/submit/',\n          method: 'post',\n          data: formData.value\n        })\n\n        if (response.data?.code === 200) {\n          showToast('留言提交成功，我们会尽快回复您', 'success')\n          // 清空表单\n          formData.value = {\n            name: '',\n            contact: '',\n            message: ''\n          }\n        } else {\n          throw new Error(response.data?.message || '提交失败')\n        }\n      } catch (error) {\n        showToast(error.message || '提交失败，请稍后重试', 'error')\n      } finally {\n        isSubmitting.value = false\n      }\n    }\n\n    return {\n      formData,\n      isSubmitting,\n      handleSubmit\n    }\n  }\n}\n</script>"],"mappings":"AAwFA,OAAOA,QAAO,MAAO,2BAA0B;AAC/C,OAAOC,QAAO,MAAO,2BAA0B;AAC/C,SAASC,GAAE,QAAS,KAAI;AACxB,SAASC,SAAQ,QAAS,2BAA0B;AACpD,OAAOC,OAAM,MAAO,iBAAgB;AAEpC,eAAe;EACbC,UAAU,EAAE;IACVL,QAAQ;IACRC;EACF,CAAC;EACDK,KAAKA,CAAA,EAAG;IACN,MAAMC,QAAO,GAAIL,GAAG,CAAC;MACnBM,IAAI,EAAE,EAAE;MACRC,OAAO,EAAE,EAAE;MACXC,OAAO,EAAE;IACX,CAAC;IAED,MAAMC,YAAW,GAAIT,GAAG,CAAC,KAAK;IAE9B,MAAMU,YAAW,GAAI,MAAAA,CAAA,KAAY;MAC/B,IAAI;QACFD,YAAY,CAACE,KAAI,GAAI,IAAG;;QAExB;QACA,IAAI,CAACN,QAAQ,CAACM,KAAK,CAACL,IAAI,CAACM,IAAI,CAAC,CAAC,EAAE;UAC/BX,SAAS,CAAC,SAAS,EAAE,SAAS;UAC9B;QACF;QAEA,IAAI,CAACI,QAAQ,CAACM,KAAK,CAACJ,OAAO,CAACK,IAAI,CAAC,CAAC,EAAE;UAClCX,SAAS,CAAC,SAAS,EAAE,SAAS;UAC9B;QACF;QAEA,IAAI,CAACI,QAAQ,CAACM,KAAK,CAACH,OAAO,CAACI,IAAI,CAAC,CAAC,EAAE;UAClCX,SAAS,CAAC,SAAS,EAAE,SAAS;UAC9B;QACF;;QAEA;QACA,MAAMY,QAAO,GAAI,MAAMX,OAAO,CAAC;UAC7BY,GAAG,EAAE,0BAA0B;UAC/BC,MAAM,EAAE,MAAM;UACdC,IAAI,EAAEX,QAAQ,CAACM;QACjB,CAAC;QAED,IAAIE,QAAQ,CAACG,IAAI,EAAEC,IAAG,KAAM,GAAG,EAAE;UAC/BhB,SAAS,CAAC,iBAAiB,EAAE,SAAS;UACtC;UACAI,QAAQ,CAACM,KAAI,GAAI;YACfL,IAAI,EAAE,EAAE;YACRC,OAAO,EAAE,EAAE;YACXC,OAAO,EAAE;UACX;QACF,OAAO;UACL,MAAM,IAAIU,KAAK,CAACL,QAAQ,CAACG,IAAI,EAAER,OAAM,IAAK,MAAM;QAClD;MACF,EAAE,OAAOW,KAAK,EAAE;QACdlB,SAAS,CAACkB,KAAK,CAACX,OAAM,IAAK,YAAY,EAAE,OAAO;MAClD,UAAU;QACRC,YAAY,CAACE,KAAI,GAAI,KAAI;MAC3B;IACF;IAEA,OAAO;MACLN,QAAQ;MACRI,YAAY;MACZC;IACF;EACF;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}