{"ast":null,"code":"import { createVNode as _createVNode, createCommentVNode as _createCommentVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, resolveDynamicComponent as _resolveDynamicComponent, normalizeClass as _normalizeClass, createBlock as _createBlock, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, createTextVNode as _createTextVNode } from \"vue\";\nconst _hoisted_1 = {\n  class: \"user-center\"\n};\nconst _hoisted_2 = {\n  class: \"min-h-screen bg-gray-50 pt-20 pb-20 lg:pb-0\"\n};\nconst _hoisted_3 = {\n  class: \"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 mt-4 lg:mt-0\"\n};\nconst _hoisted_4 = {\n  class: \"grid grid-cols-1 lg:grid-cols-12 gap-6 lg:gap-8\"\n};\nconst _hoisted_5 = {\n  class: \"hidden lg:block lg:col-span-3\"\n};\nconst _hoisted_6 = {\n  class: \"bg-white rounded-lg shadow overflow-hidden sticky top-20\"\n};\nconst _hoisted_7 = {\n  class: \"space-y-1\"\n};\nconst _hoisted_8 = [\"onClick\"];\nconst _hoisted_9 = {\n  class: \"flex items-center flex-1 min-w-0\"\n};\nconst _hoisted_10 = {\n  class: \"ml-2 truncate\"\n};\nconst _hoisted_11 = {\n  class: \"lg:col-span-6\"\n};\nconst _hoisted_12 = {\n  class: \"hidden lg:block lg:col-span-3\"\n};\nconst _hoisted_13 = {\n  class: \"bg-white rounded-lg shadow p-4 sticky top-20\"\n};\nconst _hoisted_14 = {\n  class: \"space-y-4\"\n};\nconst _hoisted_15 = {\n  class: \"flex-1 min-w-0\"\n};\nconst _hoisted_16 = {\n  class: \"text-sm font-medium text-gray-900 truncate\"\n};\nconst _hoisted_17 = {\n  class: \"text-sm text-gray-500\"\n};\nconst _hoisted_18 = {\n  class: \"flex-shrink-0\"\n};\nconst _hoisted_19 = {\n  class: \"text-sm font-medium text-indigo-600\"\n};\nconst _hoisted_20 = {\n  class: \"fixed bottom-0 left-0 right-0 bg-white border-t lg:hidden safe-area-inset-bottom z-50\"\n};\nconst _hoisted_21 = {\n  class: \"grid grid-cols-5 gap-1\"\n};\nconst _hoisted_22 = [\"onClick\"];\nconst _hoisted_23 = {\n  class: \"text-xs mt-1 truncate\"\n};\nconst _hoisted_24 = {\n  key: 0,\n  class: \"absolute top-1 right-1/4 bg-red-500 text-white text-xs rounded-full w-4 h-4 flex items-center justify-center\"\n};\nconst _hoisted_25 = {\n  class: \"h-full flex flex-col\"\n};\nconst _hoisted_26 = {\n  class: \"p-4 border-b border-gray-200\"\n};\nconst _hoisted_27 = {\n  class: \"flex items-center justify-between\"\n};\nconst _hoisted_28 = {\n  class: \"text-lg font-medium text-gray-900\"\n};\nconst _hoisted_29 = {\n  class: \"flex-1 overflow-y-auto\"\n};\nconst _hoisted_30 = {\n  class: \"px-3 py-4\"\n};\nconst _hoisted_31 = {\n  class: \"space-y-1\"\n};\nconst _hoisted_32 = [\"onClick\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createVNode($setup[\"HeadView\"]), _createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"div\", _hoisted_4, [_createCommentVNode(\" 左侧导航 - 仅桌面端显示 \"), _createElementVNode(\"div\", _hoisted_5, [_createElementVNode(\"div\", _hoisted_6, [_createElementVNode(\"nav\", _hoisted_7, [(_openBlock(), _createElementBlock(_Fragment, null, _renderList($setup.tabs, tab => {\n    return _createElementVNode(\"button\", {\n      key: tab.key,\n      onClick: $event => $setup.handleTabChange(tab.key),\n      class: _normalizeClass([\"w-full flex items-center px-4 py-3 text-sm font-medium group\", [$setup.currentTab === tab.key ? 'bg-gray-100 text-indigo-600' : 'text-gray-600 hover:bg-gray-50 hover:text-gray-900']])\n    }, [_createElementVNode(\"div\", _hoisted_9, [(_openBlock(), _createBlock(_resolveDynamicComponent(tab.icon), {\n      class: _normalizeClass([$setup.currentTab === tab.key ? 'text-indigo-600' : 'text-gray-400 group-hover:text-gray-500', 'h-5 w-5 flex-shrink-0'])\n    }, null, 8 /* PROPS */, [\"class\"])), _createElementVNode(\"span\", _hoisted_10, _toDisplayString(tab.name), 1 /* TEXT */)]), $setup.getTabMetric(tab.key) ? (_openBlock(), _createElementBlock(\"span\", {\n      key: 0,\n      class: _normalizeClass([$setup.currentTab === tab.key ? 'bg-indigo-100 text-indigo-600' : 'bg-gray-100 text-gray-900', 'ml-3 inline-block py-0.5 px-2 text-xs rounded-full'])\n    }, _toDisplayString($setup.getTabMetric(tab.key)), 3 /* TEXT, CLASS */)) : _createCommentVNode(\"v-if\", true)], 10 /* CLASS, PROPS */, _hoisted_8);\n  }), 64 /* STABLE_FRAGMENT */))])])]), _createCommentVNode(\" 中间内容区 \"), _createElementVNode(\"div\", _hoisted_11, [(_openBlock(), _createBlock(_resolveDynamicComponent($setup.currentComponent)))]), _createCommentVNode(\" 右侧广告位 - 仅桌面端显示 \"), _createElementVNode(\"div\", _hoisted_12, [_createElementVNode(\"div\", _hoisted_13, [_cache[2] || (_cache[2] = _createElementVNode(\"h3\", {\n    class: \"text-lg font-medium text-gray-900 mb-4\"\n  }, \"推荐职位\", -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_14, [(_openBlock(), _createElementBlock(_Fragment, null, _renderList($setup.recommendedJobs, job => {\n    return _createElementVNode(\"div\", {\n      key: job.id,\n      class: \"flex space-x-3\"\n    }, [_createElementVNode(\"div\", _hoisted_15, [_createElementVNode(\"p\", _hoisted_16, _toDisplayString(job.title), 1 /* TEXT */), _createElementVNode(\"p\", _hoisted_17, _toDisplayString(job.company), 1 /* TEXT */)]), _createElementVNode(\"div\", _hoisted_18, [_createElementVNode(\"span\", _hoisted_19, _toDisplayString(job.salary), 1 /* TEXT */)])]);\n  }), 64 /* STABLE_FRAGMENT */))])])])])]), _createCommentVNode(\" 移动端底部工具栏 \"), _createElementVNode(\"div\", _hoisted_20, [_createElementVNode(\"div\", _hoisted_21, [(_openBlock(), _createElementBlock(_Fragment, null, _renderList($setup.mobileActions, action => {\n    return _createElementVNode(\"button\", {\n      key: action.key,\n      onClick: action.handler,\n      class: _normalizeClass([\"flex flex-col items-center py-2 px-1 relative\", [$setup.isActiveTab(action.key) ? 'text-blue-600' : 'text-gray-500']])\n    }, [(_openBlock(), _createBlock(_resolveDynamicComponent(action.icon), {\n      class: _normalizeClass([\"w-6 h-6\", $setup.isActiveTab(action.key) ? 'text-blue-600' : 'text-gray-500'])\n    }, null, 8 /* PROPS */, [\"class\"])), _createElementVNode(\"span\", _hoisted_23, _toDisplayString(action.label), 1 /* TEXT */), action.badge ? (_openBlock(), _createElementBlock(\"span\", _hoisted_24, _toDisplayString(action.badge), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true)], 10 /* CLASS, PROPS */, _hoisted_22);\n  }), 64 /* STABLE_FRAGMENT */))])]), _createCommentVNode(\" 移动端更多菜单抽屉的遮罩层 \"), $setup.isMobileMenuOpen ? (_openBlock(), _createElementBlock(\"div\", {\n    key: 0,\n    class: \"fixed inset-0 bg-black bg-opacity-25 z-[60] lg:hidden\",\n    onClick: _cache[0] || (_cache[0] = $event => $setup.isMobileMenuOpen = false)\n  })) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" 移动端更多菜单抽屉 \"), _createElementVNode(\"div\", {\n    class: _normalizeClass(['fixed inset-y-0 left-0 w-64 bg-white shadow-xl z-[70] transform transition-transform duration-300 ease-in-out lg:hidden', $setup.isMobileMenuOpen ? 'translate-x-0' : '-translate-x-full'])\n  }, [_createElementVNode(\"div\", _hoisted_25, [_createElementVNode(\"div\", _hoisted_26, [_createElementVNode(\"div\", _hoisted_27, [_createElementVNode(\"h2\", _hoisted_28, _toDisplayString(_ctx.userInfo?.name || '我的空间'), 1 /* TEXT */), _createElementVNode(\"button\", {\n    onClick: _cache[1] || (_cache[1] = $event => $setup.isMobileMenuOpen = false),\n    class: \"text-gray-500\"\n  }, [_createVNode($setup[\"XMarkIcon\"], {\n    class: \"w-6 h-6\"\n  })])])]), _createElementVNode(\"div\", _hoisted_29, [_createElementVNode(\"div\", _hoisted_30, [_createElementVNode(\"div\", _hoisted_31, [(_openBlock(), _createElementBlock(_Fragment, null, _renderList($setup.tabs, tab => {\n    return _createElementVNode(\"button\", {\n      key: tab.key,\n      onClick: $event => $setup.handleMobileTabChange(tab.key),\n      class: _normalizeClass([\"group flex items-center w-full px-3 py-2 text-sm font-medium rounded-md\", [$setup.currentTab === tab.key ? 'bg-blue-50 text-blue-600' : 'text-gray-600 hover:bg-gray-50 hover:text-gray-900']])\n    }, [(_openBlock(), _createBlock(_resolveDynamicComponent(tab.icon), {\n      class: _normalizeClass([\"mr-3 h-6 w-6\", $setup.currentTab === tab.key ? 'text-blue-600' : 'text-gray-400'])\n    }, null, 8 /* PROPS */, [\"class\"])), _createTextVNode(\" \" + _toDisplayString(tab.name) + \" \", 1 /* TEXT */), $setup.getTabMetric(tab.key) ? (_openBlock(), _createElementBlock(\"span\", {\n      key: 0,\n      class: _normalizeClass([$setup.currentTab === tab.key ? 'bg-blue-100' : 'bg-gray-100', 'ml-auto px-2 py-0.5 text-xs rounded-full'])\n    }, _toDisplayString($setup.getTabMetric(tab.key)), 3 /* TEXT, CLASS */)) : _createCommentVNode(\"v-if\", true)], 10 /* CLASS, PROPS */, _hoisted_32);\n  }), 64 /* STABLE_FRAGMENT */))])])])])], 2 /* CLASS */)]), _createVNode($setup[\"FootView\"])]);\n}","map":{"version":3,"names":["class","key","_createElementBlock","_hoisted_1","_createVNode","$setup","_createElementVNode","_hoisted_2","_hoisted_3","_hoisted_4","_createCommentVNode","_hoisted_5","_hoisted_6","_hoisted_7","_Fragment","_renderList","tabs","tab","onClick","$event","handleTabChange","_normalizeClass","currentTab","_hoisted_9","_createBlock","_resolveDynamicComponent","icon","_hoisted_10","_toDisplayString","name","getTabMetric","_hoisted_8","_hoisted_11","currentComponent","_hoisted_12","_hoisted_13","_hoisted_14","recommendedJobs","job","id","_hoisted_15","_hoisted_16","title","_hoisted_17","company","_hoisted_18","_hoisted_19","salary","_hoisted_20","_hoisted_21","mobileActions","action","handler","isActiveTab","_hoisted_23","label","badge","_hoisted_24","_hoisted_22","isMobileMenuOpen","_cache","_hoisted_25","_hoisted_26","_hoisted_27","_hoisted_28","_ctx","userInfo","_hoisted_29","_hoisted_30","_hoisted_31","handleMobileTabChange","_createTextVNode","_hoisted_32"],"sources":["/Users/liuzhao/Documents/Projects/flybird/flybird-web/src/views/user/UserCenter.vue"],"sourcesContent":["<template>\n    <div class=\"user-center\">\n      <HeadView />\n      <div class=\"min-h-screen bg-gray-50 pt-20 pb-20 lg:pb-0\">\n        <div class=\"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 mt-4 lg:mt-0\">\n          <div class=\"grid grid-cols-1 lg:grid-cols-12 gap-6 lg:gap-8\">\n            <!-- 左侧导航 - 仅桌面端显示 -->\n            <div class=\"hidden lg:block lg:col-span-3\">\n              <div class=\"bg-white rounded-lg shadow overflow-hidden sticky top-20\">\n                <nav class=\"space-y-1\">\n                    <button\n                        v-for=\"tab in tabs\"\n                        :key=\"tab.key\"\n                        @click=\"handleTabChange(tab.key)\" \n                        class=\"w-full flex items-center px-4 py-3 text-sm font-medium group\"\n                        :class=\"[\n                        currentTab === tab.key\n                            ? 'bg-gray-100 text-indigo-600'\n                            : 'text-gray-600 hover:bg-gray-50 hover:text-gray-900'\n                        ]\"\n                    >\n                    <div class=\"flex items-center flex-1 min-w-0\">\n                      <component\n                        :is=\"tab.icon\"\n                        :class=\"[\n                          currentTab === tab.key ? 'text-indigo-600' : 'text-gray-400 group-hover:text-gray-500',\n                          'h-5 w-5 flex-shrink-0'\n                        ]\"\n                      />\n                      <span class=\"ml-2 truncate\">{{ tab.name }}</span>\n                    </div>\n                    <span \n                      v-if=\"getTabMetric(tab.key)\"\n                      :class=\"[\n                        currentTab === tab.key ? 'bg-indigo-100 text-indigo-600' : 'bg-gray-100 text-gray-900',\n                        'ml-3 inline-block py-0.5 px-2 text-xs rounded-full'\n                      ]\"\n                    >\n                      {{ getTabMetric(tab.key) }}\n                    </span>\n                  </button>\n                </nav>\n              </div>\n            </div>\n  \n            <!-- 中间内容区 -->\n            <div class=\"lg:col-span-6\">\n              <component :is=\"currentComponent\" />\n            </div>\n  \n            <!-- 右侧广告位 - 仅桌面端显示 -->\n            <div class=\"hidden lg:block lg:col-span-3\">\n              <div class=\"bg-white rounded-lg shadow p-4 sticky top-20\">\n                <h3 class=\"text-lg font-medium text-gray-900 mb-4\">推荐职位</h3>\n                <div class=\"space-y-4\">\n                  <div v-for=\"job in recommendedJobs\" :key=\"job.id\" class=\"flex space-x-3\">\n                    <div class=\"flex-1 min-w-0\">\n                      <p class=\"text-sm font-medium text-gray-900 truncate\">{{ job.title }}</p>\n                      <p class=\"text-sm text-gray-500\">{{ job.company }}</p>\n                    </div>\n                    <div class=\"flex-shrink-0\">\n                      <span class=\"text-sm font-medium text-indigo-600\">{{ job.salary }}</span>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n  \n        <!-- 移动端底部工具栏 -->\n        <div \n          class=\"fixed bottom-0 left-0 right-0 bg-white border-t lg:hidden safe-area-inset-bottom z-50\"\n        >\n          <div class=\"grid grid-cols-5 gap-1\">\n            <button\n              v-for=\"action in mobileActions\"\n              :key=\"action.key\"\n              @click=\"action.handler\"\n              class=\"flex flex-col items-center py-2 px-1 relative\"\n              :class=\"[\n                isActiveTab(action.key)\n                  ? 'text-blue-600'\n                  : 'text-gray-500'\n              ]\"\n            >\n              <component \n                :is=\"action.icon\" \n                class=\"w-6 h-6\"\n                :class=\"isActiveTab(action.key) ? 'text-blue-600' : 'text-gray-500'\"\n              />\n              <span class=\"text-xs mt-1 truncate\">{{ action.label }}</span>\n              <span \n                v-if=\"action.badge\" \n                class=\"absolute top-1 right-1/4 bg-red-500 text-white text-xs rounded-full w-4 h-4 flex items-center justify-center\"\n              >\n                {{ action.badge }}\n              </span>\n            </button>\n          </div>\n        </div>\n\n        <!-- 移动端更多菜单抽屉的遮罩层 -->\n        <div \n          v-if=\"isMobileMenuOpen\" \n          class=\"fixed inset-0 bg-black bg-opacity-25 z-[60] lg:hidden\"\n          @click=\"isMobileMenuOpen = false\"\n        />\n        \n        <!-- 移动端更多菜单抽屉 -->\n        <div \n          :class=\"[\n            'fixed inset-y-0 left-0 w-64 bg-white shadow-xl z-[70] transform transition-transform duration-300 ease-in-out lg:hidden',\n            isMobileMenuOpen ? 'translate-x-0' : '-translate-x-full'\n          ]\"\n        >\n          <div class=\"h-full flex flex-col\">\n            <div class=\"p-4 border-b border-gray-200\">\n              <div class=\"flex items-center justify-between\">\n                <h2 class=\"text-lg font-medium text-gray-900\">{{ userInfo?.name || '我的空间' }}</h2>\n                <button \n                  @click=\"isMobileMenuOpen = false\"\n                  class=\"text-gray-500\"\n                >\n                  <XMarkIcon class=\"w-6 h-6\" />\n                </button>\n              </div>\n            </div>\n            \n            <div class=\"flex-1 overflow-y-auto\">\n              <div class=\"px-3 py-4\">\n                <div class=\"space-y-1\">\n                  <button\n                    v-for=\"tab in tabs\"\n                    :key=\"tab.key\"\n                    @click=\"handleMobileTabChange(tab.key)\"\n                    class=\"group flex items-center w-full px-3 py-2 text-sm font-medium rounded-md\"\n                    :class=\"[\n                      currentTab === tab.key\n                        ? 'bg-blue-50 text-blue-600'\n                        : 'text-gray-600 hover:bg-gray-50 hover:text-gray-900'\n                    ]\"\n                  >\n                    <component\n                      :is=\"tab.icon\"\n                      class=\"mr-3 h-6 w-6\"\n                      :class=\"currentTab === tab.key ? 'text-blue-600' : 'text-gray-400'\"\n                    />\n                    {{ tab.name }}\n                    <span \n                      v-if=\"getTabMetric(tab.key)\"\n                      :class=\"[\n                        currentTab === tab.key ? 'bg-blue-100' : 'bg-gray-100',\n                        'ml-auto px-2 py-0.5 text-xs rounded-full'\n                      ]\"\n                    >\n                      {{ getTabMetric(tab.key) }}\n                    </span>\n                  </button>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n      <FootView />\n    </div>\n  </template>\n<script setup>\nimport { ref, computed, watch, onMounted, defineAsyncComponent } from 'vue'\nimport { useRoute, useRouter } from 'vue-router'\nimport profile from '@/api/profile'\nimport HeadView from '../../components/HeadView.vue'\nimport FootView from '../../components/FootView.vue'\nimport {\n  UserIcon,\n  DocumentTextIcon,\n  PhotoIcon,\n  DocumentIcon,\n  StarIcon,\n  EnvelopeIcon,\n  GlobeAltIcon,\n  Cog6ToothIcon,\n  PlusCircleIcon,\n  Bars3Icon,\n  XMarkIcon,\n  BookmarkIcon,\n  HomeIcon,\n  CogIcon\n} from '@heroicons/vue/24/outline'\n\n// 创建加载组件\nconst LoadingComponent = {\n  name: 'LoadingComponent',\n  template: `\n    <div class=\"p-4 text-center\">\n      <div class=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500 mx-auto\"></div>\n      <p class=\"mt-2 text-gray-600\">加载中...</p>\n    </div>\n  `\n}\n\n// 异步组件\nconst MyProfile = defineAsyncComponent({\n  loader: () => import('@/views/user/MyProfile/index.vue'),\n  loadingComponent: LoadingComponent,\n  timeout: 10000,  // 增加超时时间到10秒\n  delay: 200,\n  onError(error, retry, fail, attempts) {\n    if (attempts <= 3) {\n      // 重试3次\n      retry()\n    } else {\n      fail()\n    }\n  }\n})\n\nconst MyResumes = defineAsyncComponent({\n  loader: () => import('@/views/user/MyResumes.vue'),\n  loadingComponent: LoadingComponent,\n  timeout: 10000\n})\n\nconst MyPortfolio = defineAsyncComponent({\n  loader: () => import('@/views/user/MyProfile/components/MyPortfolio.vue'),\n  loadingComponent: LoadingComponent,\n  timeout: 10000\n})\n\nconst AccountSettings = defineAsyncComponent({\n  loader: () => import('@/views/user/AccountSettings.vue'),\n  loadingComponent: LoadingComponent,\n  timeout: 10000\n})\n\nconst MyCreations = defineAsyncComponent({\n  loader: () => import('@/views/user/MyProfile/components/MyCreations.vue'),\n  loadingComponent: LoadingComponent,\n  timeout: 10000\n})\n\nconst MyFavorites = defineAsyncComponent({\n  loader: () => import('@/views/user/MyProfile/components/MyFavorites.vue'),\n  loadingComponent: LoadingComponent,\n  timeout: 10000\n})\n\nconst MyMessages = defineAsyncComponent({\n  loader: () => import('@/views/user/MyProfile/components/MyMessages.vue'),\n  loadingComponent: LoadingComponent,\n  timeout: 10000\n})\n\nconst MyHomepage = defineAsyncComponent({\n  loader: () => import('@/views/user/MyProfile/components/MyHomepage.vue'),\n  loadingComponent: LoadingComponent,\n  timeout: 10000\n})\n\nconst route = useRoute()\nconst router = useRouter()\n\n// 统一的 currentTab 声明，使用 URL 参数或 localStorage\nconst currentTab = ref(route.query.tab || localStorage.getItem('userCenterTab') || 'profile')\n\n// 监听标签变化\nwatch(currentTab, (newTab) => {\n  // 更新 localStorage\n  localStorage.setItem('userCenterTab', newTab)\n  // 更新 URL 参数\n  router.replace({\n    query: { ...route.query, tab: newTab }\n  })\n})\n\n// 监听 URL 参数变化\nwatch(\n  () => route.query.tab,\n  (newTab) => {\n    if (newTab && newTab !== currentTab.value) {\n      currentTab.value = newTab\n    }\n  }\n)\n\n// 处理标签切换\nconst handleTabChange = (key) => {\n  currentTab.value = key\n}\n\n// 将原有的tabs拆分为主要和次要标签\nconst tabs = [\n  { \n    key: 'profile', \n    name: '个人档案',\n    icon: UserIcon\n  },\n  { \n    key: 'resumes', \n    name: '我的简历',\n    icon: DocumentIcon\n  },\n  { \n    key: 'creations', \n    name: '我的创作',\n    icon: DocumentTextIcon\n  },\n  { \n    key: 'portfolio', \n    name: '作品集',\n    icon: PhotoIcon\n  },\n  { \n    key: 'favorites', \n    name: '我的收藏',\n    icon: StarIcon\n  },\n  { \n    key: 'messages', \n    name: '我的消息',\n    icon: EnvelopeIcon\n  },\n  { \n    key: 'homepage', \n    name: '我的主页',\n    icon: GlobeAltIcon\n  },\n  { \n    key: 'account', \n    name: '账户设置',\n    icon: Cog6ToothIcon\n  }\n]\n\n// 模拟数据\nconst portfolioCount = ref(4) // 假设有4个作品\nconst creationsCount = ref(5) // 假设有5个创作\nconst favoritesCount = ref(10) // 假设有10个收藏\nconst unreadMessagesCount = ref(3) // 假设有3条未读消息\n\nconst messageBadge = computed(() => unreadMessagesCount.value)\n\n// 移动端底部导航按钮\nconst mobileActions = [\n  {\n    key: 'more',\n    label: '更多',\n    icon: Bars3Icon,\n    handler: () => { \n      isMobileMenuOpen.value = true \n    }\n  },\n  {\n    key: 'profile',\n    label: '档案',\n    icon: UserIcon,\n    handler: () => handleTabChange('profile')\n  },\n  {\n    key: 'resumes',\n    label: '简历',\n    icon: DocumentIcon,\n    handler: () => handleTabChange('resumes')\n  },\n  {\n    key: 'messages',\n    label: '消息',\n    icon: EnvelopeIcon,\n    handler: () => handleTabChange('messages'),\n    badge: messageBadge\n  },\n  {\n    key: 'account',\n    label: '设置',\n    icon: Cog6ToothIcon,\n    handler: () => handleTabChange('account')\n  }\n]\n\n// 移动端菜单状态\nconst isMobileMenuOpen = ref(false)\n\n// 处理移动端标签切换\nconst handleMobileTabChange = (key) => {\n  currentTab.value = key\n  isMobileMenuOpen.value = false\n}\n\n// 动态组件\nconst currentComponent = computed(() => {\n  switch (currentTab.value) {\n    case 'profile':\n      return MyProfile\n    case 'homepage':\n      return MyHomepage\n    case 'resumes':\n      return MyResumes\n    case 'creations':\n      return MyCreations\n    case 'portfolio':\n      return MyPortfolio\n    case 'favorites':\n      return MyFavorites\n    case 'messages':\n      return MyMessages\n    case 'account':\n      return AccountSettings\n    default:\n      return MyProfile\n  }\n})\n\n// 从 store 或者 API 获取完整度数据\nconst completionData = ref({\n  total_score: 0\n})\n\n// 获取完整度数据\nconst fetchCompleteness = async () => {\n  try {\n    const response = await profile.getCompleteness()\n    if (response.data?.code === 200 && response.data?.data) {\n      completionData.value = response.data.data\n    }\n  } catch (error) {\n    console.error('获取简历完整度失败:', error)\n  }\n}\n\n// 获取标签指标\nconst getTabMetric = (key) => {\n  switch (key) {\n    case 'profile':\n      const score = Math.round(completionData.value.total_score || 0)\n      return score + '分'\n    case 'resumes':\n      return '2'\n    case 'creations':\n      return creationsCount.value\n    case 'portfolio':\n      return portfolioCount.value\n    case 'favorites':\n      return favoritesCount.value\n    case 'messages':\n      return unreadMessagesCount.value\n    default:\n      return ''\n  }\n}\n\n// 在组件挂载时获取数据\nonMounted(async () => {\n  await fetchCompleteness()\n})\n\n// 监听路由变化，在进入个人资料页时刷新数据\nwatch(() => route.path, async (newPath) => {\n  if (newPath.includes('/user/profile')) {\n    await fetchCompleteness()\n  }\n})\n\n// 推荐职位数据\nconst recommendedJobs = [\n  {\n    id: 1,\n    title: '高级前端工程师',\n    company: '字节跳动',\n    salary: '25-35K'\n  },\n  {\n    id: 2,\n    title: '资深产品经理',\n    company: '腾讯',\n    salary: '30-45K'\n  },\n  {\n    id: 3,\n    title: 'UI设计师',\n    company: '阿里巴巴',\n    salary: '20-30K'\n  }\n]\n\n// 判断标签是否激活\nconst isActiveTab = (key) => {\n  if (key === 'more') {\n    return false // \"更多\"按钮永远不会处于激活状态\n  }\n  return currentTab.value === key\n}\n </script>\n \n <style scoped>\n .user-center {\n   min-height: 100vh;\n   display: flex;\n   flex-direction: column;\n }\n\n /* 确保移动端底部导航不会遮挡内容 */\n @media (max-width: 1024px) {\n   .user-center {\n     padding-bottom: calc(env(safe-area-inset-bottom) + 56px); /* 56px 是底部导航栏的高度 */\n   }\n   \n   .safe-area-inset-bottom {\n     padding-bottom: env(safe-area-inset-bottom);\n   }\n\n   /* 防止水平滚动 */\n   .overflow-x-auto {\n     -webkit-overflow-scrolling: touch;\n     scrollbar-width: none; /* Firefox */\n     -ms-overflow-style: none; /* IE and Edge */\n   }\n   \n   .overflow-x-auto::-webkit-scrollbar {\n     display: none; /* Chrome, Safari and Opera */\n   }\n }\n </style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}