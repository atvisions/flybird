{"ast":null,"code":"import \"core-js/modules/esnext.iterator.constructor.js\";\nimport \"core-js/modules/esnext.iterator.find.js\";\nimport { computed } from 'vue';\nimport { useRouter } from 'vue-router';\nimport { ChevronLeftIcon, XMarkIcon } from '@heroicons/vue/24/outline';\nimport { mainCategories } from '@/config/portfolioCategories';\nexport default {\n  __name: 'CategoryMenu',\n  props: {\n    show: Boolean,\n    currentLevel: String,\n    currentMainCategory: String,\n    currentSubCategory: String,\n    currentThirdCategory: String,\n    categories: Array\n  },\n  emits: ['update:show', 'update:currentLevel', 'update:currentMainCategory', 'update:currentSubCategory', 'update:currentThirdCategory', 'category-change'],\n  setup(__props, {\n    expose: __expose,\n    emit: __emit\n  }) {\n    __expose();\n    const router = useRouter();\n    const props = __props;\n    const emit = __emit;\n    const currentSubCategories = computed(() => {\n      if (props.currentMainCategory === 'all') return [];\n      const mainCategory = props.categories.find(c => c.id === props.currentMainCategory);\n      return mainCategory?.children || [];\n    });\n    const handleMainCategoryClick = category => {\n      router.push(category.path);\n      emit('update:show', false);\n    };\n    const handleBack = () => {\n      if (props.currentLevel === 'third') {\n        emit('update:currentLevel', 'sub');\n      } else if (props.currentLevel === 'sub') {\n        emit('update:currentLevel', 'main');\n      }\n    };\n    const __returned__ = {\n      router,\n      props,\n      emit,\n      currentSubCategories,\n      handleMainCategoryClick,\n      handleBack,\n      computed,\n      get useRouter() {\n        return useRouter;\n      },\n      get ChevronLeftIcon() {\n        return ChevronLeftIcon;\n      },\n      get XMarkIcon() {\n        return XMarkIcon;\n      },\n      get mainCategories() {\n        return mainCategories;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["computed","useRouter","ChevronLeftIcon","XMarkIcon","mainCategories","router","props","__props","emit","__emit","currentSubCategories","currentMainCategory","mainCategory","categories","find","c","id","children","handleMainCategoryClick","category","push","path","handleBack","currentLevel"],"sources":["/Users/liuzhao/Documents/Projects/flybird/flybird-web/src/components/portfolio/CategoryMenu.vue"],"sourcesContent":["<template>\n  <div v-if=\"show\" \n    class=\"fixed inset-0 bg-black/50 z-[100] sm:hidden flex items-end\"\n    @click=\"$emit('update:show', false)\"\n  >\n    <div \n      class=\"absolute bottom-0 left-0 right-0 bg-white rounded-t-2xl p-6 max-h-[85vh] overflow-y-auto\"\n      @click.stop\n    >\n      <div class=\"flex items-center justify-between mb-4\">\n        <div class=\"flex items-center space-x-2\">\n          <button \n            v-if=\"currentLevel !== 'main'\"\n            @click=\"handleBack\"\n            class=\"text-gray-400 hover:text-gray-500\"\n          >\n            <ChevronLeftIcon class=\"w-5 h-5\" />\n          </button>\n          <h3 class=\"text-lg font-medium text-gray-900\">\n            {{ currentLevel === 'main' ? '选择分类' : currentMainCategory }}\n          </h3>\n        </div>\n        <button \n          @click=\"$emit('update:show', false)\"\n          class=\"text-gray-400 hover:text-gray-500\"\n        >\n          <XMarkIcon class=\"w-5 h-5\" />\n        </button>\n      </div>\n      <div class=\"grid grid-cols-2 gap-3 pb-6\">\n        <!-- 主分类 -->\n        <template v-if=\"currentLevel === 'main'\">\n          <button\n            v-for=\"category in mainCategories\"\n            :key=\"category.id\"\n            @click=\"handleMainCategoryClick(category)\"\n            class=\"flex items-center justify-center px-4 py-4 rounded-xl text-sm font-medium transition-colors\"\n            :class=\"[\n              $route.path === category.path\n                ? 'bg-blue-50 text-blue-600'\n                : 'bg-gray-50 text-gray-600 hover:bg-gray-100'\n            ]\"\n          >\n            <component :is=\"category.icon\" class=\"w-4 h-4 mr-2\" />\n            {{ category.name }}\n          </button>\n        </template>\n\n        <!-- 子分类 -->\n        <template v-else-if=\"currentLevel === 'sub'\">\n          <button\n            v-for=\"category in currentSubCategories\"\n            :key=\"category.id\"\n            @click=\"$emit('category-change', category.id, 'sub')\"\n            class=\"flex items-center justify-center px-4 py-4 rounded-xl text-sm font-medium transition-colors\"\n            :class=\"[\n              currentSubCategory === category.id\n                ? 'bg-blue-50 text-blue-600'\n                : 'bg-gray-50 text-gray-600 hover:bg-gray-100'\n            ]\"\n          >\n            {{ category.name }}\n          </button>\n        </template>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { computed } from 'vue'\nimport { useRouter } from 'vue-router'\nimport { ChevronLeftIcon, XMarkIcon } from '@heroicons/vue/24/outline'\nimport { mainCategories } from '@/config/portfolioCategories'\n\nconst router = useRouter()\n\nconst props = defineProps({\n  show: Boolean,\n  currentLevel: String,\n  currentMainCategory: String,\n  currentSubCategory: String,\n  currentThirdCategory: String,\n  categories: Array\n})\n\nconst emit = defineEmits([\n  'update:show',\n  'update:currentLevel',\n  'update:currentMainCategory',\n  'update:currentSubCategory',\n  'update:currentThirdCategory',\n  'category-change'\n])\n\nconst currentSubCategories = computed(() => {\n  if (props.currentMainCategory === 'all') return []\n  const mainCategory = props.categories.find(c => c.id === props.currentMainCategory)\n  return mainCategory?.children || []\n})\n\nconst handleMainCategoryClick = (category) => {\n  router.push(category.path)\n  emit('update:show', false)\n}\n\nconst handleBack = () => {\n  if (props.currentLevel === 'third') {\n    emit('update:currentLevel', 'sub')\n  } else if (props.currentLevel === 'sub') {\n    emit('update:currentLevel', 'main')\n  }\n}\n</script> "],"mappings":";;AAsEA,SAASA,QAAQ,QAAQ,KAAI;AAC7B,SAASC,SAAS,QAAQ,YAAW;AACrC,SAASC,eAAe,EAAEC,SAAS,QAAQ,2BAA0B;AACrE,SAASC,cAAc,QAAQ,8BAA6B;;;;;;;;;;;;;;;;;IAE5D,MAAMC,MAAM,GAAGJ,SAAS,CAAC;IAEzB,MAAMK,KAAK,GAAGC,OAAA;IASd,MAAMC,IAAI,GAAGC,MAAA;IASb,MAAMC,oBAAoB,GAAGV,QAAQ,CAAC,MAAM;MAC1C,IAAIM,KAAK,CAACK,mBAAmB,KAAK,KAAK,EAAE,OAAO,EAAC;MACjD,MAAMC,YAAY,GAAGN,KAAK,CAACO,UAAU,CAACC,IAAI,CAACC,CAAC,IAAIA,CAAC,CAACC,EAAE,KAAKV,KAAK,CAACK,mBAAmB;MAClF,OAAOC,YAAY,EAAEK,QAAQ,IAAI,EAAC;IACpC,CAAC;IAED,MAAMC,uBAAuB,GAAIC,QAAQ,IAAK;MAC5Cd,MAAM,CAACe,IAAI,CAACD,QAAQ,CAACE,IAAI;MACzBb,IAAI,CAAC,aAAa,EAAE,KAAK;IAC3B;IAEA,MAAMc,UAAU,GAAGA,CAAA,KAAM;MACvB,IAAIhB,KAAK,CAACiB,YAAY,KAAK,OAAO,EAAE;QAClCf,IAAI,CAAC,qBAAqB,EAAE,KAAK;MACnC,CAAC,MAAM,IAAIF,KAAK,CAACiB,YAAY,KAAK,KAAK,EAAE;QACvCf,IAAI,CAAC,qBAAqB,EAAE,MAAM;MACpC;IACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}