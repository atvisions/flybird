{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, createVNode as _createVNode, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createBlock as _createBlock, createTextVNode as _createTextVNode } from \"vue\";\nconst _hoisted_1 = {\n  class: \"py-4 lg:py-6\"\n};\nconst _hoisted_2 = {\n  class: \"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\"\n};\nconst _hoisted_3 = {\n  class: \"mt-6\"\n};\nconst _hoisted_4 = {\n  class: \"flex items-center justify-between mb-6\"\n};\nconst _hoisted_5 = {\n  class: \"flex items-center space-x-4\"\n};\nconst _hoisted_6 = {\n  class: \"text-sm text-gray-500\"\n};\nconst _hoisted_7 = {\n  class: \"grid gap-4 sm:gap-6 sm:grid-cols-2 lg:grid-cols-3\"\n};\nconst _hoisted_8 = {\n  key: 0,\n  class: \"mt-8 text-center\"\n};\nconst _hoisted_9 = [\"disabled\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createCommentVNode(\" PC端导航 \"), _createVNode($setup[\"CommunityNavigation\"], {\n    currentCategory: $setup.currentMainCategory,\n    \"onUpdate:currentCategory\": _cache[0] || (_cache[0] = $event => $setup.currentMainCategory = $event),\n    currentSort: $setup.currentSort,\n    \"onUpdate:currentSort\": _cache[1] || (_cache[1] = $event => $setup.currentSort = $event),\n    class: \"hidden md:block\"\n  }, null, 8 /* PROPS */, [\"currentCategory\", \"currentSort\"]), _createCommentVNode(\" 内容列表 \"), _createElementVNode(\"div\", _hoisted_3, [_createCommentVNode(\" 内容过滤器 \"), _createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"div\", _hoisted_5, [_cache[3] || (_cache[3] = _createElementVNode(\"h2\", {\n    class: \"text-lg font-medium text-gray-900\"\n  }, \"推荐内容\", -1 /* HOISTED */)), _createElementVNode(\"span\", _hoisted_6, \"共 \" + _toDisplayString($setup.totalItems) + \" 条内容\", 1 /* TEXT */)])]), _createCommentVNode(\" 内容卡片列表 \"), _createElementVNode(\"div\", _hoisted_7, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.filteredContent, item => {\n    return _openBlock(), _createBlock($setup[\"ContentCard\"], {\n      key: item.id,\n      content: item,\n      onLike: $setup.handleLike,\n      onCollect: $setup.handleCollect\n    }, null, 8 /* PROPS */, [\"content\"]);\n  }), 128 /* KEYED_FRAGMENT */))]), _createCommentVNode(\" 加载更多 \"), $setup.hasMore ? (_openBlock(), _createElementBlock(\"div\", _hoisted_8, [_createElementVNode(\"button\", {\n    class: \"inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\",\n    disabled: $setup.loading,\n    onClick: _cache[2] || (_cache[2] = (...args) => $setup.loadMore && $setup.loadMore(...args))\n  }, [!$setup.loading ? (_openBlock(), _createElementBlock(_Fragment, {\n    key: 0\n  }, [_createTextVNode(\"加载更多\")], 64 /* STABLE_FRAGMENT */)) : (_openBlock(), _createElementBlock(_Fragment, {\n    key: 1\n  }, [_cache[4] || (_cache[4] = _createElementVNode(\"svg\", {\n    class: \"animate-spin -ml-1 mr-3 h-5 w-5 text-gray-700\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\"\n  }, [_createElementVNode(\"circle\", {\n    class: \"opacity-25\",\n    cx: \"12\",\n    cy: \"12\",\n    r: \"10\",\n    stroke: \"currentColor\",\n    \"stroke-width\": \"4\"\n  }), _createElementVNode(\"path\", {\n    class: \"opacity-75\",\n    fill: \"currentColor\",\n    d: \"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"\n  })], -1 /* HOISTED */)), _cache[5] || (_cache[5] = _createTextVNode(\" 加载中... \"))], 64 /* STABLE_FRAGMENT */))], 8 /* PROPS */, _hoisted_9)])) : _createCommentVNode(\"v-if\", true)])])]);\n}","map":{"version":3,"names":["class","key","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_createCommentVNode","_createVNode","$setup","currentCategory","currentMainCategory","_cache","$event","currentSort","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_toDisplayString","totalItems","_hoisted_7","_Fragment","_renderList","filteredContent","item","_createBlock","id","content","onLike","handleLike","onCollect","handleCollect","hasMore","_hoisted_8","disabled","loading","onClick","args","loadMore","_createTextVNode","xmlns","fill","viewBox","cx","cy","r","stroke","d","_hoisted_9"],"sources":["/Users/liuzhao/Documents/Projects/flybird/flybird-web/src/views/community/HomeView.vue"],"sourcesContent":["<template>\n  <div class=\"py-4 lg:py-6\">\n    <div class=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n      <!-- PC端导航 -->\n      <CommunityNavigation \n        v-model:currentCategory=\"currentMainCategory\"\n        v-model:currentSort=\"currentSort\"\n        class=\"hidden md:block\"\n      />\n\n      <!-- 内容列表 -->\n      <div class=\"mt-6\">\n        <!-- 内容过滤器 -->\n        <div class=\"flex items-center justify-between mb-6\">\n          <div class=\"flex items-center space-x-4\">\n            <h2 class=\"text-lg font-medium text-gray-900\">推荐内容</h2>\n            <span class=\"text-sm text-gray-500\">共 {{ totalItems }} 条内容</span>\n          </div>\n        </div>\n\n        <!-- 内容卡片列表 -->\n        <div class=\"grid gap-4 sm:gap-6 sm:grid-cols-2 lg:grid-cols-3\">\n          <ContentCard\n            v-for=\"item in filteredContent\"\n            :key=\"item.id\"\n            :content=\"item\"\n            @like=\"handleLike\"\n            @collect=\"handleCollect\"\n          />\n        </div>\n\n        <!-- 加载更多 -->\n        <div v-if=\"hasMore\" class=\"mt-8 text-center\">\n          <button\n            class=\"inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n            :disabled=\"loading\"\n            @click=\"loadMore\"\n          >\n            <template v-if=\"!loading\">加载更多</template>\n            <template v-else>\n              <svg class=\"animate-spin -ml-1 mr-3 h-5 w-5 text-gray-700\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\n                <circle class=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" stroke-width=\"4\"></circle>\n                <path class=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n              </svg>\n              加载中...\n            </template>\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { ref, computed, watch } from 'vue'\nimport CommunityNavigation from '@/components/community/CommunityNavigation.vue'\nimport ContentCard from '@/components/community/ContentCard.vue'\nimport { useCommunityData } from '@/composables/useCommunityData'\n\n// 分类相关状态\nconst currentMainCategory = ref('all')\nconst currentSort = ref('popular')\n\n// 监听父组件传递的分类变化\nconst props = defineProps({\n  currentCategory: {\n    type: String,\n    default: 'all'\n  }\n})\n\n// 当父组件的分类变化时，更新本地分类\nwatch(() => props.currentCategory, (newValue) => {\n  currentMainCategory.value = newValue\n})\n\n// 内容数据相关\nconst { \n  content,\n  totalItems,\n  loading,\n  hasMore,\n  loadMore\n} = useCommunityData()\n\n// 根据分类和排序过滤内容\nconst filteredContent = computed(() => {\n  let result = [...content.value]\n  \n  // 应用分类过滤\n  if (currentMainCategory.value !== 'all') {\n    result = result.filter(item => item.category === currentMainCategory.value)\n  }\n  \n  // 应用排序\n  switch (currentSort.value) {\n    case 'popular':\n      result.sort((a, b) => (b.views + b.likes) - (a.views + a.likes))\n      break\n    case 'newest':\n      result.sort((a, b) => new Date(b.date) - new Date(a.date))\n      break\n    case 'views':\n      result.sort((a, b) => b.views - a.views)\n      break\n    case 'likes':\n      result.sort((a, b) => b.likes - a.likes)\n      break\n  }\n  \n  return result\n})\n\n// 处理点赞\nconst handleLike = (contentId) => {\n  // TODO: 实现点赞逻辑\n  console.log('Like content:', contentId)\n}\n\n// 处理收藏\nconst handleCollect = (contentId) => {\n  // TODO: 实现收藏逻辑\n  console.log('Collect content:', contentId)\n}\n</script> "],"mappings":";;EACOA,KAAK,EAAC;AAAc;;EAClBA,KAAK,EAAC;AAAwC;;EAS5CA,KAAK,EAAC;AAAM;;EAEVA,KAAK,EAAC;AAAwC;;EAC5CA,KAAK,EAAC;AAA6B;;EAEhCA,KAAK,EAAC;AAAuB;;EAKlCA,KAAK,EAAC;AAAmD;;EArBtEC,GAAA;EAgC4BD,KAAK,EAAC;;mBAhClC;;uBACEE,mBAAA,CAiDM,OAjDNC,UAiDM,GAhDJC,mBAAA,CA+CM,OA/CNC,UA+CM,GA9CJC,mBAAA,WAAc,EACdC,YAAA,CAIEC,MAAA;IAHQC,eAAe,EAAED,MAAA,CAAAE,mBAAmB;IALpD,4BAAAC,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAKiCJ,MAAA,CAAAE,mBAAmB,GAAAE,MAAA;IACpCC,WAAW,EAAEL,MAAA,CAAAK,WAAW;IANxC,wBAAAF,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAM6BJ,MAAA,CAAAK,WAAW,GAAAD,MAAA;IAChCZ,KAAK,EAAC;+DAGRM,mBAAA,UAAa,EACbF,mBAAA,CAqCM,OArCNU,UAqCM,GApCJR,mBAAA,WAAc,EACdF,mBAAA,CAKM,OALNW,UAKM,GAJJX,mBAAA,CAGM,OAHNY,UAGM,G,0BAFJZ,mBAAA,CAAuD;IAAnDJ,KAAK,EAAC;EAAmC,GAAC,MAAI,sBAClDI,mBAAA,CAAiE,QAAjEa,UAAiE,EAA7B,IAAE,GAAAC,gBAAA,CAAGV,MAAA,CAAAW,UAAU,IAAG,MAAI,gB,KAI9Db,mBAAA,YAAe,EACfF,mBAAA,CAQM,OARNgB,UAQM,I,kBAPJlB,mBAAA,CAMEmB,SAAA,QA5BZC,WAAA,CAuB2Bd,MAAA,CAAAe,eAAe,EAAvBC,IAAI;yBADbC,YAAA,CAMEjB,MAAA;MAJCP,GAAG,EAAEuB,IAAI,CAACE,EAAE;MACZC,OAAO,EAAEH,IAAI;MACbI,MAAI,EAAEpB,MAAA,CAAAqB,UAAU;MAChBC,SAAO,EAAEtB,MAAA,CAAAuB;;oCAIdzB,mBAAA,UAAa,EACFE,MAAA,CAAAwB,OAAO,I,cAAlB9B,mBAAA,CAeM,OAfN+B,UAeM,GAdJ7B,mBAAA,CAaS;IAZPJ,KAAK,EAAC,oNAAoN;IACzNkC,QAAQ,EAAE1B,MAAA,CAAA2B,OAAO;IACjBC,OAAK,EAAAzB,MAAA,QAAAA,MAAA,UAAA0B,IAAA,KAAE7B,MAAA,CAAA8B,QAAA,IAAA9B,MAAA,CAAA8B,QAAA,IAAAD,IAAA,CAAQ;OAEC7B,MAAA,CAAA2B,OAAO,I,cAAxBjC,mBAAA,CAAyCmB,SAAA;IAtCrDpB,GAAA;EAAA,IAAAsC,gBAAA,CAsCsC,MAAI,E,8CAC9BrC,mBAAA,CAMWmB,SAAA;IA7CvBpB,GAAA;EAAA,I,0BAwCcG,mBAAA,CAGM;IAHDJ,KAAK,EAAC,+CAA+C;IAACwC,KAAK,EAAC,4BAA4B;IAACC,IAAI,EAAC,MAAM;IAACC,OAAO,EAAC;MAChHtC,mBAAA,CAAkG;IAA1FJ,KAAK,EAAC,YAAY;IAAC2C,EAAE,EAAC,IAAI;IAACC,EAAE,EAAC,IAAI;IAACC,CAAC,EAAC,IAAI;IAACC,MAAM,EAAC,cAAc;IAAC,cAAY,EAAC;MACrF1C,mBAAA,CAAwK;IAAlKJ,KAAK,EAAC,YAAY;IAACyC,IAAI,EAAC,cAAc;IAACM,CAAC,EAAC;qDA1C/DR,gBAAA,CA2CoB,UAER,G,8CA7CZS,UAAA,E,KAAA1C,mBAAA,e","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}