{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, createElementVNode as _createElementVNode, normalizeClass as _normalizeClass, vShow as _vShow, withDirectives as _withDirectives } from \"vue\";\nconst _hoisted_1 = {\n  class: \"toolbar-panel\"\n};\nconst _hoisted_2 = {\n  class: \"vertical-tabs\"\n};\nconst _hoisted_3 = [\"onClick\"];\nconst _hoisted_4 = {\n  class: \"tab-text\"\n};\nconst _hoisted_5 = {\n  class: \"panel-content\"\n};\nconst _hoisted_6 = {\n  class: \"panel-section\"\n};\nconst _hoisted_7 = {\n  class: \"component-blocks\"\n};\nconst _hoisted_8 = [\"onDragstart\"];\nconst _hoisted_9 = {\n  class: \"block-title\"\n};\nconst _hoisted_10 = {\n  class: \"panel-section\"\n};\nconst _hoisted_11 = {\n  class: \"component-blocks\"\n};\nconst _hoisted_12 = [\"onDragstart\"];\nconst _hoisted_13 = {\n  class: \"block-title\"\n};\nconst _hoisted_14 = {\n  class: \"panel-section\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_v_icon = _resolveComponent(\"v-icon\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createCommentVNode(\" 垂直标签栏 \"), _createElementVNode(\"div\", _hoisted_2, [(_openBlock(), _createElementBlock(_Fragment, null, _renderList($setup.toolbarTabs, tab => {\n    return _createElementVNode(\"div\", {\n      key: tab.value,\n      class: _normalizeClass([\"tab-item\", {\n        active: $setup.activeTab === tab.value\n      }]),\n      onClick: $event => $setup.activeTab = tab.value\n    }, [_createVNode(_component_v_icon, {\n      size: \"20\",\n      class: \"mb-1\"\n    }, {\n      default: _withCtx(() => [_createTextVNode(_toDisplayString(tab.icon), 1 /* TEXT */)]),\n      _: 2 /* DYNAMIC */\n    }, 1024 /* DYNAMIC_SLOTS */), _createElementVNode(\"span\", _hoisted_4, _toDisplayString(tab.text), 1 /* TEXT */)], 10 /* CLASS, PROPS */, _hoisted_3);\n  }), 64 /* STABLE_FRAGMENT */))]), _createCommentVNode(\" 内容区域 \"), _createElementVNode(\"div\", _hoisted_5, [_createCommentVNode(\" 布局面板 \"), _withDirectives(_createElementVNode(\"div\", _hoisted_6, [_createElementVNode(\"div\", _hoisted_7, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.layoutComponents, component => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      key: component.id,\n      class: \"component-block\",\n      draggable: \"true\",\n      onDragstart: $event => $setup.handleDragStart($event, component)\n    }, [_createVNode(_component_v_icon, {\n      size: \"18\"\n    }, {\n      default: _withCtx(() => [_createTextVNode(_toDisplayString(component.icon), 1 /* TEXT */)]),\n      _: 2 /* DYNAMIC */\n    }, 1024 /* DYNAMIC_SLOTS */), _createElementVNode(\"div\", _hoisted_9, _toDisplayString(component.name), 1 /* TEXT */)], 40 /* PROPS, NEED_HYDRATION */, _hoisted_8);\n  }), 128 /* KEYED_FRAGMENT */))])], 512 /* NEED_PATCH */), [[_vShow, $setup.activeTab === 'layout']]), _createCommentVNode(\" 组件面板 \"), _withDirectives(_createElementVNode(\"div\", _hoisted_10, [_createElementVNode(\"div\", _hoisted_11, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.componentList, component => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      key: component.id,\n      class: \"component-block\",\n      draggable: \"true\",\n      onDragstart: $event => $setup.handleDragStart($event, component)\n    }, [_createVNode(_component_v_icon, {\n      size: \"18\"\n    }, {\n      default: _withCtx(() => [_createTextVNode(_toDisplayString(component.icon), 1 /* TEXT */)]),\n      _: 2 /* DYNAMIC */\n    }, 1024 /* DYNAMIC_SLOTS */), _createElementVNode(\"div\", _hoisted_13, _toDisplayString(component.name), 1 /* TEXT */)], 40 /* PROPS, NEED_HYDRATION */, _hoisted_12);\n  }), 128 /* KEYED_FRAGMENT */))])], 512 /* NEED_PATCH */), [[_vShow, $setup.activeTab === 'component']]), _createCommentVNode(\" 文件面板 \"), _withDirectives(_createElementVNode(\"div\", _hoisted_14, _cache[0] || (_cache[0] = [_createElementVNode(\"div\", {\n    class: \"component-blocks\"\n  }, [_createCommentVNode(\" 文件相关组件 \")], -1 /* HOISTED */)]), 512 /* NEED_PATCH */), [[_vShow, $setup.activeTab === 'file']])])]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","_createCommentVNode","_createElementVNode","_hoisted_2","_Fragment","_renderList","$setup","toolbarTabs","tab","key","value","_normalizeClass","active","activeTab","onClick","$event","_createVNode","_component_v_icon","size","default","_withCtx","_createTextVNode","_toDisplayString","icon","_","_hoisted_4","text","_hoisted_3","_hoisted_5","_hoisted_6","_hoisted_7","layoutComponents","component","id","draggable","onDragstart","handleDragStart","_hoisted_9","name","_hoisted_8","_hoisted_10","_hoisted_11","componentList","_hoisted_13","_hoisted_12","_hoisted_14","_cache"],"sources":["/Users/liuzhao/Documents/Projects/flybird/flybird-web/src/views/resume-editor/components/ToolbarPanel.vue"],"sourcesContent":["<template>\n  <div class=\"toolbar-panel\">\n    <!-- 垂直标签栏 -->\n    <div class=\"vertical-tabs\">\n      <div v-for=\"tab in toolbarTabs\" \n        :key=\"tab.value\"\n        class=\"tab-item\"\n        :class=\"{ active: activeTab === tab.value }\"\n        @click=\"activeTab = tab.value\">\n        <v-icon size=\"20\" class=\"mb-1\">{{ tab.icon }}</v-icon>\n        <span class=\"tab-text\">{{ tab.text }}</span>\n      </div>\n    </div>\n\n    <!-- 内容区域 -->\n    <div class=\"panel-content\">\n      <!-- 布局面板 -->\n      <div v-show=\"activeTab === 'layout'\" class=\"panel-section\">\n        <div class=\"component-blocks\">\n          <div v-for=\"component in layoutComponents\"\n            :key=\"component.id\"\n            class=\"component-block\"\n            draggable=\"true\"\n            @dragstart=\"handleDragStart($event, component)\">\n            <v-icon size=\"18\">{{ component.icon }}</v-icon>\n            <div class=\"block-title\">{{ component.name }}</div>\n          </div>\n        </div>\n      </div>\n\n      <!-- 组件面板 -->\n      <div v-show=\"activeTab === 'component'\" class=\"panel-section\">\n        <div class=\"component-blocks\">\n          <div v-for=\"component in componentList\"\n            :key=\"component.id\"\n            class=\"component-block\"\n            draggable=\"true\"\n            @dragstart=\"handleDragStart($event, component)\">\n            <v-icon size=\"18\">{{ component.icon }}</v-icon>\n            <div class=\"block-title\">{{ component.name }}</div>\n          </div>\n        </div>\n      </div>\n\n      <!-- 文件面板 -->\n      <div v-show=\"activeTab === 'file'\" class=\"panel-section\">\n        <div class=\"component-blocks\">\n          <!-- 文件相关组件 -->\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { ref, onMounted } from 'vue'\nimport axios from 'axios'\n\nconst props = defineProps({\n  modelValue: {\n    type: String,\n    default: 'layout'\n  }\n})\n\nconst emit = defineEmits(['update:modelValue'])\n\nconst activeTab = ref(props.modelValue)\nconst layoutComponents = ref([])\nconst componentList = ref([])\n\n// 工具栏标签\nconst toolbarTabs = [\n  { text: '布局', value: 'layout', icon: 'mdi-view-dashboard' },\n  { text: '组件', value: 'component', icon: 'mdi-puzzle' },\n  { text: '文件', value: 'file', icon: 'mdi-file' }\n]\n\n// 监听标签变化\nwatch(activeTab, (newValue) => {\n  emit('update:modelValue', newValue)\n  if (newValue === 'layout') {\n    fetchLayoutComponents()\n  } else if (newValue === 'component') {\n    fetchComponents()\n  }\n})\n\n// 获取布局组件\nconst fetchLayoutComponents = async () => {\n  try {\n    const response = await axios.get('/api/v1/resume/component-categories/layout/components/')\n    layoutComponents.value = response.data\n  } catch (error) {\n    console.error('获取布局组件失败:', error)\n  }\n}\n\n// 获取普通组件\nconst fetchComponents = async () => {\n  try {\n    const response = await axios.get('/api/v1/resume/component-categories/component/components/')\n    componentList.value = response.data\n  } catch (error) {\n    console.error('获取组件失败:', error)\n  }\n}\n\n// 处理拖拽开始事件\nconst handleDragStart = (event, component) => {\n  event.dataTransfer.setData('application/json', JSON.stringify(component))\n}\n\nonMounted(() => {\n  if (activeTab.value === 'layout') {\n    fetchLayoutComponents()\n  }\n})\n</script>\n\n<style scoped>\n.toolbar-panel {\n  height: 100%;\n  display: flex;\n}\n\n.vertical-tabs {\n  width: 48px;\n  background: #f5f7fa;\n  border-right: 1px solid #e4e7ed;\n  display: flex;\n  flex-direction: column;\n  padding: 8px 0;\n}\n\n.tab-item {\n  height: 48px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n  color: #606266;\n  transition: all 0.3s;\n  writing-mode: vertical-rl;\n  padding: 8px;\n}\n\n.tab-item:hover {\n  color: #409eff;\n  background: #ecf5ff;\n}\n\n.tab-item.active {\n  color: #409eff;\n  background: #ecf5ff;\n}\n\n.panel-content {\n  flex: 1;\n  min-width: 0;\n  overflow: hidden;\n  display: flex;\n  flex-direction: column;\n}\n\n.panel-section {\n  flex: 1;\n  overflow-y: auto;\n  padding: 16px;\n}\n\n.component-blocks {\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n}\n\n.component-block {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  padding: 12px;\n  background: #f5f7fa;\n  border: 1px solid #e4e7ed;\n  border-radius: 4px;\n  cursor: move;\n  transition: all 0.3s;\n}\n\n.component-block:hover {\n  background: #ecf5ff;\n  border-color: #409eff;\n}\n\n.block-title {\n  font-size: 14px;\n  color: #606266;\n}\n</style> "],"mappings":";;EACOA,KAAK,EAAC;AAAe;;EAEnBA,KAAK,EAAC;AAAe;mBAH9B;;EAUcA,KAAK,EAAC;AAAU;;EAKrBA,KAAK,EAAC;AAAe;;EAEaA,KAAK,EAAC;AAAe;;EACnDA,KAAK,EAAC;AAAkB;mBAlBrC;;EAyBiBA,KAAK,EAAC;AAAa;;EAMUA,KAAK,EAAC;AAAe;;EACtDA,KAAK,EAAC;AAAkB;oBAhCrC;;EAuCiBA,KAAK,EAAC;AAAa;;EAMKA,KAAK,EAAC;AAAe;;;uBA5C5DC,mBAAA,CAkDM,OAlDNC,UAkDM,GAjDJC,mBAAA,WAAc,EACdC,mBAAA,CASM,OATNC,UASM,I,cARJJ,mBAAA,CAOMK,SAAA,QAXZC,WAAA,CAIyBC,MAAA,CAAAC,WAAW,EAAlBC,GAAG;WAAfN,mBAAA,CAOM;MANHO,GAAG,EAAED,GAAG,CAACE,KAAK;MACfZ,KAAK,EANba,eAAA,EAMc,UAAU;QAAAC,MAAA,EACEN,MAAA,CAAAO,SAAS,KAAKL,GAAG,CAACE;MAAK;MACxCI,OAAK,EAAAC,MAAA,IAAET,MAAA,CAAAO,SAAS,GAAGL,GAAG,CAACE;QACxBM,YAAA,CAAsDC,iBAAA;MAA9CC,IAAI,EAAC,IAAI;MAACpB,KAAK,EAAC;;MAThCqB,OAAA,EAAAC,QAAA,CASuC,MAAc,CATrDC,gBAAA,CAAAC,gBAAA,CAS0Cd,GAAG,CAACe,IAAI,iB;MATlDC,CAAA;kCAUQtB,mBAAA,CAA4C,QAA5CuB,UAA4C,EAAAH,gBAAA,CAAlBd,GAAG,CAACkB,IAAI,iB,yBAV1CC,UAAA;oCAcI1B,mBAAA,UAAa,EACbC,mBAAA,CAmCM,OAnCN0B,UAmCM,GAlCJ3B,mBAAA,UAAa,E,gBACbC,mBAAA,CAWM,OAXN2B,UAWM,GAVJ3B,mBAAA,CASM,OATN4B,UASM,I,kBARJ/B,mBAAA,CAOMK,SAAA,QA1BhBC,WAAA,CAmBmCC,MAAA,CAAAyB,gBAAgB,EAA7BC,SAAS;yBAArBjC,mBAAA,CAOM;MANHU,GAAG,EAAEuB,SAAS,CAACC,EAAE;MAClBnC,KAAK,EAAC,iBAAiB;MACvBoC,SAAS,EAAC,MAAM;MACfC,WAAS,EAAApB,MAAA,IAAET,MAAA,CAAA8B,eAAe,CAACrB,MAAM,EAAEiB,SAAS;QAC7ChB,YAAA,CAA+CC,iBAAA;MAAvCC,IAAI,EAAC;IAAI;MAxB7BC,OAAA,EAAAC,QAAA,CAwB8B,MAAoB,CAxBlDC,gBAAA,CAAAC,gBAAA,CAwBiCU,SAAS,CAACT,IAAI,iB;MAxB/CC,CAAA;kCAyBYtB,mBAAA,CAAmD,OAAnDmC,UAAmD,EAAAf,gBAAA,CAAvBU,SAAS,CAACM,IAAI,iB,kCAzBtDC,UAAA;sEAiBmBjC,MAAA,CAAAO,SAAS,e,GAatBZ,mBAAA,UAAa,E,gBACbC,mBAAA,CAWM,OAXNsC,WAWM,GAVJtC,mBAAA,CASM,OATNuC,WASM,I,kBARJ1C,mBAAA,CAOMK,SAAA,QAxChBC,WAAA,CAiCmCC,MAAA,CAAAoC,aAAa,EAA1BV,SAAS;yBAArBjC,mBAAA,CAOM;MANHU,GAAG,EAAEuB,SAAS,CAACC,EAAE;MAClBnC,KAAK,EAAC,iBAAiB;MACvBoC,SAAS,EAAC,MAAM;MACfC,WAAS,EAAApB,MAAA,IAAET,MAAA,CAAA8B,eAAe,CAACrB,MAAM,EAAEiB,SAAS;QAC7ChB,YAAA,CAA+CC,iBAAA;MAAvCC,IAAI,EAAC;IAAI;MAtC7BC,OAAA,EAAAC,QAAA,CAsC8B,MAAoB,CAtClDC,gBAAA,CAAAC,gBAAA,CAsCiCU,SAAS,CAACT,IAAI,iB;MAtC/CC,CAAA;kCAuCYtB,mBAAA,CAAmD,OAAnDyC,WAAmD,EAAArB,gBAAA,CAAvBU,SAAS,CAACM,IAAI,iB,kCAvCtDM,WAAA;sEA+BmBtC,MAAA,CAAAO,SAAS,kB,GAatBZ,mBAAA,UAAa,E,gBACbC,mBAAA,CAIM,OAJN2C,WAIM,EAAAC,MAAA,QAAAA,MAAA,OAHJ5C,mBAAA,CAEM;IAFDJ,KAAK,EAAC;EAAkB,IAC3BG,mBAAA,YAAe,C,wDAFNK,MAAA,CAAAO,SAAS,a","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}