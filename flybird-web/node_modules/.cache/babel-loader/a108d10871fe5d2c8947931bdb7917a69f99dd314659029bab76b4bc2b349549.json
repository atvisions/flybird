{"ast":null,"code":"import _objectSpread from \"/Users/liuzhao/Documents/Projects/flybird/flybird-web/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport { ref, watch } from 'vue';\nexport default {\n  __name: 'Skills',\n  props: {\n    config: {\n      type: Object,\n      default: () => ({\n        categories: []\n      })\n    }\n  },\n  emits: ['update:config'],\n  setup(__props, {\n    expose: __expose,\n    emit: __emit\n  }) {\n    __expose();\n    const props = __props;\n    const emit = __emit;\n    const skillCategories = ref(props.config.categories || []);\n\n    // 监听配置变化\n    watch(() => props.config, newConfig => {\n      skillCategories.value = newConfig.categories || [];\n    }, {\n      deep: true\n    });\n\n    // 添加技能类别\n    const addCategory = () => {\n      skillCategories.value.push({\n        name: '',\n        skills: []\n      });\n      updateConfig();\n    };\n\n    // 移除技能类别\n    const removeCategory = index => {\n      skillCategories.value.splice(index, 1);\n      updateConfig();\n    };\n\n    // 添加技能\n    const addSkill = categoryIndex => {\n      skillCategories.value[categoryIndex].skills.push({\n        name: '',\n        level: 3\n      });\n      updateConfig();\n    };\n\n    // 移除技能\n    const removeSkill = (categoryIndex, skillIndex) => {\n      skillCategories.value[categoryIndex].skills.splice(skillIndex, 1);\n      updateConfig();\n    };\n\n    // 更新配置\n    const updateConfig = () => {\n      emit('update:config', _objectSpread(_objectSpread({}, props.config), {}, {\n        categories: skillCategories.value\n      }));\n    };\n    const __returned__ = {\n      props,\n      emit,\n      skillCategories,\n      addCategory,\n      removeCategory,\n      addSkill,\n      removeSkill,\n      updateConfig,\n      ref,\n      watch\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","watch","props","__props","emit","__emit","skillCategories","config","categories","newConfig","value","deep","addCategory","push","name","skills","updateConfig","removeCategory","index","splice","addSkill","categoryIndex","level","removeSkill","skillIndex","_objectSpread"],"sources":["/Users/liuzhao/Documents/Projects/flybird/flybird-web/src/views/resume-editor/components/Skills.vue"],"sourcesContent":["<template>\n  <div class=\"skills\">\n    <v-container>\n      <div v-for=\"(category, index) in skillCategories\" :key=\"index\" class=\"skill-category\">\n        <div class=\"d-flex align-center justify-space-between mb-2\">\n          <h3 class=\"text-h6\">技能类别 {{ index + 1 }}</h3>\n          <v-btn\n            icon=\"mdi-delete\"\n            size=\"small\"\n            color=\"error\"\n            variant=\"text\"\n            @click=\"removeCategory(index)\"\n          ></v-btn>\n        </div>\n        \n        <v-row>\n          <v-col cols=\"12\">\n            <v-text-field\n              v-model=\"category.name\"\n              label=\"类别名称\"\n              required\n              :rules=\"[v => !!v || '请输入类别名称']\"\n              @input=\"updateConfig\"\n            ></v-text-field>\n          </v-col>\n          \n          <v-col cols=\"12\">\n            <div v-for=\"(skill, skillIndex) in category.skills\" :key=\"skillIndex\" class=\"skill-item\">\n              <div class=\"d-flex align-center gap-4\">\n                <v-text-field\n                  v-model=\"skill.name\"\n                  label=\"技能名称\"\n                  class=\"flex-grow-1\"\n                  @input=\"updateConfig\"\n                ></v-text-field>\n                \n                <v-rating\n                  v-model=\"skill.level\"\n                  color=\"warning\"\n                  hover\n                  length=\"5\"\n                  size=\"small\"\n                  @update:modelValue=\"updateConfig\"\n                ></v-rating>\n                \n                <v-btn\n                  icon=\"mdi-delete\"\n                  size=\"small\"\n                  color=\"error\"\n                  variant=\"text\"\n                  @click=\"removeSkill(index, skillIndex)\"\n                ></v-btn>\n              </div>\n            </div>\n            \n            <div class=\"text-center mt-2\">\n              <v-btn\n                color=\"primary\"\n                variant=\"text\"\n                size=\"small\"\n                prepend-icon=\"mdi-plus\"\n                @click=\"addSkill(index)\"\n              >\n                添加技能\n              </v-btn>\n            </div>\n          </v-col>\n        </v-row>\n        \n        <v-divider v-if=\"index < skillCategories.length - 1\" class=\"my-4\"></v-divider>\n      </div>\n\n      <div class=\"text-center mt-4\">\n        <v-btn\n          color=\"primary\"\n          variant=\"text\"\n          prepend-icon=\"mdi-plus\"\n          @click=\"addCategory\"\n        >\n          添加技能类别\n        </v-btn>\n      </div>\n    </v-container>\n  </div>\n</template>\n\n<script setup>\nimport { ref, watch } from 'vue'\n\nconst props = defineProps({\n  config: {\n    type: Object,\n    default: () => ({\n      categories: []\n    })\n  }\n})\n\nconst emit = defineEmits(['update:config'])\n\nconst skillCategories = ref(props.config.categories || [])\n\n// 监听配置变化\nwatch(() => props.config, (newConfig) => {\n  skillCategories.value = newConfig.categories || []\n}, { deep: true })\n\n// 添加技能类别\nconst addCategory = () => {\n  skillCategories.value.push({\n    name: '',\n    skills: []\n  })\n  updateConfig()\n}\n\n// 移除技能类别\nconst removeCategory = (index) => {\n  skillCategories.value.splice(index, 1)\n  updateConfig()\n}\n\n// 添加技能\nconst addSkill = (categoryIndex) => {\n  skillCategories.value[categoryIndex].skills.push({\n    name: '',\n    level: 3\n  })\n  updateConfig()\n}\n\n// 移除技能\nconst removeSkill = (categoryIndex, skillIndex) => {\n  skillCategories.value[categoryIndex].skills.splice(skillIndex, 1)\n  updateConfig()\n}\n\n// 更新配置\nconst updateConfig = () => {\n  emit('update:config', {\n    ...props.config,\n    categories: skillCategories.value\n  })\n}\n</script>\n\n<style scoped>\n.skills {\n  padding: 16px;\n}\n\n.skill-category {\n  margin-bottom: 24px;\n}\n\n.skill-item {\n  margin-bottom: 8px;\n}\n</style> "],"mappings":";AAuFA,SAASA,GAAG,EAAEC,KAAK,QAAQ,KAAI;;;;;;;;;;;;;;;;;IAE/B,MAAMC,KAAK,GAAGC,OAAA;IASd,MAAMC,IAAI,GAAGC,MAAA;IAEb,MAAMC,eAAe,GAAGN,GAAG,CAACE,KAAK,CAACK,MAAM,CAACC,UAAU,IAAI,EAAE;;IAEzD;IACAP,KAAK,CAAC,MAAMC,KAAK,CAACK,MAAM,EAAGE,SAAS,IAAK;MACvCH,eAAe,CAACI,KAAK,GAAGD,SAAS,CAACD,UAAU,IAAI,EAAC;IACnD,CAAC,EAAE;MAAEG,IAAI,EAAE;IAAK,CAAC;;IAEjB;IACA,MAAMC,WAAW,GAAGA,CAAA,KAAM;MACxBN,eAAe,CAACI,KAAK,CAACG,IAAI,CAAC;QACzBC,IAAI,EAAE,EAAE;QACRC,MAAM,EAAE;MACV,CAAC;MACDC,YAAY,CAAC;IACf;;IAEA;IACA,MAAMC,cAAc,GAAIC,KAAK,IAAK;MAChCZ,eAAe,CAACI,KAAK,CAACS,MAAM,CAACD,KAAK,EAAE,CAAC;MACrCF,YAAY,CAAC;IACf;;IAEA;IACA,MAAMI,QAAQ,GAAIC,aAAa,IAAK;MAClCf,eAAe,CAACI,KAAK,CAACW,aAAa,CAAC,CAACN,MAAM,CAACF,IAAI,CAAC;QAC/CC,IAAI,EAAE,EAAE;QACRQ,KAAK,EAAE;MACT,CAAC;MACDN,YAAY,CAAC;IACf;;IAEA;IACA,MAAMO,WAAW,GAAGA,CAACF,aAAa,EAAEG,UAAU,KAAK;MACjDlB,eAAe,CAACI,KAAK,CAACW,aAAa,CAAC,CAACN,MAAM,CAACI,MAAM,CAACK,UAAU,EAAE,CAAC;MAChER,YAAY,CAAC;IACf;;IAEA;IACA,MAAMA,YAAY,GAAGA,CAAA,KAAM;MACzBZ,IAAI,CAAC,eAAe,EAAAqB,aAAA,CAAAA,aAAA,KACfvB,KAAK,CAACK,MAAM;QACfC,UAAU,EAAEF,eAAe,CAACI;MAAI,EACjC;IACH","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}